function qj(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var ng={exports:{}},vl={},rg={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=Symbol.for("react.element"),Yj=Symbol.for("react.portal"),Qj=Symbol.for("react.fragment"),Jj=Symbol.for("react.strict_mode"),Xj=Symbol.for("react.profiler"),Zj=Symbol.for("react.provider"),eN=Symbol.for("react.context"),tN=Symbol.for("react.forward_ref"),nN=Symbol.for("react.suspense"),rN=Symbol.for("react.memo"),sN=Symbol.for("react.lazy"),If=Symbol.iterator;function aN(e){return e===null||typeof e!="object"?null:(e=If&&e[If]||e["@@iterator"],typeof e=="function"?e:null)}var sg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ag=Object.assign,ig={};function ua(e,t,n){this.props=e,this.context=t,this.refs=ig,this.updater=n||sg}ua.prototype.isReactComponent={};ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function og(){}og.prototype=ua.prototype;function Gu(e,t,n){this.props=e,this.context=t,this.refs=ig,this.updater=n||sg}var Hu=Gu.prototype=new og;Hu.constructor=Gu;ag(Hu,ua.prototype);Hu.isPureReactComponent=!0;var Lf=Array.isArray,lg=Object.prototype.hasOwnProperty,qu={current:null},cg={key:!0,ref:!0,__self:!0,__source:!0};function dg(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)lg.call(t,s)&&!cg.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Ri,type:e,key:i,ref:o,props:a,_owner:qu.current}}function iN(e,t){return{$$typeof:Ri,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ri}function oN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ff=/\/+/g;function xc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oN(""+e.key):t.toString(36)}function No(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ri:case Yj:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+xc(o,0):s,Lf(a)?(n="",e!=null&&(n=e.replace(Ff,"$&/")+"/"),No(a,t,n,"",function(d){return d})):a!=null&&(Ku(a)&&(a=iN(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ff,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Lf(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+xc(i,l);o+=No(i,t,n,c,a)}else if(c=aN(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+xc(i,l++),o+=No(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gi(e,t,n){if(e==null)return e;var s=[],a=0;return No(e,s,"","",function(i){return t.call(n,i,a++)}),s}function lN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},bo={transition:null},cN={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:bo,ReactCurrentOwner:qu};function ug(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Gi,forEach:function(e,t,n){Gi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!Ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=ua;_e.Fragment=Qj;_e.Profiler=Xj;_e.PureComponent=Gu;_e.StrictMode=Jj;_e.Suspense=nN;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cN;_e.act=ug;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=ag({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qu.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)lg.call(t,c)&&!cg.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Ri,type:e.type,key:a,ref:i,props:s,_owner:o}};_e.createContext=function(e){return e={$$typeof:eN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zj,_context:e},e.Consumer=e};_e.createElement=dg;_e.createFactory=function(e){var t=dg.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:tN,render:e}};_e.isValidElement=Ku;_e.lazy=function(e){return{$$typeof:sN,_payload:{_status:-1,_result:e},_init:lN}};_e.memo=function(e,t){return{$$typeof:rN,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=bo.transition;bo.transition={};try{e()}finally{bo.transition=t}};_e.unstable_act=ug;_e.useCallback=function(e,t){return gt.current.useCallback(e,t)};_e.useContext=function(e){return gt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return gt.current.useEffect(e,t)};_e.useId=function(){return gt.current.useId()};_e.useImperativeHandle=function(e,t,n){return gt.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return gt.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return gt.current.useReducer(e,t,n)};_e.useRef=function(e){return gt.current.useRef(e)};_e.useState=function(e){return gt.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return gt.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return gt.current.useTransition()};_e.version="18.3.1";rg.exports=_e;var h=rg.exports;const X=tg(h),Yu=qj({__proto__:null,default:X},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN=h,uN=Symbol.for("react.element"),hN=Symbol.for("react.fragment"),fN=Object.prototype.hasOwnProperty,mN=dN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pN={key:!0,ref:!0,__self:!0,__source:!0};function hg(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)fN.call(t,s)&&!pN.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:uN,type:e,key:i,ref:o,props:a,_owner:mN.current}}vl.Fragment=hN;vl.jsx=hg;vl.jsxs=hg;ng.exports=vl;var r=ng.exports,gd={},fg={exports:{}},$t={},mg={exports:{}},pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,C){var _=A.length;A.push(C);e:for(;0<_;){var L=_-1>>>1,I=A[L];if(0<a(I,C))A[L]=C,A[_]=I,_=L;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var C=A[0],_=A.pop();if(_!==C){A[0]=_;e:for(var L=0,I=A.length,W=I>>>1;L<W;){var G=2*(L+1)-1,Z=A[G],ce=G+1,V=A[ce];if(0>a(Z,_))ce<I&&0>a(V,Z)?(A[L]=V,A[ce]=_,L=ce):(A[L]=Z,A[G]=_,L=G);else if(ce<I&&0>a(V,_))A[L]=V,A[ce]=_,L=ce;else break e}}return C}function a(A,C){var _=A.sortIndex-C.sortIndex;return _!==0?_:A.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,g=3,p=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var C=n(d);C!==null;){if(C.callback===null)s(d);else if(C.startTime<=A)s(d),C.sortIndex=C.expirationTime,t(c,C);else break;C=n(d)}}function N(A){if(w=!1,m(A),!b)if(n(c)!==null)b=!0,$(k);else{var C=n(d);C!==null&&D(N,C.startTime-A)}}function k(A,C){b=!1,w&&(w=!1,x(E),E=-1),p=!0;var _=g;try{for(m(C),f=n(c);f!==null&&(!(f.expirationTime>C)||A&&!H());){var L=f.callback;if(typeof L=="function"){f.callback=null,g=f.priorityLevel;var I=L(f.expirationTime<=C);C=e.unstable_now(),typeof I=="function"?f.callback=I:f===n(c)&&s(c),m(C)}else s(c);f=n(c)}if(f!==null)var W=!0;else{var G=n(d);G!==null&&D(N,G.startTime-C),W=!1}return W}finally{f=null,g=_,p=!1}}var S=!1,T=null,E=-1,B=5,U=-1;function H(){return!(e.unstable_now()-U<B)}function R(){if(T!==null){var A=e.unstable_now();U=A;var C=!0;try{C=T(!0,A)}finally{C?P():(S=!1,T=null)}}else S=!1}var P;if(typeof v=="function")P=function(){v(R)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,M=F.port2;F.port1.onmessage=R,P=function(){M.postMessage(null)}}else P=function(){y(R,0)};function $(A){T=A,S||(S=!0,P())}function D(A,C){E=y(function(){A(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,$(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(g){case 1:case 2:case 3:var C=3;break;default:C=g}var _=g;g=C;try{return A()}finally{g=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var _=g;g=A;try{return C()}finally{g=_}},e.unstable_scheduleCallback=function(A,C,_){var L=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?L+_:L):_=L,A){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=_+I,A={id:u++,callback:C,priorityLevel:A,startTime:_,expirationTime:I,sortIndex:-1},_>L?(A.sortIndex=_,t(d,A),n(c)===null&&A===n(d)&&(w?(x(E),E=-1):w=!0,D(N,_-L))):(A.sortIndex=I,t(c,A),b||p||(b=!0,$(k))),A},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(A){var C=g;return function(){var _=g;g=C;try{return A.apply(this,arguments)}finally{g=_}}}})(pg);mg.exports=pg;var gN=mg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN=h,Lt=gN;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gg=new Set,ai={};function fs(e,t){ea(e,t),ea(e+"Capture",t)}function ea(e,t){for(ai[e]=t,e=0;e<t.length;e++)gg.add(t[e])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xd=Object.prototype.hasOwnProperty,vN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$f={},Uf={};function yN(e){return xd.call(Uf,e)?!0:xd.call($f,e)?!1:vN.test(e)?Uf[e]=!0:($f[e]=!0,!1)}function wN(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jN(e,t,n,s){if(t===null||typeof t>"u"||wN(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qu=/[\-:]([a-z])/g;function Ju(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qu,Ju);st[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qu,Ju);st[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qu,Ju);st[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xu(e,t,n,s){var a=st.hasOwnProperty(t)?st[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jN(t,n,a,s)&&(n=null),s||a===null?yN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Qn=xN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hi=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),xg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),wd=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),yg=Symbol.for("react.offscreen"),zf=Symbol.iterator;function ka(e){return e===null||typeof e!="object"?null:(e=zf&&e[zf]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,vc;function $a(e){if(vc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vc=t&&t[1]||""}return`
`+vc+e}var yc=!1;function wc(e,t){if(!e||yc)return"";yc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$a(e):""}function NN(e){switch(e.tag){case 5:return $a(e.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return e=wc(e.type,!1),e;case 11:return e=wc(e.type.render,!1),e;case 1:return e=wc(e.type,!0),e;default:return""}}function jd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ms:return"Fragment";case Ds:return"Portal";case vd:return"Profiler";case Zu:return"StrictMode";case yd:return"Suspense";case wd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vg:return(e.displayName||"Context")+".Consumer";case xg:return(e._context.displayName||"Context")+".Provider";case eh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case th:return t=e.displayName||null,t!==null?t:jd(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return jd(e(t))}catch{}}return null}function bN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jd(t);case 8:return t===Zu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _N(e){var t=wg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qi(e){e._valueTracker||(e._valueTracker=_N(e))}function jg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=wg(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nd(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bf(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ng(e,t){t=t.checked,t!=null&&Xu(e,"checked",t,!1)}function bd(e,t){Ng(e,t);var n=Cr(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_d(e,t.type,n):t.hasOwnProperty("defaultValue")&&_d(e,t.type,Cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _d(e,t,n){(t!=="number"||Lo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ua=Array.isArray;function Gs(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Cr(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Sd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(Ua(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cr(n)}}function bg(e,t){var n=Cr(t.value),s=Cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Gf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _g(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_g(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ki,Sg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SN=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(e){SN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ha[t]=Ha[e]})});function Cg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ha.hasOwnProperty(e)&&Ha[e]?(""+t).trim():t+"px"}function kg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Cg(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var CN=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kd(e,t){if(t){if(CN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Ed(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function nh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pd=null,Hs=null,qs=null;function Hf(e){if(e=Mi(e)){if(typeof Pd!="function")throw Error(J(280));var t=e.stateNode;t&&(t=bl(t),Pd(e.stateNode,e.type,t))}}function Eg(e){Hs?qs?qs.push(e):qs=[e]:Hs=e}function Tg(){if(Hs){var e=Hs,t=qs;if(qs=Hs=null,Hf(e),t)for(e=0;e<t.length;e++)Hf(t[e])}}function Pg(e,t){return e(t)}function Rg(){}var jc=!1;function Ag(e,t,n){if(jc)return e(t,n);jc=!0;try{return Pg(e,t,n)}finally{jc=!1,(Hs!==null||qs!==null)&&(Rg(),Tg())}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var s=bl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Rd=!1;if(Wn)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Rd=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Rd=!1}function kN(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var qa=!1,Fo=null,$o=!1,Ad=null,EN={onError:function(e){qa=!0,Fo=e}};function TN(e,t,n,s,a,i,o,l,c){qa=!1,Fo=null,kN.apply(EN,arguments)}function PN(e,t,n,s,a,i,o,l,c){if(TN.apply(this,arguments),qa){if(qa){var d=Fo;qa=!1,Fo=null}else throw Error(J(198));$o||($o=!0,Ad=d)}}function ms(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qf(e){if(ms(e)!==e)throw Error(J(188))}function RN(e){var t=e.alternate;if(!t){if(t=ms(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qf(a),e;if(i===s)return qf(a),t;i=i.sibling}throw Error(J(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==s)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function Mg(e){return e=RN(e),e!==null?Og(e):null}function Og(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Og(e);if(t!==null)return t;e=e.sibling}return null}var Ig=Lt.unstable_scheduleCallback,Kf=Lt.unstable_cancelCallback,AN=Lt.unstable_shouldYield,DN=Lt.unstable_requestPaint,We=Lt.unstable_now,MN=Lt.unstable_getCurrentPriorityLevel,rh=Lt.unstable_ImmediatePriority,Lg=Lt.unstable_UserBlockingPriority,Uo=Lt.unstable_NormalPriority,ON=Lt.unstable_LowPriority,Fg=Lt.unstable_IdlePriority,yl=null,Sn=null;function IN(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(yl,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:$N,LN=Math.log,FN=Math.LN2;function $N(e){return e>>>=0,e===0?32:31-(LN(e)/FN|0)|0}var Yi=64,Qi=4194304;function za(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zo(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=za(l):(i&=o,i!==0&&(s=za(i)))}else o=n&~a,o!==0?s=za(o):i!==0&&(s=za(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-dn(t),a=1<<n,s|=e[n],t&=~a;return s}function UN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zN(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-dn(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=UN(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $g(){var e=Yi;return Yi<<=1,!(Yi&4194240)&&(Yi=64),e}function Nc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ai(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dn(t),e[t]=n}function BN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-dn(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function sh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-dn(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Ce=0;function Ug(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zg,ah,Bg,Vg,Wg,Md=!1,Ji=[],xr=null,vr=null,yr=null,li=new Map,ci=new Map,ur=[],VN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yf(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function Ta(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Mi(t),t!==null&&ah(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function WN(e,t,n,s,a){switch(t){case"focusin":return xr=Ta(xr,e,t,n,s,a),!0;case"dragenter":return vr=Ta(vr,e,t,n,s,a),!0;case"mouseover":return yr=Ta(yr,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return li.set(i,Ta(li.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,ci.set(i,Ta(ci.get(i)||null,e,t,n,s,a)),!0}return!1}function Gg(e){var t=Yr(e.target);if(t!==null){var n=ms(t);if(n!==null){if(t=n.tag,t===13){if(t=Dg(n),t!==null){e.blockedOn=t,Wg(e.priority,function(){Bg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Od(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Td=s,n.target.dispatchEvent(s),Td=null}else return t=Mi(n),t!==null&&ah(t),e.blockedOn=n,!1;t.shift()}return!0}function Qf(e,t,n){_o(e)&&n.delete(t)}function GN(){Md=!1,xr!==null&&_o(xr)&&(xr=null),vr!==null&&_o(vr)&&(vr=null),yr!==null&&_o(yr)&&(yr=null),li.forEach(Qf),ci.forEach(Qf)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Md||(Md=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,GN)))}function di(e){function t(a){return Pa(a,e)}if(0<Ji.length){Pa(Ji[0],e);for(var n=1;n<Ji.length;n++){var s=Ji[n];s.blockedOn===e&&(s.blockedOn=null)}}for(xr!==null&&Pa(xr,e),vr!==null&&Pa(vr,e),yr!==null&&Pa(yr,e),li.forEach(t),ci.forEach(t),n=0;n<ur.length;n++)s=ur[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)Gg(n),n.blockedOn===null&&ur.shift()}var Ks=Qn.ReactCurrentBatchConfig,Bo=!0;function HN(e,t,n,s){var a=Ce,i=Ks.transition;Ks.transition=null;try{Ce=1,ih(e,t,n,s)}finally{Ce=a,Ks.transition=i}}function qN(e,t,n,s){var a=Ce,i=Ks.transition;Ks.transition=null;try{Ce=4,ih(e,t,n,s)}finally{Ce=a,Ks.transition=i}}function ih(e,t,n,s){if(Bo){var a=Od(e,t,n,s);if(a===null)Ac(e,t,s,Vo,n),Yf(e,s);else if(WN(a,e,t,n,s))s.stopPropagation();else if(Yf(e,s),t&4&&-1<VN.indexOf(e)){for(;a!==null;){var i=Mi(a);if(i!==null&&zg(i),i=Od(e,t,n,s),i===null&&Ac(e,t,s,Vo,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Ac(e,t,s,null,n)}}var Vo=null;function Od(e,t,n,s){if(Vo=null,e=nh(s),e=Yr(e),e!==null)if(t=ms(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Dg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vo=e,null}function Hg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MN()){case rh:return 1;case Lg:return 4;case Uo:case ON:return 16;case Fg:return 536870912;default:return 16}default:return 16}}var mr=null,oh=null,So=null;function qg(){if(So)return So;var e,t=oh,n=t.length,s,a="value"in mr?mr.value:mr.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return So=a.slice(e,1<s?1-s:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function Jf(){return!1}function Ut(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xi:Jf,this.isPropagationStopped=Jf,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=Ut(ha),Di=Ue({},ha,{view:0,detail:0}),KN=Ut(Di),bc,_c,Ra,wl=Ue({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ch,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(bc=e.screenX-Ra.screenX,_c=e.screenY-Ra.screenY):_c=bc=0,Ra=e),bc)},movementY:function(e){return"movementY"in e?e.movementY:_c}}),Xf=Ut(wl),YN=Ue({},wl,{dataTransfer:0}),QN=Ut(YN),JN=Ue({},Di,{relatedTarget:0}),Sc=Ut(JN),XN=Ue({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),ZN=Ut(XN),eb=Ue({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tb=Ut(eb),nb=Ue({},ha,{data:0}),Zf=Ut(nb),rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ib(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ab[e])?!!t[e]:!1}function ch(){return ib}var ob=Ue({},Di,{key:function(e){if(e.key){var t=rb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ch,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lb=Ut(ob),cb=Ue({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=Ut(cb),db=Ue({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ch}),ub=Ut(db),hb=Ue({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),fb=Ut(hb),mb=Ue({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pb=Ut(mb),gb=[9,13,27,32],dh=Wn&&"CompositionEvent"in window,Ka=null;Wn&&"documentMode"in document&&(Ka=document.documentMode);var xb=Wn&&"TextEvent"in window&&!Ka,Kg=Wn&&(!dh||Ka&&8<Ka&&11>=Ka),tm=" ",nm=!1;function Yg(e,t){switch(e){case"keyup":return gb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function vb(e,t){switch(e){case"compositionend":return Qg(t);case"keypress":return t.which!==32?null:(nm=!0,tm);case"textInput":return e=t.data,e===tm&&nm?null:e;default:return null}}function yb(e,t){if(Os)return e==="compositionend"||!dh&&Yg(e,t)?(e=qg(),So=oh=mr=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kg&&t.locale!=="ko"?null:t.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wb[e.type]:t==="textarea"}function Jg(e,t,n,s){Eg(s),t=Wo(t,"onChange"),0<t.length&&(n=new lh("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ya=null,ui=null;function jb(e){lx(e,0)}function jl(e){var t=Fs(e);if(jg(t))return e}function Nb(e,t){if(e==="change")return t}var Xg=!1;if(Wn){var Cc;if(Wn){var kc="oninput"in document;if(!kc){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),kc=typeof sm.oninput=="function"}Cc=kc}else Cc=!1;Xg=Cc&&(!document.documentMode||9<document.documentMode)}function am(){Ya&&(Ya.detachEvent("onpropertychange",Zg),ui=Ya=null)}function Zg(e){if(e.propertyName==="value"&&jl(ui)){var t=[];Jg(t,ui,e,nh(e)),Ag(jb,t)}}function bb(e,t,n){e==="focusin"?(am(),Ya=t,ui=n,Ya.attachEvent("onpropertychange",Zg)):e==="focusout"&&am()}function _b(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(ui)}function Sb(e,t){if(e==="click")return jl(t)}function Cb(e,t){if(e==="input"||e==="change")return jl(t)}function kb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:kb;function hi(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!xd.call(t,a)||!fn(e[a],t[a]))return!1}return!0}function im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function om(e,t){var n=im(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=im(n)}}function ex(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ex(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tx(){for(var e=window,t=Lo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lo(e.document)}return t}function uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eb(e){var t=tx(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ex(n.ownerDocument.documentElement,n)){if(s!==null&&uh(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=om(n,i);var o=om(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tb=Wn&&"documentMode"in document&&11>=document.documentMode,Is=null,Id=null,Qa=null,Ld=!1;function lm(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ld||Is==null||Is!==Lo(s)||(s=Is,"selectionStart"in s&&uh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qa&&hi(Qa,s)||(Qa=s,s=Wo(Id,"onSelect"),0<s.length&&(t=new lh("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Is)))}function Zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ls={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Ec={},nx={};Wn&&(nx=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Nl(e){if(Ec[e])return Ec[e];if(!Ls[e])return e;var t=Ls[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nx)return Ec[e]=t[n];return e}var rx=Nl("animationend"),sx=Nl("animationiteration"),ax=Nl("animationstart"),ix=Nl("transitionend"),ox=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){ox.set(e,t),fs(t,[e])}for(var Tc=0;Tc<cm.length;Tc++){var Pc=cm[Tc],Pb=Pc.toLowerCase(),Rb=Pc[0].toUpperCase()+Pc.slice(1);Ar(Pb,"on"+Rb)}Ar(rx,"onAnimationEnd");Ar(sx,"onAnimationIteration");Ar(ax,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(ix,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ab=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function dm(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,PN(s,t,void 0,e),e.currentTarget=null}function lx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;dm(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;dm(a,l,d),i=c}}}if($o)throw e=Ad,$o=!1,Ad=null,e}function Me(e,t){var n=t[Bd];n===void 0&&(n=t[Bd]=new Set);var s=e+"__bubble";n.has(s)||(cx(t,e,2,!1),n.add(s))}function Rc(e,t,n){var s=0;t&&(s|=4),cx(n,e,s,t)}var eo="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[eo]){e[eo]=!0,gg.forEach(function(n){n!=="selectionchange"&&(Ab.has(n)||Rc(n,!1,e),Rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eo]||(t[eo]=!0,Rc("selectionchange",!1,t))}}function cx(e,t,n,s){switch(Hg(t)){case 1:var a=HN;break;case 4:a=qN;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!Rd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ac(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Yr(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Ag(function(){var d=i,u=nh(n),f=[];e:{var g=ox.get(e);if(g!==void 0){var p=lh,b=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":p=lb;break;case"focusin":b="focus",p=Sc;break;case"focusout":b="blur",p=Sc;break;case"beforeblur":case"afterblur":p=Sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ub;break;case rx:case sx:case ax:p=ZN;break;case ix:p=fb;break;case"scroll":p=KN;break;case"wheel":p=pb;break;case"copy":case"cut":case"paste":p=tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=em}var w=(t&4)!==0,y=!w&&e==="scroll",x=w?g!==null?g+"Capture":null:g;w=[];for(var v=d,m;v!==null;){m=v;var N=m.stateNode;if(m.tag===5&&N!==null&&(m=N,x!==null&&(N=oi(v,x),N!=null&&w.push(mi(v,N,m)))),y)break;v=v.return}0<w.length&&(g=new p(g,b,null,n,u),f.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",g&&n!==Td&&(b=n.relatedTarget||n.fromElement)&&(Yr(b)||b[Gn]))break e;if((p||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=d,b=b?Yr(b):null,b!==null&&(y=ms(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=d),p!==b)){if(w=Xf,N="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=em,N="onPointerLeave",x="onPointerEnter",v="pointer"),y=p==null?g:Fs(p),m=b==null?g:Fs(b),g=new w(N,v+"leave",p,n,u),g.target=y,g.relatedTarget=m,N=null,Yr(u)===d&&(w=new w(x,v+"enter",b,n,u),w.target=m,w.relatedTarget=y,N=w),y=N,p&&b)t:{for(w=p,x=b,v=0,m=w;m;m=bs(m))v++;for(m=0,N=x;N;N=bs(N))m++;for(;0<v-m;)w=bs(w),v--;for(;0<m-v;)x=bs(x),m--;for(;v--;){if(w===x||x!==null&&w===x.alternate)break t;w=bs(w),x=bs(x)}w=null}else w=null;p!==null&&um(f,g,p,w,!1),b!==null&&y!==null&&um(f,y,b,w,!0)}}e:{if(g=d?Fs(d):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var k=Nb;else if(rm(g))if(Xg)k=Cb;else{k=_b;var S=bb}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=Sb);if(k&&(k=k(e,d))){Jg(f,k,n,u);break e}S&&S(e,g,d),e==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&_d(g,"number",g.value)}switch(S=d?Fs(d):window,e){case"focusin":(rm(S)||S.contentEditable==="true")&&(Is=S,Id=d,Qa=null);break;case"focusout":Qa=Id=Is=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,lm(f,n,u);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":lm(f,n,u)}var T;if(dh)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Os?Yg(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Kg&&n.locale!=="ko"&&(Os||E!=="onCompositionStart"?E==="onCompositionEnd"&&Os&&(T=qg()):(mr=u,oh="value"in mr?mr.value:mr.textContent,Os=!0)),S=Wo(d,E),0<S.length&&(E=new Zf(E,e,null,n,u),f.push({event:E,listeners:S}),T?E.data=T:(T=Qg(n),T!==null&&(E.data=T)))),(T=xb?vb(e,n):yb(e,n))&&(d=Wo(d,"onBeforeInput"),0<d.length&&(u=new Zf("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=T))}lx(f,t)})}function mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wo(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=oi(e,n),i!=null&&s.unshift(mi(e,i,a)),i=oi(e,t),i!=null&&s.push(mi(e,i,a))),e=e.return}return s}function bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function um(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=oi(n,i),c!=null&&o.unshift(mi(n,c,l))):a||(c=oi(n,i),c!=null&&o.push(mi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Db=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function hm(e){return(typeof e=="string"?e:""+e).replace(Db,`
`).replace(Mb,"")}function to(e,t,n){if(t=hm(t),hm(e)!==t&&n)throw Error(J(425))}function Go(){}var Fd=null,$d=null;function Ud(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,Ib=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(e){return fm.resolve(null).then(e).catch(Lb)}:zd;function Lb(e){setTimeout(function(){throw e})}function Dc(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),di(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);di(t)}function wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),jn="__reactFiber$"+fa,pi="__reactProps$"+fa,Gn="__reactContainer$"+fa,Bd="__reactEvents$"+fa,Fb="__reactListeners$"+fa,$b="__reactHandles$"+fa;function Yr(e){var t=e[jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gn]||n[jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mm(e);e!==null;){if(n=e[jn])return n;e=mm(e)}return t}e=n,n=e.parentNode}return null}function Mi(e){return e=e[jn]||e[Gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function bl(e){return e[pi]||null}var Vd=[],$s=-1;function Dr(e){return{current:e}}function Oe(e){0>$s||(e.current=Vd[$s],Vd[$s]=null,$s--)}function Ae(e,t){$s++,Vd[$s]=e.current,e.current=t}var kr={},ct=Dr(kr),_t=Dr(!1),ts=kr;function ta(e,t){var n=e.type.contextTypes;if(!n)return kr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function St(e){return e=e.childContextTypes,e!=null}function Ho(){Oe(_t),Oe(ct)}function pm(e,t,n){if(ct.current!==kr)throw Error(J(168));Ae(ct,t),Ae(_t,n)}function dx(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(J(108,bN(e)||"Unknown",a));return Ue({},n,s)}function qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,ts=ct.current,Ae(ct,e),Ae(_t,_t.current),!0}function gm(e,t,n){var s=e.stateNode;if(!s)throw Error(J(169));n?(e=dx(e,t,ts),s.__reactInternalMemoizedMergedChildContext=e,Oe(_t),Oe(ct),Ae(ct,e)):Oe(_t),Ae(_t,n)}var Un=null,_l=!1,Mc=!1;function ux(e){Un===null?Un=[e]:Un.push(e)}function Ub(e){_l=!0,ux(e)}function Mr(){if(!Mc&&Un!==null){Mc=!0;var e=0,t=Ce;try{var n=Un;for(Ce=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Un=null,_l=!1}catch(a){throw Un!==null&&(Un=Un.slice(e+1)),Ig(rh,Mr),a}finally{Ce=t,Mc=!1}}return null}var Us=[],zs=0,Ko=null,Yo=0,Bt=[],Vt=0,ns=null,zn=1,Bn="";function Gr(e,t){Us[zs++]=Yo,Us[zs++]=Ko,Ko=e,Yo=t}function hx(e,t,n){Bt[Vt++]=zn,Bt[Vt++]=Bn,Bt[Vt++]=ns,ns=e;var s=zn;e=Bn;var a=32-dn(s)-1;s&=~(1<<a),n+=1;var i=32-dn(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,zn=1<<32-dn(t)+a|n<<a|s,Bn=i+e}else zn=1<<i|n<<a|s,Bn=e}function hh(e){e.return!==null&&(Gr(e,1),hx(e,1,0))}function fh(e){for(;e===Ko;)Ko=Us[--zs],Us[zs]=null,Yo=Us[--zs],Us[zs]=null;for(;e===ns;)ns=Bt[--Vt],Bt[Vt]=null,Bn=Bt[--Vt],Bt[Vt]=null,zn=Bt[--Vt],Bt[Vt]=null}var Ot=null,Mt=null,Le=!1,on=null;function fx(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Mt=wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ns!==null?{id:zn,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Mt=null,!0):!1;default:return!1}}function Wd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gd(e){if(Le){var t=Mt;if(t){var n=t;if(!xm(e,t)){if(Wd(e))throw Error(J(418));t=wr(n.nextSibling);var s=Ot;t&&xm(e,t)?fx(s,n):(e.flags=e.flags&-4097|2,Le=!1,Ot=e)}}else{if(Wd(e))throw Error(J(418));e.flags=e.flags&-4097|2,Le=!1,Ot=e}}}function vm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function no(e){if(e!==Ot)return!1;if(!Le)return vm(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ud(e.type,e.memoizedProps)),t&&(t=Mt)){if(Wd(e))throw mx(),Error(J(418));for(;t;)fx(e,t),t=wr(t.nextSibling)}if(vm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mt=wr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Ot?wr(e.stateNode.nextSibling):null;return!0}function mx(){for(var e=Mt;e;)e=wr(e.nextSibling)}function na(){Mt=Ot=null,Le=!1}function mh(e){on===null?on=[e]:on.push(e)}var zb=Qn.ReactCurrentBatchConfig;function Aa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var s=n.stateNode}if(!s)throw Error(J(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function ro(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ym(e){var t=e._init;return t(e._payload)}function px(e){function t(x,v){if(e){var m=x.deletions;m===null?(x.deletions=[v],x.flags|=16):m.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function s(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function a(x,v){return x=_r(x,v),x.index=0,x.sibling=null,x}function i(x,v,m){return x.index=m,e?(m=x.alternate,m!==null?(m=m.index,m<v?(x.flags|=2,v):m):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,m,N){return v===null||v.tag!==6?(v=zc(m,x.mode,N),v.return=x,v):(v=a(v,m),v.return=x,v)}function c(x,v,m,N){var k=m.type;return k===Ms?u(x,v,m.props.children,N,m.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lr&&ym(k)===v.type)?(N=a(v,m.props),N.ref=Aa(x,v,m),N.return=x,N):(N=Do(m.type,m.key,m.props,null,x.mode,N),N.ref=Aa(x,v,m),N.return=x,N)}function d(x,v,m,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==m.containerInfo||v.stateNode.implementation!==m.implementation?(v=Bc(m,x.mode,N),v.return=x,v):(v=a(v,m.children||[]),v.return=x,v)}function u(x,v,m,N,k){return v===null||v.tag!==7?(v=Zr(m,x.mode,N,k),v.return=x,v):(v=a(v,m),v.return=x,v)}function f(x,v,m){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zc(""+v,x.mode,m),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hi:return m=Do(v.type,v.key,v.props,null,x.mode,m),m.ref=Aa(x,null,v),m.return=x,m;case Ds:return v=Bc(v,x.mode,m),v.return=x,v;case lr:var N=v._init;return f(x,N(v._payload),m)}if(Ua(v)||ka(v))return v=Zr(v,x.mode,m,null),v.return=x,v;ro(x,v)}return null}function g(x,v,m,N){var k=v!==null?v.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(x,v,""+m,N);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hi:return m.key===k?c(x,v,m,N):null;case Ds:return m.key===k?d(x,v,m,N):null;case lr:return k=m._init,g(x,v,k(m._payload),N)}if(Ua(m)||ka(m))return k!==null?null:u(x,v,m,N,null);ro(x,m)}return null}function p(x,v,m,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(m)||null,l(v,x,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Hi:return x=x.get(N.key===null?m:N.key)||null,c(v,x,N,k);case Ds:return x=x.get(N.key===null?m:N.key)||null,d(v,x,N,k);case lr:var S=N._init;return p(x,v,m,S(N._payload),k)}if(Ua(N)||ka(N))return x=x.get(m)||null,u(v,x,N,k,null);ro(v,N)}return null}function b(x,v,m,N){for(var k=null,S=null,T=v,E=v=0,B=null;T!==null&&E<m.length;E++){T.index>E?(B=T,T=null):B=T.sibling;var U=g(x,T,m[E],N);if(U===null){T===null&&(T=B);break}e&&T&&U.alternate===null&&t(x,T),v=i(U,v,E),S===null?k=U:S.sibling=U,S=U,T=B}if(E===m.length)return n(x,T),Le&&Gr(x,E),k;if(T===null){for(;E<m.length;E++)T=f(x,m[E],N),T!==null&&(v=i(T,v,E),S===null?k=T:S.sibling=T,S=T);return Le&&Gr(x,E),k}for(T=s(x,T);E<m.length;E++)B=p(T,x,E,m[E],N),B!==null&&(e&&B.alternate!==null&&T.delete(B.key===null?E:B.key),v=i(B,v,E),S===null?k=B:S.sibling=B,S=B);return e&&T.forEach(function(H){return t(x,H)}),Le&&Gr(x,E),k}function w(x,v,m,N){var k=ka(m);if(typeof k!="function")throw Error(J(150));if(m=k.call(m),m==null)throw Error(J(151));for(var S=k=null,T=v,E=v=0,B=null,U=m.next();T!==null&&!U.done;E++,U=m.next()){T.index>E?(B=T,T=null):B=T.sibling;var H=g(x,T,U.value,N);if(H===null){T===null&&(T=B);break}e&&T&&H.alternate===null&&t(x,T),v=i(H,v,E),S===null?k=H:S.sibling=H,S=H,T=B}if(U.done)return n(x,T),Le&&Gr(x,E),k;if(T===null){for(;!U.done;E++,U=m.next())U=f(x,U.value,N),U!==null&&(v=i(U,v,E),S===null?k=U:S.sibling=U,S=U);return Le&&Gr(x,E),k}for(T=s(x,T);!U.done;E++,U=m.next())U=p(T,x,E,U.value,N),U!==null&&(e&&U.alternate!==null&&T.delete(U.key===null?E:U.key),v=i(U,v,E),S===null?k=U:S.sibling=U,S=U);return e&&T.forEach(function(R){return t(x,R)}),Le&&Gr(x,E),k}function y(x,v,m,N){if(typeof m=="object"&&m!==null&&m.type===Ms&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Hi:e:{for(var k=m.key,S=v;S!==null;){if(S.key===k){if(k=m.type,k===Ms){if(S.tag===7){n(x,S.sibling),v=a(S,m.props.children),v.return=x,x=v;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lr&&ym(k)===S.type){n(x,S.sibling),v=a(S,m.props),v.ref=Aa(x,S,m),v.return=x,x=v;break e}n(x,S);break}else t(x,S);S=S.sibling}m.type===Ms?(v=Zr(m.props.children,x.mode,N,m.key),v.return=x,x=v):(N=Do(m.type,m.key,m.props,null,x.mode,N),N.ref=Aa(x,v,m),N.return=x,x=N)}return o(x);case Ds:e:{for(S=m.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===m.containerInfo&&v.stateNode.implementation===m.implementation){n(x,v.sibling),v=a(v,m.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else t(x,v);v=v.sibling}v=Bc(m,x.mode,N),v.return=x,x=v}return o(x);case lr:return S=m._init,y(x,v,S(m._payload),N)}if(Ua(m))return b(x,v,m,N);if(ka(m))return w(x,v,m,N);ro(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,v!==null&&v.tag===6?(n(x,v.sibling),v=a(v,m),v.return=x,x=v):(n(x,v),v=zc(m,x.mode,N),v.return=x,x=v),o(x)):n(x,v)}return y}var ra=px(!0),gx=px(!1),Qo=Dr(null),Jo=null,Bs=null,ph=null;function gh(){ph=Bs=Jo=null}function xh(e){var t=Qo.current;Oe(Qo),e._currentValue=t}function Hd(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ys(e,t){Jo=e,ph=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(ph!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(Jo===null)throw Error(J(308));Bs=e,Jo.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var Qr=null;function vh(e){Qr===null?Qr=[e]:Qr.push(e)}function xx(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,vh(t)):(n.next=a.next,a.next=n),t.interleaved=n,Hn(e,s)}function Hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cr=!1;function yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Se&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Hn(e,n)}return a=s.interleaved,a===null?(t.next=t,vh(s)):(t.next=a.next,a.next=t),s.interleaved=t,Hn(e,n)}function ko(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sh(e,n)}}function wm(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xo(e,t,n,s){var a=e.updateQueue;cr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var g=l.lane,p=l.eventTime;if((s&g)===g){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,w=l;switch(g=t,p=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(p,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,g=typeof b=="function"?b.call(p,f,g):b,g==null)break e;f=Ue({},f,g);break e;case 2:cr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else p={eventTime:p,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ss|=o,e.lanes=o,e.memoizedState=f}}function jm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(J(191,a));a.call(s)}}}var Oi={},Cn=Dr(Oi),gi=Dr(Oi),xi=Dr(Oi);function Jr(e){if(e===Oi)throw Error(J(174));return e}function wh(e,t){switch(Ae(xi,t),Ae(gi,e),Ae(Cn,Oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cd(t,e)}Oe(Cn),Ae(Cn,t)}function sa(){Oe(Cn),Oe(gi),Oe(xi)}function yx(e){Jr(xi.current);var t=Jr(Cn.current),n=Cd(t,e.type);t!==n&&(Ae(gi,e),Ae(Cn,n))}function jh(e){gi.current===e&&(Oe(Cn),Oe(gi))}var Fe=Dr(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oc=[];function Nh(){for(var e=0;e<Oc.length;e++)Oc[e]._workInProgressVersionPrimary=null;Oc.length=0}var Eo=Qn.ReactCurrentDispatcher,Ic=Qn.ReactCurrentBatchConfig,rs=0,$e=null,Ke=null,Ze=null,el=!1,Ja=!1,vi=0,Bb=0;function at(){throw Error(J(321))}function bh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function _h(e,t,n,s,a,i){if(rs=i,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Eo.current=e===null||e.memoizedState===null?Hb:qb,e=n(s,a),Ja){i=0;do{if(Ja=!1,vi=0,25<=i)throw Error(J(301));i+=1,Ze=Ke=null,t.updateQueue=null,Eo.current=Kb,e=n(s,a)}while(Ja)}if(Eo.current=tl,t=Ke!==null&&Ke.next!==null,rs=0,Ze=Ke=$e=null,el=!1,t)throw Error(J(300));return e}function Sh(){var e=vi!==0;return vi=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?$e.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Yt(){if(Ke===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Ze===null?$e.memoizedState:Ze.next;if(t!==null)Ze=t,Ke=e;else{if(e===null)throw Error(J(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ze===null?$e.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function yi(e,t){return typeof t=="function"?t(e):t}function Lc(e){var t=Yt(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var s=Ke,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((rs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,$e.lanes|=u,ss|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,fn(s,t.memoizedState)||(bt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,$e.lanes|=i,ss|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fc(e){var t=Yt(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);fn(i,t.memoizedState)||(bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function wx(){}function jx(e,t){var n=$e,s=Yt(),a=t(),i=!fn(s.memoizedState,a);if(i&&(s.memoizedState=a,bt=!0),s=s.queue,Ch(_x.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,wi(9,bx.bind(null,n,s,a,t),void 0,null),et===null)throw Error(J(349));rs&30||Nx(n,t,a)}return a}function Nx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bx(e,t,n,s){t.value=n,t.getSnapshot=s,Sx(t)&&Cx(e)}function _x(e,t,n){return n(function(){Sx(t)&&Cx(e)})}function Sx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function Cx(e){var t=Hn(e,1);t!==null&&un(t,e,1,-1)}function Nm(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gb.bind(null,$e,e),[t.memoizedState,e]}function wi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function kx(){return Yt().memoizedState}function To(e,t,n,s){var a=wn();$e.flags|=e,a.memoizedState=wi(1|t,n,void 0,s===void 0?null:s)}function Sl(e,t,n,s){var a=Yt();s=s===void 0?null:s;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,s!==null&&bh(s,o.deps)){a.memoizedState=wi(t,n,i,s);return}}$e.flags|=e,a.memoizedState=wi(1|t,n,i,s)}function bm(e,t){return To(8390656,8,e,t)}function Ch(e,t){return Sl(2048,8,e,t)}function Ex(e,t){return Sl(4,2,e,t)}function Tx(e,t){return Sl(4,4,e,t)}function Px(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rx(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4,4,Px.bind(null,t,e),n)}function kh(){}function Ax(e,t){var n=Yt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&bh(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Dx(e,t){var n=Yt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&bh(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Mx(e,t,n){return rs&21?(fn(n,t)||(n=$g(),$e.lanes|=n,ss|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function Vb(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var s=Ic.transition;Ic.transition={};try{e(!1),t()}finally{Ce=n,Ic.transition=s}}function Ox(){return Yt().memoizedState}function Wb(e,t,n){var s=br(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Ix(e))Lx(t,n);else if(n=xx(e,t,n,s),n!==null){var a=ht();un(n,e,s,a),Fx(n,t,s)}}function Gb(e,t,n){var s=br(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ix(e))Lx(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,fn(l,o)){var c=t.interleaved;c===null?(a.next=a,vh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=xx(e,t,a,s),n!==null&&(a=ht(),un(n,e,s,a),Fx(n,t,s))}}function Ix(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Lx(e,t){Ja=el=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fx(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,sh(e,n)}}var tl={readContext:Kt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Hb={readContext:Kt,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:bm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,To(4194308,4,Px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){return To(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=wn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Wb.bind(null,$e,e),[s.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:Nm,useDebugValue:kh,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=Nm(!1),t=e[0];return e=Vb.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=$e,a=wn();if(Le){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),et===null)throw Error(J(349));rs&30||Nx(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,bm(_x.bind(null,s,i,e),[e]),s.flags|=2048,wi(9,bx.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=wn(),t=et.identifierPrefix;if(Le){var n=Bn,s=zn;n=(s&~(1<<32-dn(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qb={readContext:Kt,useCallback:Ax,useContext:Kt,useEffect:Ch,useImperativeHandle:Rx,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Dx,useReducer:Lc,useRef:kx,useState:function(){return Lc(yi)},useDebugValue:kh,useDeferredValue:function(e){var t=Yt();return Mx(t,Ke.memoizedState,e)},useTransition:function(){var e=Lc(yi)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:wx,useSyncExternalStore:jx,useId:Ox,unstable_isNewReconciler:!1},Kb={readContext:Kt,useCallback:Ax,useContext:Kt,useEffect:Ch,useImperativeHandle:Rx,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Dx,useReducer:Fc,useRef:kx,useState:function(){return Fc(yi)},useDebugValue:kh,useDeferredValue:function(e){var t=Yt();return Ke===null?t.memoizedState=e:Mx(t,Ke.memoizedState,e)},useTransition:function(){var e=Fc(yi)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:wx,useSyncExternalStore:jx,useId:Ox,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qd(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cl={isMounted:function(e){return(e=e._reactInternals)?ms(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ht(),a=br(e),i=Vn(s,a);i.payload=t,n!=null&&(i.callback=n),t=jr(e,i,a),t!==null&&(un(t,e,a,s),ko(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ht(),a=br(e),i=Vn(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=jr(e,i,a),t!==null&&(un(t,e,a,s),ko(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),s=br(e),a=Vn(n,s);a.tag=2,t!=null&&(a.callback=t),t=jr(e,a,s),t!==null&&(un(t,e,s,n),ko(t,e,s))}};function _m(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!hi(n,s)||!hi(a,i):!0}function $x(e,t,n){var s=!1,a=kr,i=t.contextType;return typeof i=="object"&&i!==null?i=Kt(i):(a=St(t)?ts:ct.current,s=t.contextTypes,i=(s=s!=null)?ta(e,a):kr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sm(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Cl.enqueueReplaceState(t,t.state,null)}function Kd(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},yh(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Kt(i):(i=St(t)?ts:ct.current,a.context=ta(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qd(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Cl.enqueueReplaceState(a,a.state,null),Xo(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function aa(e,t){try{var n="",s=t;do n+=NN(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function $c(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yb=typeof WeakMap=="function"?WeakMap:Map;function Ux(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){rl||(rl=!0,au=s),Yd(e,t)},n}function zx(e,t,n){n=Vn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){Yd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yd(e,t),typeof s!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Cm(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Yb;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=c1.bind(null,e,t,n),t.then(e,e))}function km(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Em(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,jr(n,t,1))),n.lanes|=1),e)}var Qb=Qn.ReactCurrentOwner,bt=!1;function dt(e,t,n,s){t.child=e===null?gx(t,null,n,s):ra(t,e.child,n,s)}function Tm(e,t,n,s,a){n=n.render;var i=t.ref;return Ys(t,a),s=_h(e,t,n,s,i,a),n=Sh(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qn(e,t,a)):(Le&&n&&hh(t),t.flags|=1,dt(e,t,s,a),t.child)}function Pm(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!Oh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Bx(e,t,i,s,a)):(e=Do(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(o,s)&&e.ref===t.ref)return qn(e,t,a)}return t.flags|=1,e=_r(i,s),e.ref=t.ref,e.return=t,t.child=e}function Bx(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(hi(i,s)&&e.ref===t.ref)if(bt=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,qn(e,t,a)}return Qd(e,t,n,s,a)}function Vx(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Ws,Rt),Rt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Ws,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Ae(Ws,Rt),Rt|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,Ae(Ws,Rt),Rt|=s;return dt(e,t,a,n),t.child}function Wx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qd(e,t,n,s,a){var i=St(n)?ts:ct.current;return i=ta(t,i),Ys(t,a),n=_h(e,t,n,s,i,a),s=Sh(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qn(e,t,a)):(Le&&s&&hh(t),t.flags|=1,dt(e,t,n,a),t.child)}function Rm(e,t,n,s,a){if(St(n)){var i=!0;qo(t)}else i=!1;if(Ys(t,a),t.stateNode===null)Po(e,t),$x(t,n,s),Kd(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Kt(d):(d=St(n)?ts:ct.current,d=ta(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Sm(t,o,s,d),cr=!1;var g=t.memoizedState;o.state=g,Xo(t,s,o,a),c=t.memoizedState,l!==s||g!==c||_t.current||cr?(typeof u=="function"&&(qd(t,n,u,s),c=t.memoizedState),(l=cr||_m(t,n,l,s,g,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,vx(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:rn(t.type,l),o.props=d,f=t.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kt(c):(c=St(n)?ts:ct.current,c=ta(t,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==c)&&Sm(t,o,s,c),cr=!1,g=t.memoizedState,o.state=g,Xo(t,s,o,a);var b=t.memoizedState;l!==f||g!==b||_t.current||cr?(typeof p=="function"&&(qd(t,n,p,s),b=t.memoizedState),(d=cr||_m(t,n,d,s,g,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),o.props=s,o.state=b,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return Jd(e,t,n,s,i,a)}function Jd(e,t,n,s,a,i){Wx(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&gm(t,n,!1),qn(e,t,i);s=t.stateNode,Qb.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ra(t,e.child,null,i),t.child=ra(t,null,l,i)):dt(e,t,l,i),t.memoizedState=s.state,a&&gm(t,n,!0),t.child}function Gx(e){var t=e.stateNode;t.pendingContext?pm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pm(e,t.context,!1),wh(e,t.containerInfo)}function Am(e,t,n,s,a){return na(),mh(a),t.flags|=256,dt(e,t,n,s),t.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function Zd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hx(e,t,n){var s=t.pendingProps,a=Fe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ae(Fe,a&1),e===null)return Gd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Tl(o,s,0,null),e=Zr(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zd(n),t.memoizedState=Xd,e):Eh(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Jb(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=_r(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=_r(l,i):(i=Zr(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Zd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Xd,s}return i=e.child,e=i.sibling,s=_r(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Eh(e,t){return t=Tl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function so(e,t,n,s){return s!==null&&mh(s),ra(t,e.child,null,n),e=Eh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jb(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=$c(Error(J(422))),so(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Tl({mode:"visible",children:s.children},a,0,null),i=Zr(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ra(t,e.child,null,o),t.child.memoizedState=Zd(o),t.memoizedState=Xd,i);if(!(t.mode&1))return so(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(J(419)),s=$c(i,s,void 0),so(e,t,o,s)}if(l=(o&e.childLanes)!==0,bt||l){if(s=et,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Hn(e,a),un(s,e,a,-1))}return Mh(),s=$c(Error(J(421))),so(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=d1.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Mt=wr(a.nextSibling),Ot=t,Le=!0,on=null,e!==null&&(Bt[Vt++]=zn,Bt[Vt++]=Bn,Bt[Vt++]=ns,zn=e.id,Bn=e.overflow,ns=t),t=Eh(t,s.children),t.flags|=4096,t)}function Dm(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Hd(e.return,t,n)}function Uc(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function qx(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(dt(e,t,s.children,n),s=Fe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dm(e,n,t);else if(e.tag===19)Dm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ae(Fe,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Uc(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Zo(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Uc(t,!0,n,null,i);break;case"together":Uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Po(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ss|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=_r(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_r(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xb(e,t,n){switch(t.tag){case 3:Gx(t),na();break;case 5:yx(t);break;case 1:St(t.type)&&qo(t);break;case 4:wh(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Ae(Qo,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ae(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?Hx(e,t,n):(Ae(Fe,Fe.current&1),e=qn(e,t,n),e!==null?e.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return qx(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ae(Fe,Fe.current),s)break;return null;case 22:case 23:return t.lanes=0,Vx(e,t,n)}return qn(e,t,n)}var Kx,eu,Yx,Qx;Kx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eu=function(){};Yx=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Jr(Cn.current);var i=null;switch(n){case"input":a=Nd(e,a),s=Nd(e,s),i=[];break;case"select":a=Ue({},a,{value:void 0}),s=Ue({},s,{value:void 0}),i=[];break;case"textarea":a=Sd(e,a),s=Sd(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Go)}kd(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ai.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ai.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Me("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Qx=function(e,t,n,s){n!==s&&(t.flags|=4)};function Da(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Zb(e,t,n){var s=t.pendingProps;switch(fh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return St(t.type)&&Ho(),it(t),null;case 3:return s=t.stateNode,sa(),Oe(_t),Oe(ct),Nh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(no(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,on!==null&&(lu(on),on=null))),eu(e,t),it(t),null;case 5:jh(t);var a=Jr(xi.current);if(n=t.type,e!==null&&t.stateNode!=null)Yx(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(J(166));return it(t),null}if(e=Jr(Cn.current),no(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[jn]=t,s[pi]=i,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(a=0;a<Ba.length;a++)Me(Ba[a],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Bf(s,i),Me("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Me("invalid",s);break;case"textarea":Wf(s,i),Me("invalid",s)}kd(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&to(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&to(s.textContent,l,e),a=["children",""+l]):ai.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",s)}switch(n){case"input":qi(s),Vf(s,i,!0);break;case"textarea":qi(s),Gf(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Go)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_g(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[jn]=t,e[pi]=s,Kx(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ed(n,s),n){case"dialog":Me("cancel",e),Me("close",e),a=s;break;case"iframe":case"object":case"embed":Me("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ba.length;a++)Me(Ba[a],e);a=s;break;case"source":Me("error",e),a=s;break;case"img":case"image":case"link":Me("error",e),Me("load",e),a=s;break;case"details":Me("toggle",e),a=s;break;case"input":Bf(e,s),a=Nd(e,s),Me("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Ue({},s,{value:void 0}),Me("invalid",e);break;case"textarea":Wf(e,s),a=Sd(e,s),Me("invalid",e);break;default:a=s}kd(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?kg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sg(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ii(e,c):typeof c=="number"&&ii(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ai.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Me("scroll",e):c!=null&&Xu(e,i,c,o))}switch(n){case"input":qi(e),Vf(e,s,!1);break;case"textarea":qi(e),Gf(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Cr(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Gs(e,!!s.multiple,i,!1):s.defaultValue!=null&&Gs(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Go)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Qx(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(J(166));if(n=Jr(xi.current),Jr(Cn.current),no(t)){if(s=t.stateNode,n=t.memoizedProps,s[jn]=t,(i=s.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:to(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&to(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[jn]=t,t.stateNode=s}return it(t),null;case 13:if(Oe(Fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Mt!==null&&t.mode&1&&!(t.flags&128))mx(),na(),t.flags|=98560,i=!1;else if(i=no(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(J(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[jn]=t}else na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else on!==null&&(lu(on),on=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?Qe===0&&(Qe=3):Mh())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return sa(),eu(e,t),e===null&&fi(t.stateNode.containerInfo),it(t),null;case 10:return xh(t.type._context),it(t),null;case 17:return St(t.type)&&Ho(),it(t),null;case 19:if(Oe(Fe),i=t.memoizedState,i===null)return it(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Da(i,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zo(e),o!==null){for(t.flags|=128,Da(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(Fe,Fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&We()>ia&&(t.flags|=128,s=!0,Da(i,!1),t.lanes=4194304)}else{if(!s)if(e=Zo(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Da(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return it(t),null}else 2*We()-i.renderingStartTime>ia&&n!==1073741824&&(t.flags|=128,s=!0,Da(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=We(),t.sibling=null,n=Fe.current,Ae(Fe,s?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Dh(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Rt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function e1(e,t){switch(fh(t),t.tag){case 1:return St(t.type)&&Ho(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(),Oe(_t),Oe(ct),Nh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jh(t),null;case 13:if(Oe(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Fe),null;case 4:return sa(),null;case 10:return xh(t.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var ao=!1,lt=!1,t1=typeof WeakSet=="function"?WeakSet:Set,re=null;function Vs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ve(e,t,s)}else n.current=null}function tu(e,t,n){try{n()}catch(s){Ve(e,t,s)}}var Mm=!1;function n1(e,t){if(Fd=Bo,e=tx(),uh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,g=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)g=f,f=p;for(;;){if(f===e)break t;if(g===n&&++d===a&&(l=o),g===i&&++u===s&&(c=o),(p=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($d={focusedElem:e,selectionRange:n},Bo=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,y=b.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:rn(t.type,w),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(N){Ve(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return b=Mm,Mm=!1,b}function Xa(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&tu(t,n,i)}a=a.next}while(a!==s)}}function kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jx(e){var t=e.alternate;t!==null&&(e.alternate=null,Jx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jn],delete t[pi],delete t[Bd],delete t[Fb],delete t[$b])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xx(e){return e.tag===5||e.tag===3||e.tag===4}function Om(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Go));else if(s!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function su(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}var nt=null,sn=!1;function rr(e,t,n){for(n=n.child;n!==null;)Zx(e,t,n),n=n.sibling}function Zx(e,t,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(yl,n)}catch{}switch(n.tag){case 5:lt||Vs(n,t);case 6:var s=nt,a=sn;nt=null,rr(e,t,n),nt=s,sn=a,nt!==null&&(sn?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(sn?(e=nt,n=n.stateNode,e.nodeType===8?Dc(e.parentNode,n):e.nodeType===1&&Dc(e,n),di(e)):Dc(nt,n.stateNode));break;case 4:s=nt,a=sn,nt=n.stateNode.containerInfo,sn=!0,rr(e,t,n),nt=s,sn=a;break;case 0:case 11:case 14:case 15:if(!lt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tu(n,t,o),a=a.next}while(a!==s)}rr(e,t,n);break;case 1:if(!lt&&(Vs(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Ve(n,t,l)}rr(e,t,n);break;case 21:rr(e,t,n);break;case 22:n.mode&1?(lt=(s=lt)||n.memoizedState!==null,rr(e,t,n),lt=s):rr(e,t,n);break;default:rr(e,t,n)}}function Im(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new t1),t.forEach(function(s){var a=u1.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,sn=!1;break e;case 3:nt=l.stateNode.containerInfo,sn=!0;break e;case 4:nt=l.stateNode.containerInfo,sn=!0;break e}l=l.return}if(nt===null)throw Error(J(160));Zx(i,o,a),nt=null,sn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ve(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ev(t,e),t=t.sibling}function ev(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),yn(e),s&4){try{Xa(3,e,e.return),kl(3,e)}catch(w){Ve(e,e.return,w)}try{Xa(5,e,e.return)}catch(w){Ve(e,e.return,w)}}break;case 1:Zt(t,e),yn(e),s&512&&n!==null&&Vs(n,n.return);break;case 5:if(Zt(t,e),yn(e),s&512&&n!==null&&Vs(n,n.return),e.flags&32){var a=e.stateNode;try{ii(a,"")}catch(w){Ve(e,e.return,w)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ng(a,i),Ed(l,o);var d=Ed(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?kg(a,f):u==="dangerouslySetInnerHTML"?Sg(a,f):u==="children"?ii(a,f):Xu(a,u,f,d)}switch(l){case"input":bd(a,i);break;case"textarea":bg(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Gs(a,!!i.multiple,p,!1):g!==!!i.multiple&&(i.defaultValue!=null?Gs(a,!!i.multiple,i.defaultValue,!0):Gs(a,!!i.multiple,i.multiple?[]:"",!1))}a[pi]=i}catch(w){Ve(e,e.return,w)}}break;case 6:if(Zt(t,e),yn(e),s&4){if(e.stateNode===null)throw Error(J(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){Ve(e,e.return,w)}}break;case 3:if(Zt(t,e),yn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{di(t.containerInfo)}catch(w){Ve(e,e.return,w)}break;case 4:Zt(t,e),yn(e);break;case 13:Zt(t,e),yn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Rh=We())),s&4&&Im(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(lt=(d=lt)||u,Zt(t,e),lt=d):Zt(t,e),yn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(re=e,u=e.child;u!==null;){for(f=re=u;re!==null;){switch(g=re,p=g.child,g.tag){case 0:case 11:case 14:case 15:Xa(4,g,g.return);break;case 1:Vs(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){Ve(s,n,w)}}break;case 5:Vs(g,g.return);break;case 22:if(g.memoizedState!==null){Fm(f);continue}}p!==null?(p.return=g,re=p):Fm(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Cg("display",o))}catch(w){Ve(e,e.return,w)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){Ve(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zt(t,e),yn(e),s&4&&Im(e);break;case 21:break;default:Zt(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xx(n)){var s=n;break e}n=n.return}throw Error(J(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ii(a,""),s.flags&=-33);var i=Om(e);su(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Om(e);ru(e,l,o);break;default:throw Error(J(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r1(e,t,n){re=e,tv(e)}function tv(e,t,n){for(var s=(e.mode&1)!==0;re!==null;){var a=re,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||ao;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||lt;l=ao;var d=lt;if(ao=o,(lt=c)&&!d)for(re=a;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?$m(a):c!==null?(c.return=o,re=c):$m(a);for(;i!==null;)re=i,tv(i),i=i.sibling;re=a,ao=l,lt=d}Lm(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,re=i):Lm(e)}}function Lm(e){for(;re!==null;){var t=re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||kl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!lt)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jm(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jm(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&di(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}lt||t.flags&512&&nu(t)}catch(g){Ve(t,t.return,g)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function Fm(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function $m(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kl(4,t)}catch(c){Ve(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Ve(t,a,c)}}var i=t.return;try{nu(t)}catch(c){Ve(t,i,c)}break;case 5:var o=t.return;try{nu(t)}catch(c){Ve(t,o,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var s1=Math.ceil,nl=Qn.ReactCurrentDispatcher,Th=Qn.ReactCurrentOwner,Gt=Qn.ReactCurrentBatchConfig,Se=0,et=null,He=null,rt=0,Rt=0,Ws=Dr(0),Qe=0,ji=null,ss=0,El=0,Ph=0,Za=null,jt=null,Rh=0,ia=1/0,Fn=null,rl=!1,au=null,Nr=null,io=!1,pr=null,sl=0,ei=0,iu=null,Ro=-1,Ao=0;function ht(){return Se&6?We():Ro!==-1?Ro:Ro=We()}function br(e){return e.mode&1?Se&2&&rt!==0?rt&-rt:zb.transition!==null?(Ao===0&&(Ao=$g()),Ao):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Hg(e.type)),e):1}function un(e,t,n,s){if(50<ei)throw ei=0,iu=null,Error(J(185));Ai(e,n,s),(!(Se&2)||e!==et)&&(e===et&&(!(Se&2)&&(El|=n),Qe===4&&hr(e,rt)),Ct(e,s),n===1&&Se===0&&!(t.mode&1)&&(ia=We()+500,_l&&Mr()))}function Ct(e,t){var n=e.callbackNode;zN(e,t);var s=zo(e,e===et?rt:0);if(s===0)n!==null&&Kf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Kf(n),t===1)e.tag===0?Ub(Um.bind(null,e)):ux(Um.bind(null,e)),Ib(function(){!(Se&6)&&Mr()}),n=null;else{switch(Ug(s)){case 1:n=rh;break;case 4:n=Lg;break;case 16:n=Uo;break;case 536870912:n=Fg;break;default:n=Uo}n=cv(n,nv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nv(e,t){if(Ro=-1,Ao=0,Se&6)throw Error(J(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var s=zo(e,e===et?rt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=al(e,s);else{t=s;var a=Se;Se|=2;var i=sv();(et!==e||rt!==t)&&(Fn=null,ia=We()+500,Xr(e,t));do try{o1();break}catch(l){rv(e,l)}while(!0);gh(),nl.current=i,Se=a,He!==null?t=0:(et=null,rt=0,t=Qe)}if(t!==0){if(t===2&&(a=Dd(e),a!==0&&(s=a,t=ou(e,a))),t===1)throw n=ji,Xr(e,0),hr(e,s),Ct(e,We()),n;if(t===6)hr(e,s);else{if(a=e.current.alternate,!(s&30)&&!a1(a)&&(t=al(e,s),t===2&&(i=Dd(e),i!==0&&(s=i,t=ou(e,i))),t===1))throw n=ji,Xr(e,0),hr(e,s),Ct(e,We()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(J(345));case 2:Hr(e,jt,Fn);break;case 3:if(hr(e,s),(s&130023424)===s&&(t=Rh+500-We(),10<t)){if(zo(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ht(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=zd(Hr.bind(null,e,jt,Fn),t);break}Hr(e,jt,Fn);break;case 4:if(hr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-dn(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=We()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*s1(s/1960))-s,10<s){e.timeoutHandle=zd(Hr.bind(null,e,jt,Fn),s);break}Hr(e,jt,Fn);break;case 5:Hr(e,jt,Fn);break;default:throw Error(J(329))}}}return Ct(e,We()),e.callbackNode===n?nv.bind(null,e):null}function ou(e,t){var n=Za;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=al(e,t),e!==2&&(t=jt,jt=n,t!==null&&lu(t)),e}function lu(e){jt===null?jt=e:jt.push.apply(jt,e)}function a1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!fn(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t){for(t&=~Ph,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dn(t),s=1<<n;e[n]=-1,t&=~s}}function Um(e){if(Se&6)throw Error(J(327));Qs();var t=zo(e,0);if(!(t&1))return Ct(e,We()),null;var n=al(e,t);if(e.tag!==0&&n===2){var s=Dd(e);s!==0&&(t=s,n=ou(e,s))}if(n===1)throw n=ji,Xr(e,0),hr(e,t),Ct(e,We()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,jt,Fn),Ct(e,We()),null}function Ah(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(ia=We()+500,_l&&Mr())}}function as(e){pr!==null&&pr.tag===0&&!(Se&6)&&Qs();var t=Se;Se|=1;var n=Gt.transition,s=Ce;try{if(Gt.transition=null,Ce=1,e)return e()}finally{Ce=s,Gt.transition=n,Se=t,!(Se&6)&&Mr()}}function Dh(){Rt=Ws.current,Oe(Ws)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ob(n)),He!==null)for(n=He.return;n!==null;){var s=n;switch(fh(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ho();break;case 3:sa(),Oe(_t),Oe(ct),Nh();break;case 5:jh(s);break;case 4:sa();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:xh(s.type._context);break;case 22:case 23:Dh()}n=n.return}if(et=e,He=e=_r(e.current,null),rt=Rt=t,Qe=0,ji=null,Ph=El=ss=0,jt=Za=null,Qr!==null){for(t=0;t<Qr.length;t++)if(n=Qr[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}Qr=null}return e}function rv(e,t){do{var n=He;try{if(gh(),Eo.current=tl,el){for(var s=$e.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}el=!1}if(rs=0,Ze=Ke=$e=null,Ja=!1,vi=0,Th.current=null,n===null||n.return===null){Qe=1,ji=t,He=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=km(o);if(p!==null){p.flags&=-257,Em(p,o,l,i,t),p.mode&1&&Cm(i,d,t),t=p,c=d;var b=t.updateQueue;if(b===null){var w=new Set;w.add(c),t.updateQueue=w}else b.add(c);break e}else{if(!(t&1)){Cm(i,d,t),Mh();break e}c=Error(J(426))}}else if(Le&&l.mode&1){var y=km(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Em(y,o,l,i,t),mh(aa(c,l));break e}}i=c=aa(c,l),Qe!==4&&(Qe=2),Za===null?Za=[i]:Za.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Ux(i,c,t);wm(i,x);break e;case 1:l=c;var v=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Nr===null||!Nr.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=zx(i,l,t);wm(i,N);break e}}i=i.return}while(i!==null)}iv(n)}catch(k){t=k,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function sv(){var e=nl.current;return nl.current=tl,e===null?tl:e}function Mh(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(ss&268435455)&&!(El&268435455)||hr(et,rt)}function al(e,t){var n=Se;Se|=2;var s=sv();(et!==e||rt!==t)&&(Fn=null,Xr(e,t));do try{i1();break}catch(a){rv(e,a)}while(!0);if(gh(),Se=n,nl.current=s,He!==null)throw Error(J(261));return et=null,rt=0,Qe}function i1(){for(;He!==null;)av(He)}function o1(){for(;He!==null&&!AN();)av(He)}function av(e){var t=lv(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?iv(e):He=t,Th.current=null}function iv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=e1(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,He=null;return}}else if(n=Zb(n,t,Rt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Qe===0&&(Qe=5)}function Hr(e,t,n){var s=Ce,a=Gt.transition;try{Gt.transition=null,Ce=1,l1(e,t,n,s)}finally{Gt.transition=a,Ce=s}return null}function l1(e,t,n,s){do Qs();while(pr!==null);if(Se&6)throw Error(J(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(BN(e,i),e===et&&(He=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||io||(io=!0,cv(Uo,function(){return Qs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gt.transition,Gt.transition=null;var o=Ce;Ce=1;var l=Se;Se|=4,Th.current=null,n1(e,n),ev(n,e),Eb($d),Bo=!!Fd,$d=Fd=null,e.current=n,r1(n),DN(),Se=l,Ce=o,Gt.transition=i}else e.current=n;if(io&&(io=!1,pr=e,sl=a),i=e.pendingLanes,i===0&&(Nr=null),IN(n.stateNode),Ct(e,We()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(rl)throw rl=!1,e=au,au=null,e;return sl&1&&e.tag!==0&&Qs(),i=e.pendingLanes,i&1?e===iu?ei++:(ei=0,iu=e):ei=0,Mr(),null}function Qs(){if(pr!==null){var e=Ug(sl),t=Gt.transition,n=Ce;try{if(Gt.transition=null,Ce=16>e?16:e,pr===null)var s=!1;else{if(e=pr,pr=null,sl=0,Se&6)throw Error(J(331));var a=Se;for(Se|=4,re=e.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(re=d;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Xa(8,u,i)}var f=u.child;if(f!==null)f.return=u,re=f;else for(;re!==null;){u=re;var g=u.sibling,p=u.return;if(Jx(u),u===d){re=null;break}if(g!==null){g.return=p,re=g;break}re=p}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xa(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,re=x;break e}re=i.return}}var v=e.current;for(re=v;re!==null;){o=re;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,re=m;else e:for(o=v;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kl(9,l)}}catch(k){Ve(l,l.return,k)}if(l===o){re=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,re=N;break e}re=l.return}}if(Se=a,Mr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(yl,e)}catch{}s=!0}return s}finally{Ce=n,Gt.transition=t}}return!1}function zm(e,t,n){t=aa(n,t),t=Ux(e,t,1),e=jr(e,t,1),t=ht(),e!==null&&(Ai(e,1,t),Ct(e,t))}function Ve(e,t,n){if(e.tag===3)zm(e,e,n);else for(;t!==null;){if(t.tag===3){zm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Nr===null||!Nr.has(s))){e=aa(n,e),e=zx(t,e,1),t=jr(t,e,1),e=ht(),t!==null&&(Ai(t,1,e),Ct(t,e));break}}t=t.return}}function c1(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(rt&n)===n&&(Qe===4||Qe===3&&(rt&130023424)===rt&&500>We()-Rh?Xr(e,0):Ph|=n),Ct(e,t)}function ov(e,t){t===0&&(e.mode&1?(t=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):t=1);var n=ht();e=Hn(e,t),e!==null&&(Ai(e,t,n),Ct(e,n))}function d1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ov(e,n)}function u1(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(J(314))}s!==null&&s.delete(t),ov(e,n)}var lv;lv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,Xb(e,t,n);bt=!!(e.flags&131072)}else bt=!1,Le&&t.flags&1048576&&hx(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Po(e,t),e=t.pendingProps;var a=ta(t,ct.current);Ys(t,n),a=_h(null,t,s,e,a,n);var i=Sh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(s)?(i=!0,qo(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,yh(t),a.updater=Cl,t.stateNode=a,a._reactInternals=t,Kd(t,s,e,n),t=Jd(null,t,s,!0,i,n)):(t.tag=0,Le&&i&&hh(t),dt(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Po(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=f1(s),e=rn(s,e),a){case 0:t=Qd(null,t,s,e,n);break e;case 1:t=Rm(null,t,s,e,n);break e;case 11:t=Tm(null,t,s,e,n);break e;case 14:t=Pm(null,t,s,rn(s.type,e),n);break e}throw Error(J(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:rn(s,a),Qd(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:rn(s,a),Rm(e,t,s,a,n);case 3:e:{if(Gx(t),e===null)throw Error(J(387));s=t.pendingProps,i=t.memoizedState,a=i.element,vx(e,t),Xo(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=aa(Error(J(423)),t),t=Am(e,t,s,n,a);break e}else if(s!==a){a=aa(Error(J(424)),t),t=Am(e,t,s,n,a);break e}else for(Mt=wr(t.stateNode.containerInfo.firstChild),Ot=t,Le=!0,on=null,n=gx(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),s===a){t=qn(e,t,n);break e}dt(e,t,s,n)}t=t.child}return t;case 5:return yx(t),e===null&&Gd(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Ud(s,a)?o=null:i!==null&&Ud(s,i)&&(t.flags|=32),Wx(e,t),dt(e,t,o,n),t.child;case 6:return e===null&&Gd(t),null;case 13:return Hx(e,t,n);case 4:return wh(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ra(t,null,s,n):dt(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:rn(s,a),Tm(e,t,s,a,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ae(Qo,s._currentValue),s._currentValue=o,i!==null)if(fn(i.value,o)){if(i.children===a.children&&!_t.current){t=qn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Vn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Hd(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hd(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Ys(t,n),a=Kt(a),s=s(a),t.flags|=1,dt(e,t,s,n),t.child;case 14:return s=t.type,a=rn(s,t.pendingProps),a=rn(s.type,a),Pm(e,t,s,a,n);case 15:return Bx(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:rn(s,a),Po(e,t),t.tag=1,St(s)?(e=!0,qo(t)):e=!1,Ys(t,n),$x(t,s,a),Kd(t,s,a,n),Jd(null,t,s,!0,e,n);case 19:return qx(e,t,n);case 22:return Vx(e,t,n)}throw Error(J(156,t.tag))};function cv(e,t){return Ig(e,t)}function h1(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,s){return new h1(e,t,n,s)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f1(e){if(typeof e=="function")return Oh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eh)return 11;if(e===th)return 14}return 2}function _r(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Do(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")Oh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ms:return Zr(n.children,a,i,t);case Zu:o=8,a|=8;break;case vd:return e=Wt(12,n,t,a|2),e.elementType=vd,e.lanes=i,e;case yd:return e=Wt(13,n,t,a),e.elementType=yd,e.lanes=i,e;case wd:return e=Wt(19,n,t,a),e.elementType=wd,e.lanes=i,e;case yg:return Tl(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xg:o=10;break e;case vg:o=9;break e;case eh:o=11;break e;case th:o=14;break e;case lr:o=16,s=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Wt(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Zr(e,t,n,s){return e=Wt(7,e,s,t),e.lanes=n,e}function Tl(e,t,n,s){return e=Wt(22,e,s,t),e.elementType=yg,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function Bc(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m1(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nc(0),this.expirationTimes=Nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ih(e,t,n,s,a,i,o,l,c){return e=new m1(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yh(i),e}function p1(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function dv(e){if(!e)return kr;e=e._reactInternals;e:{if(ms(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(St(n))return dx(e,n,t)}return t}function uv(e,t,n,s,a,i,o,l,c){return e=Ih(n,s,!0,e,a,i,o,l,c),e.context=dv(null),n=e.current,s=ht(),a=br(n),i=Vn(s,a),i.callback=t??null,jr(n,i,a),e.current.lanes=a,Ai(e,a,s),Ct(e,s),e}function Pl(e,t,n,s){var a=t.current,i=ht(),o=br(a);return n=dv(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=jr(a,t,o),e!==null&&(un(e,a,o,i),ko(e,a,o)),o}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lh(e,t){Bm(e,t),(e=e.alternate)&&Bm(e,t)}function g1(){return null}var hv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fh(e){this._internalRoot=e}Rl.prototype.render=Fh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Pl(e,t,null,null)};Rl.prototype.unmount=Fh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;as(function(){Pl(null,e,null,null)}),t[Gn]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ur.length&&t!==0&&t<ur[n].priority;n++);ur.splice(n,0,e),n===0&&Gg(e)}};function $h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vm(){}function x1(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=il(o);i.call(d)}}var o=uv(t,s,e,0,null,!1,!1,"",Vm);return e._reactRootContainer=o,e[Gn]=o.current,fi(e.nodeType===8?e.parentNode:e),as(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=il(c);l.call(d)}}var c=Ih(e,0,!1,null,null,!1,!1,"",Vm);return e._reactRootContainer=c,e[Gn]=c.current,fi(e.nodeType===8?e.parentNode:e),as(function(){Pl(t,c,n,s)}),c}function Dl(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=il(o);l.call(c)}}Pl(t,o,e,a)}else o=x1(n,t,e,a,s);return il(o)}zg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=za(t.pendingLanes);n!==0&&(sh(t,n|1),Ct(t,We()),!(Se&6)&&(ia=We()+500,Mr()))}break;case 13:as(function(){var s=Hn(e,1);if(s!==null){var a=ht();un(s,e,1,a)}}),Lh(e,1)}};ah=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var n=ht();un(t,e,134217728,n)}Lh(e,134217728)}};Bg=function(e){if(e.tag===13){var t=br(e),n=Hn(e,t);if(n!==null){var s=ht();un(n,e,t,s)}Lh(e,t)}};Vg=function(){return Ce};Wg=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};Pd=function(e,t,n){switch(t){case"input":if(bd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=bl(s);if(!a)throw Error(J(90));jg(s),bd(s,a)}}}break;case"textarea":bg(e,n);break;case"select":t=n.value,t!=null&&Gs(e,!!n.multiple,t,!1)}};Pg=Ah;Rg=as;var v1={usingClientEntryPoint:!1,Events:[Mi,Fs,bl,Eg,Tg,Ah]},Ma={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y1={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||g1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{yl=oo.inject(y1),Sn=oo}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v1;$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(t))throw Error(J(200));return p1(e,t,null,n)};$t.createRoot=function(e,t){if(!$h(e))throw Error(J(299));var n=!1,s="",a=hv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ih(e,1,!1,null,null,n,!1,s,a),e[Gn]=t.current,fi(e.nodeType===8?e.parentNode:e),new Fh(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Mg(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return as(e)};$t.hydrate=function(e,t,n){if(!Al(t))throw Error(J(200));return Dl(null,e,t,!0,n)};$t.hydrateRoot=function(e,t,n){if(!$h(e))throw Error(J(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=hv;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=uv(t,null,e,1,n??null,a,!1,i,o),e[Gn]=t.current,fi(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Rl(t)};$t.render=function(e,t,n){if(!Al(t))throw Error(J(200));return Dl(null,e,t,!1,n)};$t.unmountComponentAtNode=function(e){if(!Al(e))throw Error(J(40));return e._reactRootContainer?(as(function(){Dl(null,null,e,!1,function(){e._reactRootContainer=null,e[Gn]=null})}),!0):!1};$t.unstable_batchedUpdates=Ah;$t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Al(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Dl(e,t,n,!1,s)};$t.version="18.3.1-next-f1338f8080-20240426";function fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fv)}catch(e){console.error(e)}}fv(),fg.exports=$t;var ma=fg.exports;const mv=tg(ma);var Wm=ma;gd.createRoot=Wm.createRoot,gd.hydrateRoot=Wm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ni.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const Gm="popstate";function w1(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return cu("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ol(a)}return N1(t,n,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j1(){return Math.random().toString(36).substr(2,8)}function Hm(e,t){return{usr:e.state,key:e.key,idx:t}}function cu(e,t,n,s){return n===void 0&&(n=null),Ni({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pa(t):t,{state:n,key:t&&t.key||s||j1()})}function ol(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function pa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function N1(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=gr.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Ni({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=gr.Pop;let y=u(),x=y==null?null:y-d;d=y,c&&c({action:l,location:w.location,delta:x})}function g(y,x){l=gr.Push;let v=cu(w.location,y,x);d=u()+1;let m=Hm(v,d),N=w.createHref(v);try{o.pushState(m,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(N)}i&&c&&c({action:l,location:w.location,delta:1})}function p(y,x){l=gr.Replace;let v=cu(w.location,y,x);d=u();let m=Hm(v,d),N=w.createHref(v);o.replaceState(m,"",N),i&&c&&c({action:l,location:w.location,delta:0})}function b(y){let x=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof y=="string"?y:ol(y);return v=v.replace(/ $/,"%20"),Ge(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let w={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Gm,f),c=y,()=>{a.removeEventListener(Gm,f),c=null}},createHref(y){return t(a,y)},createURL:b,encodeLocation(y){let x=b(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:p,go(y){return o.go(y)}};return w}var qm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qm||(qm={}));function b1(e,t,n){return n===void 0&&(n="/"),_1(e,t,n)}function _1(e,t,n,s){let a=typeof t=="string"?pa(t):t,i=Uh(a.pathname||"/",n);if(i==null)return null;let o=gv(e);S1(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=L1(i);l=M1(o[c],d)}return l}function gv(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ge(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Sr([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),gv(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:A1(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of xv(i.path))a(i,o,c)}),t}function xv(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=xv(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function S1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const C1=/^:[\w-]+$/,k1=3,E1=2,T1=1,P1=10,R1=-2,Km=e=>e==="*";function A1(e,t){let n=e.split("/"),s=n.length;return n.some(Km)&&(s+=R1),t&&(s+=E1),n.filter(a=>!Km(a)).reduce((a,i)=>a+(C1.test(i)?k1:i===""?T1:P1),s)}function D1(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function M1(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=O1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),g=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Sr([i,f.pathname]),pathnameBase:z1(Sr([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Sr([i,f.pathnameBase]))}return o}function O1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=I1(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:g,isOptional:p}=u;if(g==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=l[f];return p&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function I1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),pv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function L1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Uh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function F1(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?pa(e):e;return{pathname:n?n.startsWith("/")?n:$1(n,t):t,search:B1(s),hash:V1(a)}}function $1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vc(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zh(e,t){let n=U1(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Bh(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=pa(e):(a=Ni({},e),Ge(!a.pathname||!a.pathname.includes("?"),Vc("?","pathname","search",a)),Ge(!a.pathname||!a.pathname.includes("#"),Vc("#","pathname","hash",a)),Ge(!a.search||!a.search.includes("#"),Vc("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}l=f>=0?t[f]:"/"}let c=F1(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Sr=e=>e.join("/").replace(/\/\/+/g,"/"),z1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vv=["post","put","patch","delete"];new Set(vv);const G1=["get",...vv];new Set(G1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bi.apply(this,arguments)}const Vh=h.createContext(null),H1=h.createContext(null),Or=h.createContext(null),Ml=h.createContext(null),Jn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),yv=h.createContext(null);function q1(e,t){let{relative:n}=t===void 0?{}:t;ga()||Ge(!1);let{basename:s,navigator:a}=h.useContext(Or),{hash:i,pathname:o,search:l}=jv(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Sr([s,o])),a.createHref({pathname:c,search:l,hash:i})}function ga(){return h.useContext(Ml)!=null}function An(){return ga()||Ge(!1),h.useContext(Ml).location}function wv(e){h.useContext(Or).static||h.useLayoutEffect(e)}function Ol(){let{isDataRoute:e}=h.useContext(Jn);return e?l_():K1()}function K1(){ga()||Ge(!1);let e=h.useContext(Vh),{basename:t,future:n,navigator:s}=h.useContext(Or),{matches:a}=h.useContext(Jn),{pathname:i}=An(),o=JSON.stringify(zh(a,n.v7_relativeSplatPath)),l=h.useRef(!1);return wv(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=Bh(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Sr([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}const Y1=h.createContext(null);function Q1(e){let t=h.useContext(Jn).outlet;return t&&h.createElement(Y1.Provider,{value:e},t)}function jv(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=h.useContext(Or),{matches:a}=h.useContext(Jn),{pathname:i}=An(),o=JSON.stringify(zh(a,s.v7_relativeSplatPath));return h.useMemo(()=>Bh(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function J1(e,t){return X1(e,t)}function X1(e,t,n,s){ga()||Ge(!1);let{navigator:a}=h.useContext(Or),{matches:i}=h.useContext(Jn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=An(),u;if(t){var f;let y=typeof t=="string"?pa(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Ge(!1),u=y}else u=d;let g=u.pathname||"/",p=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=b1(e,{pathname:p}),w=r_(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Sr([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Sr([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,s);return t&&w?h.createElement(Ml.Provider,{value:{location:bi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:gr.Pop}},w):w}function Z1(){let e=o_(),t=W1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:a},n):null,null)}const e_=h.createElement(Z1,null);class t_ extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Jn.Provider,{value:this.props.routeContext},h.createElement(yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n_(e){let{routeContext:t,match:n,children:s}=e,a=h.useContext(Vh);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Jn.Provider,{value:t},s)}function r_(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Ge(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:g,errors:p}=n,b=f.route.loader&&g[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,g)=>{let p,b=!1,w=null,y=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||e_,c&&(d<0&&g===0?(c_("route-fallback"),b=!0,y=null):d===g&&(b=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,g+1)),v=()=>{let m;return p?m=w:b?m=y:f.route.Component?m=h.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=u,h.createElement(n_,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement(t_,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var Nv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nv||{}),bv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bv||{});function s_(e){let t=h.useContext(Vh);return t||Ge(!1),t}function a_(e){let t=h.useContext(H1);return t||Ge(!1),t}function i_(e){let t=h.useContext(Jn);return t||Ge(!1),t}function _v(e){let t=i_(),n=t.matches[t.matches.length-1];return n.route.id||Ge(!1),n.route.id}function o_(){var e;let t=h.useContext(yv),n=a_(),s=_v();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function l_(){let{router:e}=s_(Nv.UseNavigateStable),t=_v(bv.UseNavigateStable),n=h.useRef(!1);return wv(()=>{n.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,bi({fromRouteId:t},i)))},[e,t])}const Ym={};function c_(e,t,n){Ym[e]||(Ym[e]=!0)}function d_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ye(e){let{to:t,replace:n,state:s,relative:a}=e;ga()||Ge(!1);let{future:i,static:o}=h.useContext(Or),{matches:l}=h.useContext(Jn),{pathname:c}=An(),d=Ol(),u=Bh(t,zh(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(f),{replace:n,state:s,relative:a}),[d,f,a,n,s]),null}function Wc(e){return Q1(e.context)}function Pe(e){Ge(!1)}function u_(e){let{basename:t="/",children:n=null,location:s,navigationType:a=gr.Pop,navigator:i,static:o=!1,future:l}=e;ga()&&Ge(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:bi({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=pa(s));let{pathname:u="/",search:f="",hash:g="",state:p=null,key:b="default"}=s,w=h.useMemo(()=>{let y=Uh(u,c);return y==null?null:{location:{pathname:y,search:f,hash:g,state:p,key:b},navigationType:a}},[c,u,f,g,p,b,a]);return w==null?null:h.createElement(Or.Provider,{value:d},h.createElement(Ml.Provider,{children:n,value:w}))}function h_(e){let{children:t,location:n}=e;return J1(du(t),n)}new Promise(()=>{});function du(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(s,a)=>{if(!h.isValidElement(s))return;let i=[...t,a];if(s.type===h.Fragment){n.push.apply(n,du(s.props.children,i));return}s.type!==Pe&&Ge(!1),!s.props.index||!s.props.children||Ge(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=du(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uu.apply(this,arguments)}function f_(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function m_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p_(e,t){return e.button===0&&(!t||t==="_self")&&!m_(e)}const g_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x_="6";try{window.__reactRouterVersion=x_}catch{}const v_="startTransition",Qm=Yu[v_];function y_(e){let{basename:t,children:n,future:s,window:a}=e,i=h.useRef();i.current==null&&(i.current=w1({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=h.useCallback(f=>{d&&Qm?Qm(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>d_(s),[s]),h.createElement(u_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wh=h.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,g=f_(t,g_),{basename:p}=h.useContext(Or),b,w=!1;if(typeof d=="string"&&j_.test(d)&&(b=d,w_))try{let m=new URL(window.location.href),N=d.startsWith("//")?new URL(m.protocol+d):new URL(d),k=Uh(N.pathname,p);N.origin===m.origin&&k!=null?d=k+N.search+N.hash:w=!0}catch{}let y=q1(d,{relative:a}),x=N_(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function v(m){s&&s(m),m.defaultPrevented||x(m)}return h.createElement("a",uu({},g,{href:b||y,onClick:w||i?s:v,ref:n,target:c}))});var Jm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jm||(Jm={}));var Xm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xm||(Xm={}));function N_(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ol(),d=An(),u=jv(e,{relative:o});return h.useCallback(f=>{if(p_(f,n)){f.preventDefault();let g=s!==void 0?s:ol(d)===ol(u);c(e,{replace:g,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,n,e,i,o,l])}const b_="modulepreload",__=function(e){return"/"+e},Zm={},Ii=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=__(c),c in Zm)return;Zm[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":b_,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},S_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ii(async()=>{const{default:s}=await Promise.resolve().then(()=>xa);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Gh extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class C_ extends Gh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ep extends Gh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tp extends Gh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hu||(hu={}));var k_=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class E_{constructor(t,{headers:n={},customFetch:s,region:a=hu.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=S_(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return k_(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(w=>{throw new C_(w)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new ep(f);if(!f.ok)throw new tp(f);let p=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield f.json():p==="application/octet-stream"?b=yield f.blob():p==="text/event-stream"?b=f:p==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof tp||a instanceof ep?a.context:void 0}}})}}var Nt={},Hh={},Il={},Li={},Ll={},Fl={},T_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oa=T_();const P_=oa.fetch,Sv=oa.fetch.bind(oa),Cv=oa.Headers,R_=oa.Request,A_=oa.Response,xa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cv,Request:R_,Response:A_,default:Sv,fetch:P_},Symbol.toStringTag,{value:"Module"})),D_=Kj(xa);var $l={};Object.defineProperty($l,"__esModule",{value:!0});let M_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};$l.default=M_;var kv=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fl,"__esModule",{value:!0});const O_=kv(D_),I_=kv($l);let L_=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=O_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,f=null,g=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,g=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const w=await i.text();try{d=JSON.parse(w),Array.isArray(d)&&i.status===404&&(u=[],d=null,g=200,p="OK")}catch{i.status===404&&w===""?(g=204,p="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,g=200,p="OK"),d&&this.shouldThrowOnError)throw new I_.default(d)}return{error:d,data:u,count:f,status:g,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Fl.default=L_;var F_=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ll,"__esModule",{value:!0});const $_=F_(Fl);let U_=class extends $_.default{select(t){let n=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ll.default=U_;var z_=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Li,"__esModule",{value:!0});const B_=z_(Ll);let V_=class extends B_.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Li.default=V_;var W_=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Il,"__esModule",{value:!0});const Oa=W_(Li);let G_=class{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=n,this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Oa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Oa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Oa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Oa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Oa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Il.default=G_;var Ul={},zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.version=void 0;zl.version="0.0.0-automated";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.DEFAULT_HEADERS=void 0;const H_=zl;Ul.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${H_.version}`};var Ev=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hh,"__esModule",{value:!0});const q_=Ev(Il),K_=Ev(Li),Y_=Ul;let Q_=class Tv{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Y_.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new q_.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Tv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(o=s?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",c=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new K_.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Hh.default=Q_;var va=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const Pv=va(Hh);Nt.PostgrestClient=Pv.default;const Rv=va(Il);Nt.PostgrestQueryBuilder=Rv.default;const Av=va(Li);Nt.PostgrestFilterBuilder=Av.default;const Dv=va(Ll);Nt.PostgrestTransformBuilder=Dv.default;const Mv=va(Fl);Nt.PostgrestBuilder=Mv.default;const Ov=va($l);Nt.PostgrestError=Ov.default;var J_=Nt.default={PostgrestClient:Pv.default,PostgrestQueryBuilder:Rv.default,PostgrestFilterBuilder:Av.default,PostgrestTransformBuilder:Dv.default,PostgrestBuilder:Mv.default,PostgrestError:Ov.default};const{PostgrestClient:X_,PostgrestQueryBuilder:NA,PostgrestFilterBuilder:bA,PostgrestTransformBuilder:_A,PostgrestBuilder:SA,PostgrestError:CA}=J_;function Z_(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const eS=Z_(),tS="2.11.15",nS=`realtime-js/${tS}`,rS="1.0.0",Iv=1e4,sS=1e3;var ti;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ti||(ti={}));var ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ot||(ot={}));var an;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(an||(an={}));var fu;(function(e){e.websocket="websocket"})(fu||(fu={}));var Kr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Kr||(Kr={}));class aS{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Lv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Re||(Re={}));const np=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=iS(o,e,t,a),i),{})},iS=(e,t,n,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!s.includes(i)?Fv(i,o):mu(o)},Fv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return dS(t,n)}switch(e){case Re.bool:return oS(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return lS(t);case Re.json:case Re.jsonb:return cS(t);case Re.timestamp:return uS(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return mu(t);default:return mu(t)}},mu=e=>e,oS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Fv(t,l))}return e},uS=e=>typeof e=="string"?e.replace(" ","T"):e,$v=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Gc{constructor(t,n,s={},a=Iv){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rp||(rp={}));class ni{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ni.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ni.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const g=u.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),b=u.filter(y=>p.indexOf(y.presence_ref)<0),w=f.filter(y=>g.indexOf(y.presence_ref)<0);b.length>0&&(l[d]=b),w.length>0&&(c[d]=w)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,n,s,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),g=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...g)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sp||(sp={}));var ap;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ap||(ap={}));var $n;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class qh{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gc(this,an.join,this.params,this.timeout),this.rejoinTimer=new Lv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new ni(this),this.broadcastEndpointURL=$v(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t($n.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t($n.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t($n.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,p=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,b=[];for(let w=0;w<p;w++){const y=g[w],{filter:{event:x,schema:v,table:m,filter:N}}=y,k=u&&u[w];if(k&&k.event===x&&k.schema===v&&k.table===m&&k.filter===N)b.push(Object.assign(Object.assign({},y),{id:k.id}));else{this.unsubscribe(),this.state=ot.errored,t==null||t($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t($n.SUBSCRIBED);return}}).receive("error",u=>{this.state=ot.errored,t==null||t($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Gc(this,an.leave,{},t),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Gc(this,t,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=an;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let g=this._onMessage(o,n,s);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var b,w,y;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(w=p.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(g,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var b,w,y,x,v,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,k=(b=p.filter)===null||b===void 0?void 0:b.event;return N&&((w=n.ids)===null||w===void 0?void 0:w.includes(N))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const N=(v=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return N==="*"||N===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:w,table:y,commit_timestamp:x,type:v,errors:m}=b;g=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:x,eventType:v,new:{},old:{},errors:m}),this._getPayloadRecords(b))}p.callback(g,s)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&qh.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=np(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=np(t.columns,t.old_record)),n}}const ip=()=>{},hS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fS{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Iv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ip,this.ref=0,this.logger=ip,this.conn=null,this.sendBuffer=[],this.serializer=new aS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ii(async()=>{const{default:c}=await Promise.resolve().then(()=>xa);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${fu.websocket}`,this.httpEndpoint=$v(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Lv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=eS),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rS}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ti.connecting:return Kr.Connecting;case ti.open:return Kr.Open;case ti.closing:return Kr.Closing;default:return Kr.Closed}}isConnected(){return this.connectionState()===Kr.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new qh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:nS};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(an.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(sS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:a,payload:i,ref:o}=n;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([hS],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Kh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mS extends Kh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pu extends Kh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var pS=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Uv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ii(async()=>{const{default:s}=await Promise.resolve().then(()=>xa);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},gS=()=>pS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ii(()=>Promise.resolve().then(()=>xa),void 0)).Response:Response}),gu=e=>{if(Array.isArray(e))return e.map(n=>gu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=gu(s)}),t};var ps=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Hc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xS=(e,t,n)=>ps(void 0,void 0,void 0,function*(){const s=yield gS();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new mS(Hc(a),e.status||500))}).catch(a=>{t(new pu(Hc(a),a))}):t(new pu(Hc(e),e))}),vS=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function Fi(e,t,n,s,a,i){return ps(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,vS(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>xS(c,l,s))})})}function ll(e,t,n,s){return ps(this,void 0,void 0,function*(){return Fi(e,"GET",t,n,s)})}function dr(e,t,n,s,a){return ps(this,void 0,void 0,function*(){return Fi(e,"POST",t,s,a,n)})}function yS(e,t,n,s,a){return ps(this,void 0,void 0,function*(){return Fi(e,"PUT",t,s,a,n)})}function wS(e,t,n,s){return ps(this,void 0,void 0,function*(){return Fi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function zv(e,t,n,s,a){return ps(this,void 0,void 0,function*(){return Fi(e,"DELETE",t,s,a,n)})}var yt=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const jS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},op={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NS{constructor(t,n={},s,a){this.url=t,this.headers=n,this.bucketId=s,this.fetch=Uv(a)}uploadOrUpdate(t,n,s,a){return yt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},op),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield f.json();return f.ok?{data:{path:d,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(Xe(i))return{data:null,error:i};throw i}})}upload(t,n,s){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,a){return yt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:op.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),g=yield f.json();return f.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(Xe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return yt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield dr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Kh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}update(t,n,s){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return yt(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Xe(a))return{data:null,error:a};throw a}})}copy(t,n,s){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Xe(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,s){return yt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield dr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Xe(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return yt(this,void 0,void 0,function*(){try{const a=yield dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Xe(a))return{data:null,error:a};throw a}})}download(t,n){return yt(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ll(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}info(t){return yt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield ll(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gu(s),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}exists(t){return yt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield wS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Xe(s)&&s instanceof pu){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return yt(this,void 0,void 0,function*(){try{return{data:yield zv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}list(t,n,s){return yt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},jS),n),{prefix:t||""});return{data:yield dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Xe(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const bS="2.7.1",_S={"X-Client-Info":`storage-js/${bS}`};var _s=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class SS{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},_S),n),this.fetch=Uv(s)}listBuckets(){return _s(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Xe(t))return{data:null,error:t};throw t}})}getBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return _s(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return _s(this,void 0,void 0,function*(){try{return{data:yield yS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}emptyBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield zv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}}class CS extends SS{constructor(t,n={},s){super(t,n,s)}from(t){return new NS(this.url,this.headers,t,this.fetch)}}const kS="2.50.5";let Va="";typeof Deno<"u"?Va="deno":typeof document<"u"?Va="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Va="react-native":Va="node";const ES={"X-Client-Info":`supabase-js-${Va}/${kS}`},TS={headers:ES},PS={schema:"public"},RS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AS={};var DS=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const MS=e=>{let t;return e?t=e:typeof fetch>"u"?t=Sv:t=fetch,(...n)=>t(...n)},OS=()=>typeof Headers>"u"?Cv:Headers,IS=(e,t,n)=>{const s=MS(n),a=OS();return(i,o)=>DS(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var LS=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function FS(e){return e.endsWith("/")?e:e+"/"}function $S(e,t){var n,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,g={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>LS(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const Bv="2.70.0",Rs=30*1e3,xu=3,qc=xu*Rs,US="http://localhost:9999",zS="supabase.auth.token",BS={"X-Client-Info":`gotrue-js/${Bv}`},vu="X-Supabase-Api-Version",Vv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WS=6e5;class Yh extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GS extends Yh{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function HS(e){return ye(e)&&e.name==="AuthApiError"}class Wv extends Yh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ir extends Yh{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class ir extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qS(e){return ye(e)&&e.name==="AuthSessionMissingError"}class lo extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class co extends Ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class uo extends Ir{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KS(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class lp extends Ir{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yu extends Ir{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kc(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class cp extends Ir{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ri extends Ir{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dp=` 	
\r=`.split(""),YS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dp.length;t+=1)e[dp[t].charCodeAt(0)]=-2;for(let t=0;t<cl.length;t+=1)e[cl[t].charCodeAt(0)]=t;return e})();function up(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(cl[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(cl[s]),t.queuedBits-=6}}function Gv(e,t,n){const s=YS[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hp(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{XS(o,s,n)};for(let o=0;o<e.length;o+=1)Gv(e.charCodeAt(o),a,i);return t.join("")}function QS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function JS(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}QS(s,t)}}function XS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ZS(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Gv(e.charCodeAt(a),n,s);return new Uint8Array(t)}function e2(e){const t=[];return JS(e,n=>t.push(n)),new Uint8Array(t)}function t2(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>up(a,n,s)),up(null,n,s),t.join("")}function n2(e){return Math.round(Date.now()/1e3)+e}function r2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},si=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function s2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const Hv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ii(async()=>{const{default:s}=await Promise.resolve().then(()=>xa);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},a2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qv=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ho=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fo=async(e,t)=>{await e.removeItem(t)};class Bl{constructor(){this.promise=new Bl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bl.promiseConstructor=Promise;function Yc(e){const t=e.split(".");if(t.length!==3)throw new ri("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!VS.test(t[s]))throw new ri("JWT not in base64url format");return{header:JSON.parse(hp(t[0])),payload:JSON.parse(hp(t[1])),signature:ZS(t[2]),raw:{header:t[0],payload:t[1]}}}async function i2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function o2(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function l2(e){return("0"+e.toString(16)).substr(-2)}function c2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,l2).join("")}async function d2(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function u2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await d2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ss(e,t,n=!1){const s=c2();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await qv(e,`${t}-code-verifier`,a);const i=await u2(s);return[i,s===i?"plain":"s256"]}const h2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f2(e){const t=e.headers.get(vu);if(!t||!t.match(h2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function m2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function p2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cs(e){if(!g2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var x2=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};const qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v2=[502,503,504];async function fp(e){var t;if(!a2(e))throw new yu(qr(e),0);if(v2.includes(e.status))throw new yu(qr(e),e.status);let n;try{n=await e.json()}catch(i){throw new Wv(qr(i),i)}let s;const a=f2(e);if(a&&a.getTime()>=Vv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new cp(qr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ir}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cp(qr(n),e.status,n.weak_password.reasons);throw new GS(qr(n),e.status||500,s)}const y2=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function be(e,t,n,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[vu]||(i[vu]=Vv["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await w2(e,t,n+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function w2(e,t,n,s,a,i){const o=y2(t,s,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new yu(qr(c),0)}if(l.ok||await fp(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await fp(c)}}function Ln(e){var t;let n=null;_2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=n2(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function mp(e){const t=Ln(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function j2(e){return{data:e,error:null}}function N2(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i}=e,o=x2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function b2(e){return e}function _2(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qc=["global","local","others"];var S2=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};class C2{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Hv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Qc[0]){if(Qc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qc.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fr})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=S2(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:N2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fr})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:b2});if(u.error)throw u.error;const f=await u.json(),g=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);d[`${y}Page`]=w}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(ye(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Cs(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fr})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Cs(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fr})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Cs(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fr})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Cs(t.userId);try{const{data:n,error:s}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Cs(t.userId),Cs(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}const k2={getItem:e=>si()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{si()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{si()&&globalThis.localStorage.removeItem(e)}};function pp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function E2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ks={debug:!!(globalThis&&si()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class T2 extends Kv{}async function P2(e,t,n){ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new T2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ks.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}E2();const R2={url:US,storageKey:zS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gp(e,t,n){return await n()}class _i{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_i.nextInstanceID,_i.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},R2),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new C2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Hv(a.fetch),this.lock=a.lock||gp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=P2:this.lock=gp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:si()?this.storage=k2:(this.memoryStorage={},this.storage=pp(this.memoryStorage)):(this.memoryStorage={},this.storage=pp(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=s2(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),tn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),KS(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?{error:n}:{error:new Wv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ln}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,a;try{let i;if("email"in t){const{email:u,password:f,options:g}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Ss(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:u,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},xform:Ln})}else if("phone"in t){const{phone:u,password:f,options:g}=t;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Ln})}else throw new co("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mp})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mp})}else throw new co("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new lo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,a,i,o,l,c,d,u,f,g,p;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:y,wallet:x,statement:v,options:m}=t;let N;if(tn())if(typeof x=="object")N=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))N=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}const k=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const S=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${k.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(s=m==null?void 0:m.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((d=m==null?void 0:m.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(u=m==null?void 0:m.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await N.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:y,error:x}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:t2(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ln});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new lo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(ye(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await ho(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:i,error:o}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ln});if(await fo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new lo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ye(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:i,nonce:o}=t,l=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ln}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new lo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ss(this.storage,this.storageKey));const{error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new co("You must provide either an email or phone number.")}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ln});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ss(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:j2})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new ir;const{error:a}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new co("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<qc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fr}):await this._useSession(async n=>{var s,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ir}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:fr})})}catch(n){if(ye(n))return qS(n)&&(await this._removeSession(),await fo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new ir;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ss(this.storage,this.storageKey));const{data:d,error:u}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:fr});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ir;const n=Date.now()/1e3;let s=n,a=!0,i=null;const{payload:o}=Yc(t.access_token);if(o.exp&&(s=o.exp,a=s<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ye(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new ir;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!tn())throw new uo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new uo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lp("No code detected.");const{data:v,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new uo("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let g=u+f;c&&(g=parseInt(c));const p=g-u;p*1e3<=Rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=g-f;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,u);const{data:w,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(s){if(ye(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ho(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(HS(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await fo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=r2(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Ss(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:g}=i;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return tn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(ye(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)throw o;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await o2(async a=>(a>0&&await i2(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ln})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Kc(i)&&Date.now()+o-s<Rs})}catch(s){if(this._debug(n,"error",s),ye(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),tn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ho(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qc;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${qc}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Kc(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Bl;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ir;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ye(i)){const o={session:null,error:i};return Kc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await fo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Rs}ms, refresh threshold is ${xu} ticks`),a<=xu&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ss(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await be(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?{data:null,error:i}:await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],a=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Yc(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(o=>o.kid===t);if(s||(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+WS>Date.now()))return s;const{data:a,error:i}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new ri("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),s=a.keys.find(o=>o.kid===t),!s)throw new ri("No matching signing key found in JWKS");return s}async getClaims(t,n={keys:[]}){try{let s=t;if(!s){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};s=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Yc(s);if(m2(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=p2(a.alg),u=await this.fetchJwk(a.kid,n),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,e2(`${l}.${c}`)))throw new ri("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}}}_i.nextInstanceID=0;const A2=_i;class D2 extends A2{constructor(t){super(t)}}var M2=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(f){o(f)}}function c(u){try{d(s.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class O2{constructor(t,n,s){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=FS(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:PS,realtime:AS,auth:Object.assign(Object.assign({},RS),{storageKey:d}),global:TS},f=$S(s??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=IS(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new X_(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new E_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new CS(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return M2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D2({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new fS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I2=(e,t,n)=>new O2(e,t,n),L2="https://hrynukdpjcmwwljcrkkt.supabase.co",F2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhyeW51a2RwamNtd3dsamNya2t0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzMjQ3MzcsImV4cCI6MjA2NzkwMDczN30.pZ49FM0rTYh_JvDS_nqe1jbNYrKqe-lEgmmPpIwT_e4",te=I2(L2,F2,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Yv=h.createContext(void 0),Ee=()=>{const e=h.useContext(Yv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Qv=()=>{const e=Ee();return{...e,signOutWithRedirect:async()=>{try{console.log("🔑 Signing out with redirect..."),await e.signOut(),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}catch(t){console.error("🚨 Error during sign out:",t),window.location.href="/login"}}}},$2=({children:e})=>{const[t,n]=h.useState(null),[s,a]=h.useState(null),[i,o]=h.useState(!0),l=h.useRef(!0);h.useEffect(()=>{l.current=!0,(async()=>{console.log("🔍 Checking for existing session...");try{const{data:{session:v},error:m}=await te.auth.getSession();m&&console.warn("⚠️ Session check error (continuing anyway):",m),v!=null&&v.user&&l.current?(console.log("✅ Found existing session:",v.user.email),c(v.user).catch(N=>{console.warn("⚠️ Background user data loading failed:",N),l.current&&o(!1)})):(console.log("ℹ️ No existing session found"),l.current&&o(!1))}catch(v){console.warn("⚠️ Session check failed (continuing anyway):",v),l.current&&o(!1)}})();const{data:{subscription:x}}=te.auth.onAuthStateChange(async(v,m)=>{var N;console.log("🔔 Auth state change:",v,(N=m==null?void 0:m.user)==null?void 0:N.email),l.current&&(v==="SIGNED_IN"&&(m!=null&&m.user)?(o(!0),c(m.user).catch(k=>{console.warn("⚠️ Background user data loading failed on sign in:",k);const S=m.user.email||"",T=S.includes("admin")?"admin":S.includes("accountant")?"accountant":"client",E={id:m.user.id,email:S,role:T,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),metadata:{firstName:S.split("@")[0]||"User",lastName:"User",isTemporary:!0},businesses:[]};console.log("🚨 Using temporary user due to loading failure:",E),n(E),o(!1)})):v==="SIGNED_OUT"&&(n(null),a(null),o(!1)))});return()=>{l.current=!1,x.unsubscribe()}},[]);const c=async y=>{if(l.current){console.log("👤 Loading user data for:",y.email);try{console.log("🔍 Checking if user exists in database...");let{data:x,error:v}=await te.from("users").select("*").eq("id",y.id).single();if(v&&v.code==="PGRST116"){console.log("👤 User not found in database, creating new user...");const E=y.email||"",B=E.includes("admin")?"admin":E.includes("accountant")?"accountant":"client";try{const{data:U,error:H}=await te.from("users").insert({id:y.id,email:E,role:B,metadata:{firstName:E.split("@")[0]||"User",lastName:"User"}}).select().single();if(H)throw console.error("❌ Error creating user:",H),new Error("Cannot create user in database");x=U}catch{console.warn("⚠️ Failed to create user in database, using temporary user"),x={id:y.id,email:E,role:B,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),address:null,company:null,full_name:E.split("@")[0]||"User",last_sign_in_at:null,phone:null,metadata:{firstName:E.split("@")[0]||"User",lastName:"User",isTemporary:!0}}}}else if(v){console.error("❌ Database error:",v);const E=y.email||"",B=E.includes("admin")?"admin":E.includes("accountant")?"accountant":"client";x={id:y.id,email:E,role:B,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),address:null,company:null,full_name:E.split("@")[0]||"User",last_sign_in_at:null,phone:null,metadata:{firstName:E.split("@")[0]||"User",lastName:"User",isTemporary:!0}}}if(!l.current||!x)return;console.log("✅ User data loaded successfully:",x),console.log("🔍 User metadata from database:",x.metadata),console.log("🏢 Loading user businesses...");let m=[];try{const{data:E,error:B}=await te.from("businesses").select("*").eq("owner_id",x.id);B?console.warn("⚠️ Error loading businesses:",B):m=E||[]}catch(E){console.warn("⚠️ Failed to load businesses (continuing anyway):",E)}const N=x.metadata||{};console.log("📋 Processing metadata:",N);const k=y.user_metadata||{};console.log("🔐 Supabase auth metadata:",k);const S={...k,...N};console.log("🔗 Final merged metadata:",S);const T={id:x.id,email:x.email,role:x.role,created_at:x.created_at,updated_at:x.updated_at,metadata:S,businesses:m};console.log("✅ Setting user with metadata:",T.metadata),console.log("🖼️ Avatar URL in metadata:",T.metadata.avatarUrl),n(T),T.businesses.length>0&&a(T.businesses[0]),console.log("🎉 Authentication completed successfully for:",T.email)}catch(x){console.error("🚨 Failed to load user data:",x);const v=y.email||"",m=v.includes("admin")?"admin":v.includes("accountant")?"accountant":"client",N={id:y.id,email:v,role:m,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),metadata:{firstName:v.split("@")[0]||"User",lastName:"User",isTemporary:!0},businesses:[]};console.log("🚨 Using simple fallback user:",N),n(N)}finally{l.current&&o(!1)}}},w={user:t,currentBusiness:s,loading:i,authenticated:!!t,signIn:async(y,x)=>{console.log("🔐 Attempting to sign in with:",y);const{error:v}=await te.auth.signInWithPassword({email:y,password:x});if(v)throw console.error("🚨 Authentication error:",v),console.error("Error code:",v.status),console.error("Error message:",v.message),v.status===400?v.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials."):v.message.includes("Email not confirmed")?new Error("Please confirm your email address before signing in."):new Error(`Authentication failed: ${v.message}`):v;console.log("✅ Authentication successful!")},signUp:async(y,x,v,m)=>{const{data:N,error:k}=await te.auth.signUp({email:y,password:x});if(k)throw k;if(N.user){const{error:S}=await te.from("users").insert({id:N.user.id,email:y,role:v,metadata:{}});if(S)throw S;if(v==="client"&&m){const{data:T,error:E}=await te.from("businesses").insert({name:m,owner_id:N.user.id,settings:"{}"}).select().single();if(E)throw E}}},signOut:async()=>{console.log("🔑 Signing out...");try{const{error:y}=await te.auth.signOut();if(y)throw console.error("🚨 Error signing out:",y),y;console.log("✅ Sign out successful. Clearing local state."),n(null),a(null),o(!1),localStorage.removeItem("supabase-auth-token")}catch(y){throw console.error("🚨 Error during sign out:",y),n(null),a(null),o(!1),y}},switchBusiness:y=>{if(t){const x=t.businesses.find(v=>v.id===y);x?(a(x),console.log("✅ Switched to business:",x.name)):console.warn("⚠️ Business not found:",y)}},hasPermission:(y,x)=>{if(!t||!s)return!1;if(t.role==="admin")return!0;if(!t.businesses.find(T=>T.id===s.id))return!1;if(s.owner_id===t.id)return!0;const m=t.role,k={client:{financial_data:["read"],documents:["create","read"],meetings:["create","read"],billing:["read"],transactions:["create","read"],reports:["read"]},accountant:{financial_data:["read","update"],transactions:["create","read","update"],reports:["create","read","update"],documents:["read"],meetings:["create","read","update"],clients:["read"]},admin:{"*":["*"]}}[m]||{},S=k[y]||k["*"]||[];return S.includes(x)||S.includes("*")},refreshUserData:async()=>{t!=null&&t.id&&(console.log("🔄 Refreshing user data..."),await c({id:t.id,email:t.email}))}};return r.jsx(Yv.Provider,{value:w,children:e})};function xp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vl(...e){return t=>{let n=!1;const s=e.map(a=>{const i=xp(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():xp(e[a],null)}}}}function ke(...e){return h.useCallback(Vl(...e),e)}function is(e){const t=z2(e),n=h.forwardRef((s,a)=>{const{children:i,...o}=s,l=h.Children.toArray(i),c=l.find(V2);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var U2=is("Slot");function z2(e){const t=h.forwardRef((n,s)=>{const{children:a,...i}=n;if(h.isValidElement(a)){const o=G2(a),l=W2(i,a.props);return a.type!==h.Fragment&&(l.ref=s?Vl(s,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B2=Symbol("radix.slottable");function V2(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B2}function W2(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function G2(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jv(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Jv(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Xv(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Jv(e))&&(s&&(s+=" "),s+=t);return s}const vp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yp=Xv,Wl=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return yp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const g=vp(u)||vp(f);return a[d][g]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,g]=u;return g===void 0||(d[f]=g),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:g,...p}=u;return Object.entries(p).every(b=>{let[w,y]=b;return Array.isArray(y)?y.includes({...i,...l}[w]):{...i,...l}[w]===y})?[...d,f,g]:d},[]);return yp(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Qh="-",H2=e=>{const t=K2(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Qh);return l[0]===""&&l.length!==1&&l.shift(),Zv(l,t)||q2(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},Zv=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?Zv(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Qh);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},wp=/^\[(.+)\]$/,q2=e=>{if(wp.test(e)){const t=wp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},K2=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Q2(Object.entries(e.classGroups),n).forEach(([i,o])=>{wu(o,s,i,t)}),s},wu=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:jp(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(Y2(a)){wu(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{wu(o,jp(t,i),n,s)})})},jp=(e,t)=>{let n=e;return t.split(Qh).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Y2=e=>e.isThemeGetter,Q2=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,J2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},ey="!",X2=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(d===0){if(x===a&&(s||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(x==="/"){f=y;continue}}x==="["?d++:x==="]"&&d--}const g=c.length===0?l:l.substring(u),p=g.startsWith(ey),b=p?g.substring(1):g,w=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:o}):o},Z2=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},eC=e=>({cache:J2(e.cacheSize),parseClassName:X2(e),...H2(e)}),tC=/\s+/,nC=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(tC);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=n(d);let b=!!p,w=s(b?g.substring(0,p):g);if(!w){if(!b){l=d+(l.length>0?" "+l:l);continue}if(w=s(g),!w){l=d+(l.length>0?" "+l:l);continue}b=!1}const y=Z2(u).join(":"),x=f?y+ey:y,v=x+w;if(i.includes(v))continue;i.push(v);const m=a(w,b);for(let N=0;N<m.length;++N){const k=m[N];i.push(x+k)}l=d+(l.length>0?" "+l:l)}return l};function rC(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ty(t))&&(s&&(s+=" "),s+=n);return s}const ty=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=ty(e[s]))&&(n&&(n+=" "),n+=t);return n};function sC(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=eC(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=nC(c,n);return a(c,u),u}return function(){return i(rC.apply(null,arguments))}}const De=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ny=/^\[(?:([a-z-]+):)?(.+)\]$/i,aC=/^\d+\/\d+$/,iC=new Set(["px","full","screen"]),oC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,In=e=>Js(e)||iC.has(e)||aC.test(e),sr=e=>ya(e,"length",yC),Js=e=>!!e&&!Number.isNaN(Number(e)),Jc=e=>ya(e,"number",Js),Ia=e=>!!e&&Number.isInteger(Number(e)),hC=e=>e.endsWith("%")&&Js(e.slice(0,-1)),je=e=>ny.test(e),ar=e=>oC.test(e),fC=new Set(["length","size","percentage"]),mC=e=>ya(e,fC,ry),pC=e=>ya(e,"position",ry),gC=new Set(["image","url"]),xC=e=>ya(e,gC,jC),vC=e=>ya(e,"",wC),La=()=>!0,ya=(e,t,n)=>{const s=ny.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},yC=e=>lC.test(e)&&!cC.test(e),ry=()=>!1,wC=e=>dC.test(e),jC=e=>uC.test(e),NC=()=>{const e=De("colors"),t=De("spacing"),n=De("blur"),s=De("brightness"),a=De("borderColor"),i=De("borderRadius"),o=De("borderSpacing"),l=De("borderWidth"),c=De("contrast"),d=De("grayscale"),u=De("hueRotate"),f=De("invert"),g=De("gap"),p=De("gradientColorStops"),b=De("gradientColorStopPositions"),w=De("inset"),y=De("margin"),x=De("opacity"),v=De("padding"),m=De("saturate"),N=De("scale"),k=De("sepia"),S=De("skew"),T=De("space"),E=De("translate"),B=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",je,t],R=()=>[je,t],P=()=>["",In,sr],F=()=>["auto",Js,je],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],C=()=>["","0",je],_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Js,je];return{cacheSize:500,separator:":",theme:{colors:[La],spacing:[In,sr],blur:["none","",ar,je],brightness:L(),borderColor:[e],borderRadius:["none","","full",ar,je],borderSpacing:R(),borderWidth:P(),contrast:L(),grayscale:C(),hueRotate:L(),invert:C(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[hC,sr],inset:H(),margin:H(),opacity:L(),padding:R(),saturate:L(),scale:L(),sepia:C(),skew:L(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[ar]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),je]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ia,je]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",Ia,je]}],"grid-cols":[{"grid-cols":[La]}],"col-start-end":[{col:["auto",{span:["full",Ia,je]},je]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[La]}],"row-start-end":[{row:["auto",{span:[Ia,je]},je]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,t]}],"min-w":[{"min-w":[je,t,"min","max","fit"]}],"max-w":[{"max-w":[je,t,"none","full","min","max","fit","prose",{screen:[ar]},ar]}],h:[{h:[je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ar,sr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jc]}],"font-family":[{font:[La]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",Js,Jc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",In,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",In,sr]}],"underline-offset":[{"underline-offset":["auto",In,je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),pC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[In,je]}],"outline-w":[{outline:[In,sr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[In,sr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ar,vC]}],"shadow-color":[{shadow:[La]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ar,je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ia,je]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[In,sr,Jc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bC=sC(NC);function he(...e){return bC(Xv(e))}const _C=Wl("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),z=h.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?U2:"button";return r.jsx(o,{className:he(_C({variant:t,size:n,className:e})),ref:i,...a})});z.displayName="Button";const ue=h.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:he("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));ue.displayName="Input";var SC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=SC.reduce((e,t)=>{const n=is(`Primitive.${t}`),s=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function sy(e,t){e&&ma.flushSync(()=>e.dispatchEvent(t))}var CC="Label",ay=h.forwardRef((e,t)=>r.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ay.displayName=CC;var iy=ay;const kC=Wl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=h.forwardRef(({className:e,...t},n)=>r.jsx(iy,{ref:n,className:he(kC(),e),...t}));se.displayName=iy.displayName;const q=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:he("rounded-xl border bg-card text-card-foreground shadow",e),...t}));q.displayName="Card";const ie=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",e),...t}));ie.displayName="CardHeader";const oe=h.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:he("font-semibold leading-none tracking-tight",e),...t}));oe.displayName="CardTitle";const Ne=h.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:he("text-sm text-muted-foreground",e),...t}));Ne.displayName="CardDescription";const K=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:he("p-6 pt-0",e),...t}));K.displayName="CardContent";const EC=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",e),...t}));EC.displayName="CardFooter";const TC=Wl("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ze=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:he(TC({variant:t}),e),...n}));ze.displayName="Alert";const PC=h.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:he("mb-1 font-medium leading-none tracking-tight",e),...t}));PC.displayName="AlertTitle";const Be=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:he("text-sm [&_p]:leading-relaxed",e),...t}));Be.displayName="AlertDescription";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const n=h.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>h.createElement("svg",{ref:u,...RC,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${AC(e)}`,l].join(" "),...d},[...t.map(([f,g])=>h.createElement(f,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ae("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ae("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ae("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ae("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=ae("FileBarChart",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ae("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ae("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=ae("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ae("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ae("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ae("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ae("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ae("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ae("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ae("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ZC=()=>{var x,v;const[e,t]=h.useState(""),[n,s]=h.useState(""),[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(""),{signIn:u,user:f}=Ee(),g=Ol(),b=((v=(x=An().state)==null?void 0:x.from)==null?void 0:v.pathname)||"/dashboard";h.useEffect(()=>{f&&g(b,{replace:!0})},[f,g,b]);const w=async m=>{m.preventDefault(),l(!0),d("");try{await u(e,n)}catch(N){d(N.message||"An error occurred during login"),l(!1)}},y=async(m,N)=>{t(m),s(N),l(!0),d("");try{await u(m,N)}catch(k){d(k.message||"An error occurred during login"),l(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs(q,{className:"w-full max-w-md",children:[r.jsxs(ie,{className:"text-center",children:[r.jsx(oe,{className:"text-2xl font-bold",children:"SwiftBooks Login"}),r.jsx(Ne,{children:"Please sign in to your SwiftBooks account"})]}),r.jsxs(K,{className:"space-y-6",children:[c&&r.jsx(ze,{variant:"destructive",children:r.jsx(Be,{children:c})}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"email",children:"Email"}),r.jsx(ue,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:m=>t(m.target.value),required:!0,disabled:o})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"password",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ue,{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:n,onChange:m=>s(m.target.value),required:!0,disabled:o}),r.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:o,children:a?r.jsx(BC,{size:20}):r.jsx(Lr,{size:20})})]})]}),r.jsx(z,{type:"submit",className:"w-full",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx(Hl,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or try demo accounts"})})]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-3",children:"Demo Accounts:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(z,{variant:"outline",size:"sm",onClick:()=>y("admin@swiftbooks.com","admin123"),disabled:o,className:"w-full text-left justify-start",children:[r.jsx("span",{className:"font-medium",children:"Admin:"}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"admin@swiftbooks.com"})]}),r.jsxs(z,{variant:"outline",size:"sm",onClick:()=>y("accountant@swiftbooks.com","accountant123"),disabled:o,className:"w-full text-left justify-start",children:[r.jsx("span",{className:"font-medium",children:"Accountant:"}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"accountant@swiftbooks.com"})]}),r.jsxs(z,{variant:"outline",size:"sm",onClick:()=>y("client@swiftbooks.com","client123"),disabled:o,className:"w-full text-left justify-start",children:[r.jsx("span",{className:"font-medium",children:"Client:"}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"client@swiftbooks.com"})]})]}),r.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"💡 Click any demo account to login instantly"})]})})]})]})})},ek=()=>{var n,s;const{user:e,signOut:t}=Ee();return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{className:"text-2xl text-green-600",children:"✅ Client Login Test - SUCCESS!"}),r.jsx(Ne,{children:"Login functionality is working correctly for Client role"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"User Information:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",e==null?void 0:e.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Role:"})," ",e==null?void 0:e.role]}),r.jsxs("p",{children:[r.jsx("strong",{children:"User ID:"})," ",e==null?void 0:e.id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Created:"})," ",e!=null&&e.created_at?new Date(e.created_at).toLocaleString():"N/A"]}),((n=e==null?void 0:e.metadata)==null?void 0:n.isTemporary)&&r.jsxs("p",{children:[r.jsx("strong",{children:"Mode:"})," ",r.jsx("span",{className:"text-orange-600",children:"Temporary (No Database)"})]}),((s=e==null?void 0:e.metadata)==null?void 0:s.isMock)&&r.jsxs("p",{children:[r.jsx("strong",{children:"Mode:"})," ",r.jsx("span",{className:"text-purple-600",children:"Mock Authentication"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Test Status:"}),r.jsxs("ul",{className:"text-sm space-y-1",children:[r.jsx("li",{children:"✅ Authentication successful"}),r.jsx("li",{children:"✅ User data loaded from database"}),r.jsx("li",{children:"✅ Role-based routing working"}),r.jsx("li",{children:"✅ Protected route access granted"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(z,{onClick:t,variant:"outline",children:"Sign Out"}),r.jsx(z,{onClick:()=>window.location.href="/dashboard",className:"bg-green-600",children:"Go to Full Dashboard"})]})]})]})})})},tk=()=>{var n,s;const{user:e,signOut:t}=Ee();return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{className:"text-2xl text-blue-600",children:"✅ Accountant Login Test - SUCCESS!"}),r.jsx(Ne,{children:"Login functionality is working correctly for Accountant role"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"User Information:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",e==null?void 0:e.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Role:"})," ",e==null?void 0:e.role]}),r.jsxs("p",{children:[r.jsx("strong",{children:"User ID:"})," ",e==null?void 0:e.id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Created:"})," ",e!=null&&e.created_at?new Date(e.created_at).toLocaleString():"N/A"]}),((n=e==null?void 0:e.metadata)==null?void 0:n.isTemporary)&&r.jsxs("p",{children:[r.jsx("strong",{children:"Mode:"})," ",r.jsx("span",{className:"text-orange-600",children:"Temporary (No Database)"})]}),((s=e==null?void 0:e.metadata)==null?void 0:s.isMock)&&r.jsxs("p",{children:[r.jsx("strong",{children:"Mode:"})," ",r.jsx("span",{className:"text-purple-600",children:"Mock Authentication"})]})]})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Test Status:"}),r.jsxs("ul",{className:"text-sm space-y-1",children:[r.jsx("li",{children:"✅ Authentication successful"}),r.jsx("li",{children:"✅ User data loaded from database"}),r.jsx("li",{children:"✅ Role-based routing working"}),r.jsx("li",{children:"✅ Protected route access granted"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(z,{onClick:t,variant:"outline",children:"Sign Out"}),r.jsx(z,{onClick:()=>window.location.href="/dashboard",className:"bg-blue-600",children:"Go to Full Dashboard"})]})]})]})})})},nk=()=>{var n,s;const{user:e,signOut:t}=Ee();return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{className:"text-2xl text-purple-600",children:"✅ Admin Login Test - SUCCESS!"}),r.jsx(Ne,{children:"Login functionality is working correctly for Admin role"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"User Information:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",e==null?void 0:e.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Role:"})," ",e==null?void 0:e.role]}),r.jsxs("p",{children:[r.jsx("strong",{children:"User ID:"})," ",e==null?void 0:e.id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Created:"})," ",e!=null&&e.created_at?new Date(e.created_at).toLocaleString():"N/A"]}),((n=e==null?void 0:e.metadata)==null?void 0:n.isTemporary)&&r.jsxs("p",{children:[r.jsx("strong",{children:"Mode:"})," ",r.jsx("span",{className:"text-orange-600",children:"Temporary (No Database)"})]}),((s=e==null?void 0:e.metadata)==null?void 0:s.isMock)&&r.jsxs("p",{children:[r.jsx("strong",{children:"Mode:"})," ",r.jsx("span",{className:"text-purple-600",children:"Mock Authentication"})]})]})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Test Status:"}),r.jsxs("ul",{className:"text-sm space-y-1",children:[r.jsx("li",{children:"✅ Authentication successful"}),r.jsx("li",{children:"✅ User data loaded from database"}),r.jsx("li",{children:"✅ Role-based routing working"}),r.jsx("li",{children:"✅ Protected route access granted"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(z,{onClick:t,variant:"outline",children:"Sign Out"}),r.jsx(z,{onClick:()=>window.location.href="/dashboard",className:"bg-purple-600",children:"Go to Full Dashboard"})]})]})]})})})};var rk=e=>{switch(e){case"success":return ik;case"info":return lk;case"warning":return ok;case"error":return ck;default:return null}},sk=Array(12).fill(0),ak=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},sk.map((n,s)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),ik=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ok=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lk=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ck=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dk=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uk=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Eu=1,hk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Eu++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],X.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(mk(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Eu++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wt=new hk,fk=(e,t)=>{let n=(t==null?void 0:t.id)||Eu++;return wt.addToast({title:e,...t,id:n}),n},mk=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pk=fk,gk=()=>wt.toasts,xk=()=>wt.getActiveToasts();Object.assign(pk,{success:wt.success,info:wt.info,warning:wt.warning,error:wt.error,custom:wt.custom,message:wt.message,promise:wt.promise,dismiss:wt.dismiss,loading:wt.loading},{getHistory:gk,getToasts:xk});function vk(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}vk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function mo(e){return e.label!==void 0}var yk=3,wk="32px",jk="16px",Sp=4e3,Nk=356,bk=14,_k=20,Sk=200;function en(...e){return e.filter(Boolean).join(" ")}function Ck(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var kk=e=>{var t,n,s,a,i,o,l,c,d,u,f;let{invert:g,toast:p,unstyled:b,interacting:w,setHeights:y,visibleToasts:x,heights:v,index:m,toasts:N,expanded:k,removeToast:S,defaultRichColors:T,closeButton:E,style:B,cancelButtonStyle:U,actionButtonStyle:H,className:R="",descriptionClassName:P="",duration:F,position:M,gap:$,loadingIcon:D,expandByDefault:A,classNames:C,icons:_,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:I}=e,[W,G]=X.useState(null),[Z,ce]=X.useState(null),[V,ee]=X.useState(!1),[de,j]=X.useState(!1),[O,Y]=X.useState(!1),[ne,qe]=X.useState(!1),[Ur,Zn]=X.useState(!1),[zr,Sa]=X.useState(0),[ys,Pf]=X.useState(0),Ca=X.useRef(p.duration||F||Sp),Rf=X.useRef(null),Br=X.useRef(null),Fj=m===0,$j=m+1<=x,zt=p.type,ws=p.dismissible!==!1,Uj=p.className||"",zj=p.descriptionClassName||"",Wi=X.useMemo(()=>v.findIndex(xe=>xe.toastId===p.id)||0,[v,p.id]),Bj=X.useMemo(()=>{var xe;return(xe=p.closeButton)!=null?xe:E},[p.closeButton,E]),Af=X.useMemo(()=>p.duration||F||Sp,[p.duration,F]),pc=X.useRef(0),js=X.useRef(0),Df=X.useRef(0),Ns=X.useRef(null),[Vj,Wj]=M.split("-"),Mf=X.useMemo(()=>v.reduce((xe,Te,Ie)=>Ie>=Wi?xe:xe+Te.height,0),[v,Wi]),Of=uk(),Gj=p.invert||g,gc=zt==="loading";js.current=X.useMemo(()=>Wi*$+Mf,[Wi,Mf]),X.useEffect(()=>{Ca.current=Af},[Af]),X.useEffect(()=>{ee(!0)},[]),X.useEffect(()=>{let xe=Br.current;if(xe){let Te=xe.getBoundingClientRect().height;return Pf(Te),y(Ie=>[{toastId:p.id,height:Te,position:p.position},...Ie]),()=>y(Ie=>Ie.filter(Qt=>Qt.toastId!==p.id))}},[y,p.id]),X.useLayoutEffect(()=>{if(!V)return;let xe=Br.current,Te=xe.style.height;xe.style.height="auto";let Ie=xe.getBoundingClientRect().height;xe.style.height=Te,Pf(Ie),y(Qt=>Qt.find(Jt=>Jt.toastId===p.id)?Qt.map(Jt=>Jt.toastId===p.id?{...Jt,height:Ie}:Jt):[{toastId:p.id,height:Ie,position:p.position},...Qt])},[V,p.title,p.description,y,p.id]);let er=X.useCallback(()=>{j(!0),Sa(js.current),y(xe=>xe.filter(Te=>Te.toastId!==p.id)),setTimeout(()=>{S(p)},Sk)},[p,S,y,js]);X.useEffect(()=>{if(p.promise&&zt==="loading"||p.duration===1/0||p.type==="loading")return;let xe;return k||w||I&&Of?(()=>{if(Df.current<pc.current){let Te=new Date().getTime()-pc.current;Ca.current=Ca.current-Te}Df.current=new Date().getTime()})():Ca.current!==1/0&&(pc.current=new Date().getTime(),xe=setTimeout(()=>{var Te;(Te=p.onAutoClose)==null||Te.call(p,p),er()},Ca.current)),()=>clearTimeout(xe)},[k,w,p,zt,I,Of,er]),X.useEffect(()=>{p.delete&&er()},[er,p.delete]);function Hj(){var xe,Te,Ie;return _!=null&&_.loading?X.createElement("div",{className:en(C==null?void 0:C.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":zt==="loading"},_.loading):D?X.createElement("div",{className:en(C==null?void 0:C.loader,(Te=p==null?void 0:p.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":zt==="loading"},D):X.createElement(ak,{className:en(C==null?void 0:C.loader,(Ie=p==null?void 0:p.classNames)==null?void 0:Ie.loader),visible:zt==="loading"})}return X.createElement("li",{tabIndex:0,ref:Br,className:en(R,Uj,C==null?void 0:C.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[zt],(n=p==null?void 0:p.classNames)==null?void 0:n[zt]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:T,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":V,"data-promise":!!p.promise,"data-swiped":Ur,"data-removed":de,"data-visible":$j,"data-y-position":Vj,"data-x-position":Wj,"data-index":m,"data-front":Fj,"data-swiping":O,"data-dismissible":ws,"data-type":zt,"data-invert":Gj,"data-swipe-out":ne,"data-swipe-direction":Z,"data-expanded":!!(k||A&&V),style:{"--index":m,"--toasts-before":m,"--z-index":N.length-m,"--offset":`${de?zr:js.current}px`,"--initial-height":A?"auto":`${ys}px`,...B,...p.style},onDragEnd:()=>{Y(!1),G(null),Ns.current=null},onPointerDown:xe=>{gc||!ws||(Rf.current=new Date,Sa(js.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Y(!0),Ns.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Te,Ie,Qt;if(ne||!ws)return;Ns.current=null;let Jt=Number(((xe=Br.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tr=Number(((Te=Br.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vr=new Date().getTime()-((Ie=Rf.current)==null?void 0:Ie.getTime()),Xt=W==="x"?Jt:tr,nr=Math.abs(Xt)/Vr;if(Math.abs(Xt)>=_k||nr>.11){Sa(js.current),(Qt=p.onDismiss)==null||Qt.call(p,p),ce(W==="x"?Jt>0?"right":"left":tr>0?"down":"up"),er(),qe(!0),Zn(!1);return}Y(!1),G(null)},onPointerMove:xe=>{var Te,Ie,Qt,Jt;if(!Ns.current||!ws||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;let tr=xe.clientY-Ns.current.y,Vr=xe.clientX-Ns.current.x,Xt=(Ie=e.swipeDirections)!=null?Ie:Ck(M);!W&&(Math.abs(Vr)>1||Math.abs(tr)>1)&&G(Math.abs(Vr)>Math.abs(tr)?"x":"y");let nr={x:0,y:0};W==="y"?(Xt.includes("top")||Xt.includes("bottom"))&&(Xt.includes("top")&&tr<0||Xt.includes("bottom")&&tr>0)&&(nr.y=tr):W==="x"&&(Xt.includes("left")||Xt.includes("right"))&&(Xt.includes("left")&&Vr<0||Xt.includes("right")&&Vr>0)&&(nr.x=Vr),(Math.abs(nr.x)>0||Math.abs(nr.y)>0)&&Zn(!0),(Qt=Br.current)==null||Qt.style.setProperty("--swipe-amount-x",`${nr.x}px`),(Jt=Br.current)==null||Jt.style.setProperty("--swipe-amount-y",`${nr.y}px`)}},Bj&&!p.jsx?X.createElement("button",{"aria-label":L,"data-disabled":gc,"data-close-button":!0,onClick:gc||!ws?()=>{}:()=>{var xe;er(),(xe=p.onDismiss)==null||xe.call(p,p)},className:en(C==null?void 0:C.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=_==null?void 0:_.close)!=null?i:dk):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:X.createElement(X.Fragment,null,zt||p.icon||p.promise?X.createElement("div",{"data-icon":"",className:en(C==null?void 0:C.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Hj():null,p.type!=="loading"?p.icon||(_==null?void 0:_[zt])||rk(zt):null):null,X.createElement("div",{"data-content":"",className:en(C==null?void 0:C.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},X.createElement("div",{"data-title":"",className:en(C==null?void 0:C.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?X.createElement("div",{"data-description":"",className:en(P,zj,C==null?void 0:C.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&mo(p.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||U,onClick:xe=>{var Te,Ie;mo(p.cancel)&&ws&&((Ie=(Te=p.cancel).onClick)==null||Ie.call(Te,xe),er())},className:en(C==null?void 0:C.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&mo(p.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||H,onClick:xe=>{var Te,Ie;mo(p.action)&&((Ie=(Te=p.action).onClick)==null||Ie.call(Te,xe),!xe.defaultPrevented&&er())},className:en(C==null?void 0:C.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Cp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Ek(e,t){let n={};return[e,t].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?jk:wk;function c(d){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),n}var Tk=h.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:g,style:p,visibleToasts:b=yk,toastOptions:w,dir:y=Cp(),gap:x=bk,loadingIcon:v,icons:m,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:k}=e,[S,T]=X.useState([]),E=X.useMemo(()=>Array.from(new Set([s].concat(S.filter(I=>I.position).map(I=>I.position)))),[S,s]),[B,U]=X.useState([]),[H,R]=X.useState(!1),[P,F]=X.useState(!1),[M,$]=X.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=X.useRef(null),A=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=X.useRef(null),_=X.useRef(!1),L=X.useCallback(I=>{T(W=>{var G;return(G=W.find(Z=>Z.id===I.id))!=null&&G.delete||wt.dismiss(I.id),W.filter(({id:Z})=>Z!==I.id)})},[]);return X.useEffect(()=>wt.subscribe(I=>{if(I.dismiss){T(W=>W.map(G=>G.id===I.id?{...G,delete:!0}:G));return}setTimeout(()=>{mv.flushSync(()=>{T(W=>{let G=W.findIndex(Z=>Z.id===I.id);return G!==-1?[...W.slice(0,G),{...W[G],...I},...W.slice(G+1)]:[I,...W]})})})}),[]),X.useEffect(()=>{if(u!=="system"){$(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:W})=>{$(W?"dark":"light")})}catch{I.addListener(({matches:G})=>{try{$(G?"dark":"light")}catch(Z){console.error(Z)}})}},[u]),X.useEffect(()=>{S.length<=1&&R(!1)},[S]),X.useEffect(()=>{let I=W=>{var G,Z;a.every(ce=>W[ce]||W.code===ce)&&(R(!0),(G=D.current)==null||G.focus()),W.code==="Escape"&&(document.activeElement===D.current||(Z=D.current)!=null&&Z.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[a]),X.useEffect(()=>{if(D.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,_.current=!1)}},[D.current]),X.createElement("section",{ref:t,"aria-label":`${N} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((I,W)=>{var G;let[Z,ce]=I.split("-");return S.length?X.createElement("ol",{key:I,dir:y==="auto"?Cp():y,tabIndex:-1,ref:D,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":Z,"data-lifted":H&&S.length>1&&!i,"data-x-position":ce,style:{"--front-toast-height":`${((G=B[0])==null?void 0:G.height)||0}px`,"--width":`${Nk}px`,"--gap":`${x}px`,...p,...Ek(c,d)},onBlur:V=>{_.current&&!V.currentTarget.contains(V.relatedTarget)&&(_.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||_.current||(_.current=!0,C.current=V.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{P||R(!1)},onDragEnd:()=>R(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(V=>!V.position&&W===0||V.position===I).map((V,ee)=>{var de,j;return X.createElement(kk,{key:V.id,icons:m,index:ee,toast:V,defaultRichColors:f,duration:(de=w==null?void 0:w.duration)!=null?de:g,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:b,closeButton:(j=w==null?void 0:w.closeButton)!=null?j:o,interacting:P,position:I,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:L,toasts:S.filter(O=>O.position==V.position),heights:B.filter(O=>O.position==V.position),setHeights:U,expandByDefault:i,gap:x,loadingIcon:v,expanded:H,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});function Pk(e,t){const n=h.createContext(t),s=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=h.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Mn(e,t=[]){let n=[];function s(i,o){const l=h.createContext(o),c=n.length;n=[...n,o];const d=f=>{var x;const{scope:g,children:p,...b}=f,w=((x=g==null?void 0:g[e])==null?void 0:x[c])||l,y=h.useMemo(()=>b,Object.values(b));return r.jsx(w.Provider,{value:y,children:p})};d.displayName=i+"Provider";function u(f,g){var w;const p=((w=g==null?void 0:g[e])==null?void 0:w[c])||l,b=h.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Rk(a,...t)]}function Rk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function pn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var Je=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},fy={exports:{}},my={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=h;function Ak(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dk=typeof Object.is=="function"?Object.is:Ak,Mk=ca.useState,Ok=ca.useEffect,Ik=ca.useLayoutEffect,Lk=ca.useDebugValue;function Fk(e,t){var n=t(),s=Mk({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return Ik(function(){a.value=n,a.getSnapshot=t,Zc(a)&&i({inst:a})},[e,n,t]),Ok(function(){return Zc(a)&&i({inst:a}),e(function(){Zc(a)&&i({inst:a})})},[e]),Lk(n),n}function Zc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dk(e,n)}catch{return!0}}function $k(e,t){return t()}var Uk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$k:Fk;my.useSyncExternalStore=ca.useSyncExternalStore!==void 0?ca.useSyncExternalStore:Uk;fy.exports=my;var zk=fy.exports;function Bk(){return zk.useSyncExternalStore(Vk,()=>!0,()=>!1)}function Vk(){return()=>{}}var tf="Avatar",[Wk,kA]=Mn(tf),[Gk,py]=Wk(tf),gy=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,i]=h.useState("idle");return r.jsx(Gk,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(ge.span,{...s,ref:t})})});gy.displayName=tf;var xy="AvatarImage",vy=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=py(xy,n),l=Hk(s,i),c=pn(d=>{a(d),o.onImageLoadingStatusChange(d)});return Je(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(ge.img,{...i,ref:t,src:s}):null});vy.displayName=xy;var yy="AvatarFallback",wy=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=py(yy,n),[o,l]=h.useState(s===void 0);return h.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(ge.span,{...a,ref:t}):null});wy.displayName=yy;function kp(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Hk(e,{referrerPolicy:t,crossOrigin:n}){const s=Bk(),a=h.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=h.useState(()=>kp(i,e));return Je(()=>{l(kp(i,e))},[i,e]),Je(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}var jy=gy,Ny=vy,by=wy;const _y=h.forwardRef(({className:e,...t},n)=>r.jsx(jy,{ref:n,className:he("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));_y.displayName=jy.displayName;const Sy=h.forwardRef(({className:e,...t},n)=>r.jsx(Ny,{ref:n,className:he("aspect-square h-full w-full",e),...t}));Sy.displayName=Ny.displayName;const Cy=h.forwardRef(({className:e,...t},n)=>r.jsx(by,{ref:n,className:he("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Cy.displayName=by.displayName;const ky=({size:e="md",showName:t=!1,className:n=""})=>{var u;const{user:s}=Ee(),a={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"},i=(f,g)=>{if(g!=null&&g.firstName&&(g!=null&&g.lastName))return`${g.firstName[0]}${g.lastName[0]}`.toUpperCase();if(f){const p=f.split("@")[0].split(".");return p.length>=2?`${p[0][0]}${p[1][0]}`.toUpperCase():f.substring(0,2).toUpperCase()}return"U"},o=(f,g)=>g!=null&&g.firstName&&(g!=null&&g.lastName)?`${g.firstName} ${g.lastName}`:g!=null&&g.firstName?g.firstName:(f==null?void 0:f.split("@")[0])||"User",l=(u=s==null?void 0:s.metadata)==null?void 0:u.avatarUrl,c=i((s==null?void 0:s.email)||"",s==null?void 0:s.metadata),d=o((s==null?void 0:s.email)||"",s==null?void 0:s.metadata);return r.jsxs("div",{className:`flex items-center space-x-3 ${n}`,children:[r.jsxs(_y,{className:a[e],children:[l&&r.jsx(Sy,{src:l,alt:`${d}'s avatar`,onError:f=>{f.currentTarget.style.display="none"}}),r.jsx(Cy,{className:"bg-blue-600 text-white font-medium",children:l?r.jsx(la,{className:"h-4 w-4"}):c})]}),t&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:d}),r.jsx("span",{className:"text-xs text-gray-500",children:s==null?void 0:s.email})]})]})},qk=Wl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function fe({className:e,variant:t,...n}){return r.jsx("div",{className:he(qk({variant:t}),e),...n})}function Ep(e,[t,n]){return Math.min(n,Math.max(t,e))}function le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function nf(e){const t=e+"CollectionProvider",[n,s]=Mn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:y,children:x}=w,v=X.useRef(null),m=X.useRef(new Map).current;return r.jsx(a,{scope:y,itemMap:m,collectionRef:v,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=is(l),d=X.forwardRef((w,y)=>{const{scope:x,children:v}=w,m=i(l,x),N=ke(y,m.collectionRef);return r.jsx(c,{ref:N,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",g=is(u),p=X.forwardRef((w,y)=>{const{scope:x,children:v,...m}=w,N=X.useRef(null),k=ke(y,N),S=i(u,x);return X.useEffect(()=>(S.itemMap.set(N,{ref:N,...m}),()=>void S.itemMap.delete(N))),r.jsx(g,{[f]:"",ref:k,children:v})});p.displayName=u;function b(w){const y=i(e+"CollectionConsumer",w);return X.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const m=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,T)=>m.indexOf(S.ref.current)-m.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},b,s]}var Kk=h.createContext(void 0);function Kl(e){const t=h.useContext(Kk);return e||t||"ltr"}function Yk(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e);h.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Qk="DismissableLayer",Tu="dismissableLayer.update",Jk="dismissableLayer.pointerDownOutside",Xk="dismissableLayer.focusOutside",Tp,Ey=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yl=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(Ey),[u,f]=h.useState(null),g=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),b=ke(t,T=>f(T)),w=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(y),v=u?w.indexOf(u):-1,m=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=x,k=tE(T=>{const E=T.target,B=[...d.branches].some(U=>U.contains(E));!N||B||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),S=nE(T=>{const E=T.target;[...d.branches].some(U=>U.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return Yk(T=>{v===d.layers.size-1&&(s==null||s(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Tp=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Pp(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Tp)}},[u,g,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Pp())},[u,d]),h.useEffect(()=>{const T=()=>p({});return document.addEventListener(Tu,T),()=>document.removeEventListener(Tu,T)},[]),r.jsx(ge.div,{...c,ref:b,style:{pointerEvents:m?N?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,S.onFocusCapture),onBlurCapture:le(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,k.onPointerDownCapture)})});Yl.displayName=Qk;var Zk="DismissableLayerBranch",eE=h.forwardRef((e,t)=>{const n=h.useContext(Ey),s=h.useRef(null),a=ke(t,s);return h.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(ge.div,{...e,ref:a})});eE.displayName=Zk;function tE(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e),s=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){Ty(Jk,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function nE(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e),s=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!s.current&&Ty(Xk,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Pp(){const e=new CustomEvent(Tu);document.dispatchEvent(e)}function Ty(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?sy(a,i):a.dispatchEvent(i)}var ed=0;function rf(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Rp()),document.body.insertAdjacentElement("beforeend",e[1]??Rp()),ed++,()=>{ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ed--}},[])}function Rp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var td="focusScope.autoFocusOnMount",nd="focusScope.autoFocusOnUnmount",Ap={bubbles:!1,cancelable:!0},rE="FocusScope",Ql=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=pn(a),u=pn(i),f=h.useRef(null),g=ke(t,w=>c(w)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let w=function(m){if(p.paused||!l)return;const N=m.target;l.contains(N)?f.current=N:or(f.current,{select:!0})},y=function(m){if(p.paused||!l)return;const N=m.relatedTarget;N!==null&&(l.contains(N)||or(f.current,{select:!0}))},x=function(m){if(document.activeElement===document.body)for(const k of m)k.removedNodes.length>0&&or(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",y);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",y),v.disconnect()}}},[s,l,p.paused]),h.useEffect(()=>{if(l){Mp.add(p);const w=document.activeElement;if(!l.contains(w)){const x=new CustomEvent(td,Ap);l.addEventListener(td,d),l.dispatchEvent(x),x.defaultPrevented||(sE(cE(Py(l)),{select:!0}),document.activeElement===w&&or(l))}return()=>{l.removeEventListener(td,d),setTimeout(()=>{const x=new CustomEvent(nd,Ap);l.addEventListener(nd,u),l.dispatchEvent(x),x.defaultPrevented||or(w??document.body,{select:!0}),l.removeEventListener(nd,u),Mp.remove(p)},0)}}},[l,d,u,p]);const b=h.useCallback(w=>{if(!n&&!s||p.paused)return;const y=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(y&&x){const v=w.currentTarget,[m,N]=aE(v);m&&N?!w.shiftKey&&x===N?(w.preventDefault(),n&&or(m,{select:!0})):w.shiftKey&&x===m&&(w.preventDefault(),n&&or(N,{select:!0})):x===v&&w.preventDefault()}},[n,s,p.paused]);return r.jsx(ge.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});Ql.displayName=rE;function sE(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(or(s,{select:t}),document.activeElement!==n)return}function aE(e){const t=Py(e),n=Dp(t,e),s=Dp(t.reverse(),e);return[n,s]}function Py(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Dp(e,t){for(const n of e)if(!iE(n,{upTo:t}))return n}function iE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oE(e){return e instanceof HTMLInputElement&&"select"in e}function or(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&oE(e)&&t&&e.select()}}var Mp=lE();function lE(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Op(e,t),e.unshift(t)},remove(t){var n;e=Op(e,t),(n=e[0])==null||n.resume()}}}function Op(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function cE(e){return e.filter(t=>t.tagName!=="A")}var dE=Yu[" useId ".trim().toString()]||(()=>{}),uE=0;function kn(e){const[t,n]=h.useState(dE());return Je(()=>{n(s=>s??String(uE++))},[e]),t?`radix-${t}`:""}const hE=["top","right","bottom","left"],Pr=Math.min,Dt=Math.max,dl=Math.round,po=Math.floor,En=e=>({x:e,y:e}),fE={left:"right",right:"left",bottom:"top",top:"bottom"},mE={start:"end",end:"start"};function Pu(e,t,n){return Dt(e,Pr(t,n))}function Kn(e,t){return typeof e=="function"?e(t):e}function Yn(e){return e.split("-")[0]}function Na(e){return e.split("-")[1]}function sf(e){return e==="x"?"y":"x"}function af(e){return e==="y"?"height":"width"}const pE=new Set(["top","bottom"]);function _n(e){return pE.has(Yn(e))?"y":"x"}function of(e){return sf(_n(e))}function gE(e,t,n){n===void 0&&(n=!1);const s=Na(e),a=of(e),i=af(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ul(o)),[o,ul(o)]}function xE(e){const t=ul(e);return[Ru(e),t,Ru(t)]}function Ru(e){return e.replace(/start|end/g,t=>mE[t])}const Ip=["left","right"],Lp=["right","left"],vE=["top","bottom"],yE=["bottom","top"];function wE(e,t,n){switch(e){case"top":case"bottom":return n?t?Lp:Ip:t?Ip:Lp;case"left":case"right":return t?vE:yE;default:return[]}}function jE(e,t,n,s){const a=Na(e);let i=wE(Yn(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Ru)))),i}function ul(e){return e.replace(/left|right|bottom|top/g,t=>fE[t])}function NE(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ry(e){return typeof e!="number"?NE(e):{top:e,right:e,bottom:e,left:e}}function hl(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Fp(e,t,n){let{reference:s,floating:a}=e;const i=_n(t),o=of(t),l=af(o),c=Yn(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,g=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-a.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-a.width,y:f};break;default:p={x:s.x,y:s.y}}switch(Na(t)){case"start":p[o]-=g*(n&&d?-1:1);break;case"end":p[o]+=g*(n&&d?-1:1);break}return p}const bE=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=Fp(d,s,c),g=s,p={},b=0;for(let w=0;w<l.length;w++){const{name:y,fn:x}=l[w],{x:v,y:m,data:N,reset:k}=await x({x:u,y:f,initialPlacement:s,placement:g,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,f=m??f,p={...p,[y]:{...p[y],...N}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(g=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:u,y:f}=Fp(d,g,c)),w=-1)}return{x:u,y:f,placement:g,strategy:a,middlewareData:p}};async function Ci(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=Kn(t,e),b=Ry(p),y=l[g?f==="floating"?"reference":"floating":f],x=hl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,m=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(m))?await(i.getScale==null?void 0:i.getScale(m))||{x:1,y:1}:{x:1,y:1},k=hl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:m,strategy:c}):v);return{top:(x.top-k.top+b.top)/N.y,bottom:(k.bottom-x.bottom+b.bottom)/N.y,left:(x.left-k.left+b.left)/N.x,right:(k.right-x.right+b.right)/N.x}}const _E=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Kn(e,t)||{};if(d==null)return{};const f=Ry(u),g={x:n,y:s},p=of(a),b=af(p),w=await o.getDimensions(d),y=p==="y",x=y?"top":"left",v=y?"bottom":"right",m=y?"clientHeight":"clientWidth",N=i.reference[b]+i.reference[p]-g[p]-i.floating[b],k=g[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=S?S[m]:0;(!T||!await(o.isElement==null?void 0:o.isElement(S)))&&(T=l.floating[m]||i.floating[b]);const E=N/2-k/2,B=T/2-w[b]/2-1,U=Pr(f[x],B),H=Pr(f[v],B),R=U,P=T-w[b]-H,F=T/2-w[b]/2+E,M=Pu(R,F,P),$=!c.arrow&&Na(a)!=null&&F!==M&&i.reference[b]/2-(F<R?U:H)-w[b]/2<0,D=$?F<R?F-R:F-P:0;return{[p]:g[p]+D,data:{[p]:M,centerOffset:F-M-D,...$&&{alignmentOffset:D}},reset:$}}}),SE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...y}=Kn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Yn(a),v=_n(l),m=Yn(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=g||(m||!w?[ul(l)]:xE(l)),S=b!=="none";!g&&S&&k.push(...jE(l,w,b,N));const T=[l,...k],E=await Ci(t,y),B=[];let U=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&B.push(E[x]),f){const F=gE(a,o,N);B.push(E[F[0]],E[F[1]])}if(U=[...U,{placement:a,overflows:B}],!B.every(F=>F<=0)){var H,R;const F=(((H=i.flip)==null?void 0:H.index)||0)+1,M=T[F];if(M&&(!(f==="alignment"?v!==_n(M):!1)||U.every(A=>A.overflows[0]>0&&_n(A.placement)===v)))return{data:{index:F,overflows:U},reset:{placement:M}};let $=(R=U.filter(D=>D.overflows[0]<=0).sort((D,A)=>D.overflows[1]-A.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(p){case"bestFit":{var P;const D=(P=U.filter(A=>{if(S){const C=_n(A.placement);return C===v||C==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(C=>C>0).reduce((C,_)=>C+_,0)]).sort((A,C)=>A[1]-C[1])[0])==null?void 0:P[0];D&&($=D);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function $p(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Up(e){return hE.some(t=>e[t]>=0)}const CE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Kn(e,t);switch(s){case"referenceHidden":{const i=await Ci(t,{...a,elementContext:"reference"}),o=$p(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Up(o)}}}case"escaped":{const i=await Ci(t,{...a,altBoundary:!0}),o=$p(i,n.floating);return{data:{escapedOffsets:o,escaped:Up(o)}}}default:return{}}}}},Ay=new Set(["left","top"]);async function kE(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Yn(n),l=Na(n),c=_n(n)==="y",d=Ay.has(o)?-1:1,u=i&&c?-1:1,f=Kn(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*u,y:g*d}:{x:g*d,y:p*u}}const EE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await kE(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},TE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:v}=y;return{x,y:v}}},...c}=Kn(e,t),d={x:n,y:s},u=await Ci(t,c),f=_n(Yn(a)),g=sf(f);let p=d[g],b=d[f];if(i){const y=g==="y"?"top":"left",x=g==="y"?"bottom":"right",v=p+u[y],m=p-u[x];p=Pu(v,p,m)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=b+u[y],m=b-u[x];b=Pu(v,b,m)}const w=l.fn({...t,[g]:p,[f]:b});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[g]:i,[f]:o}}}}}},PE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Kn(e,t),u={x:n,y:s},f=_n(a),g=sf(f);let p=u[g],b=u[f];const w=Kn(l,t),y=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const m=g==="y"?"height":"width",N=i.reference[g]-i.floating[m]+y.mainAxis,k=i.reference[g]+i.reference[m]-y.mainAxis;p<N?p=N:p>k&&(p=k)}if(d){var x,v;const m=g==="y"?"width":"height",N=Ay.has(Yn(a)),k=i.reference[f]-i.floating[m]+(N&&((x=o.offset)==null?void 0:x[f])||0)+(N?0:y.crossAxis),S=i.reference[f]+i.reference[m]+(N?0:((v=o.offset)==null?void 0:v[f])||0)-(N?y.crossAxis:0);b<k?b=k:b>S&&(b=S)}return{[g]:p,[f]:b}}}},RE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Kn(e,t),u=await Ci(t,d),f=Yn(a),g=Na(a),p=_n(a)==="y",{width:b,height:w}=i.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=g==="end"?"top":"bottom");const v=w-u.top-u.bottom,m=b-u.left-u.right,N=Pr(w-u[y],v),k=Pr(b-u[x],m),S=!t.middlewareData.shift;let T=N,E=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=m),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(T=v),S&&!g){const U=Dt(u.left,0),H=Dt(u.right,0),R=Dt(u.top,0),P=Dt(u.bottom,0);p?E=b-2*(U!==0||H!==0?U+H:Dt(u.left,u.right)):T=w-2*(R!==0||P!==0?R+P:Dt(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:T});const B=await o.getDimensions(l.floating);return b!==B.width||w!==B.height?{reset:{rects:!0}}:{}}}};function Jl(){return typeof window<"u"}function ba(e){return Dy(e)?(e.nodeName||"").toLowerCase():"#document"}function It(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function On(e){var t;return(t=(Dy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Dy(e){return Jl()?e instanceof Node||e instanceof It(e).Node:!1}function gn(e){return Jl()?e instanceof Element||e instanceof It(e).Element:!1}function Pn(e){return Jl()?e instanceof HTMLElement||e instanceof It(e).HTMLElement:!1}function zp(e){return!Jl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof It(e).ShadowRoot}const AE=new Set(["inline","contents"]);function Ui(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!AE.has(a)}const DE=new Set(["table","td","th"]);function ME(e){return DE.has(ba(e))}const OE=[":popover-open",":modal"];function Xl(e){return OE.some(t=>{try{return e.matches(t)}catch{return!1}})}const IE=["transform","translate","scale","rotate","perspective"],LE=["transform","translate","scale","rotate","perspective","filter"],FE=["paint","layout","strict","content"];function lf(e){const t=cf(),n=gn(e)?xn(e):e;return IE.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||LE.some(s=>(n.willChange||"").includes(s))||FE.some(s=>(n.contain||"").includes(s))}function $E(e){let t=Rr(e);for(;Pn(t)&&!da(t);){if(lf(t))return t;if(Xl(t))return null;t=Rr(t)}return null}function cf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UE=new Set(["html","body","#document"]);function da(e){return UE.has(ba(e))}function xn(e){return It(e).getComputedStyle(e)}function Zl(e){return gn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rr(e){if(ba(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zp(e)&&e.host||On(e);return zp(t)?t.host:t}function My(e){const t=Rr(e);return da(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pn(t)&&Ui(t)?t:My(t)}function ki(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=My(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=It(a);if(i){const l=Au(o);return t.concat(o,o.visualViewport||[],Ui(a)?a:[],l&&n?ki(l):[])}return t.concat(a,ki(a,[],n))}function Au(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Oy(e){const t=xn(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Pn(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=dl(n)!==i||dl(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function df(e){return gn(e)?e:e.contextElement}function Xs(e){const t=df(e);if(!Pn(t))return En(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=Oy(t);let o=(i?dl(n.width):n.width)/s,l=(i?dl(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zE=En(0);function Iy(e){const t=It(e);return!cf()||!t.visualViewport?zE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==It(e)?!1:t}function ls(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=df(e);let o=En(1);t&&(s?gn(s)&&(o=Xs(s)):o=Xs(e));const l=BE(i,n,s)?Iy(i):En(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const g=It(i),p=s&&gn(s)?It(s):s;let b=g,w=Au(b);for(;w&&s&&p!==b;){const y=Xs(w),x=w.getBoundingClientRect(),v=xn(w),m=x.left+(w.clientLeft+parseFloat(v.paddingLeft))*y.x,N=x.top+(w.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=m,d+=N,b=It(w),w=Au(b)}}return hl({width:u,height:f,x:c,y:d})}function uf(e,t){const n=Zl(e).scrollLeft;return t?t.left+n:ls(On(e)).left+n}function Ly(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:uf(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function VE(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=On(s),l=t?Xl(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=En(1);const u=En(0),f=Pn(s);if((f||!f&&!i)&&((ba(s)!=="body"||Ui(o))&&(c=Zl(s)),Pn(s))){const p=ls(s);d=Xs(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const g=o&&!f&&!i?Ly(o,c,!0):En(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+g.x,y:n.y*d.y-c.scrollTop*d.y+u.y+g.y}}function WE(e){return Array.from(e.getClientRects())}function GE(e){const t=On(e),n=Zl(e),s=e.ownerDocument.body,a=Dt(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Dt(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+uf(e);const l=-n.scrollTop;return xn(s).direction==="rtl"&&(o+=Dt(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function HE(e,t){const n=It(e),s=On(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=cf();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const qE=new Set(["absolute","fixed"]);function KE(e,t){const n=ls(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=Pn(e)?Xs(e):En(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Bp(e,t,n){let s;if(t==="viewport")s=HE(e,n);else if(t==="document")s=GE(On(e));else if(gn(t))s=KE(t,n);else{const a=Iy(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return hl(s)}function Fy(e,t){const n=Rr(e);return n===t||!gn(n)||da(n)?!1:xn(n).position==="fixed"||Fy(n,t)}function YE(e,t){const n=t.get(e);if(n)return n;let s=ki(e,[],!1).filter(l=>gn(l)&&ba(l)!=="body"),a=null;const i=xn(e).position==="fixed";let o=i?Rr(e):e;for(;gn(o)&&!da(o);){const l=xn(o),c=lf(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&qE.has(a.position)||Ui(o)&&!c&&Fy(e,o))?s=s.filter(u=>u!==o):a=l,o=Rr(o)}return t.set(e,s),s}function QE(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?Xl(t)?[]:YE(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const f=Bp(t,u,a);return d.top=Dt(f.top,d.top),d.right=Pr(f.right,d.right),d.bottom=Pr(f.bottom,d.bottom),d.left=Dt(f.left,d.left),d},Bp(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JE(e){const{width:t,height:n}=Oy(e);return{width:t,height:n}}function XE(e,t,n){const s=Pn(t),a=On(t),i=n==="fixed",o=ls(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=En(0);function d(){c.x=uf(a)}if(s||!s&&!i)if((ba(t)!=="body"||Ui(a))&&(l=Zl(t)),s){const p=ls(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?Ly(a,l):En(0),f=o.left+l.scrollLeft-c.x-u.x,g=o.top+l.scrollTop-c.y-u.y;return{x:f,y:g,width:o.width,height:o.height}}function rd(e){return xn(e).position==="static"}function Vp(e,t){if(!Pn(e)||xn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return On(e)===n&&(n=n.ownerDocument.body),n}function $y(e,t){const n=It(e);if(Xl(e))return n;if(!Pn(e)){let a=Rr(e);for(;a&&!da(a);){if(gn(a)&&!rd(a))return a;a=Rr(a)}return n}let s=Vp(e,t);for(;s&&ME(s)&&rd(s);)s=Vp(s,t);return s&&da(s)&&rd(s)&&!lf(s)?n:s||$E(e)||n}const ZE=async function(e){const t=this.getOffsetParent||$y,n=this.getDimensions,s=await n(e.floating);return{reference:XE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function eT(e){return xn(e).direction==="rtl"}const tT={convertOffsetParentRelativeRectToViewportRelativeRect:VE,getDocumentElement:On,getClippingRect:QE,getOffsetParent:$y,getElementRects:ZE,getClientRects:WE,getDimensions:JE,getScale:Xs,isElement:gn,isRTL:eT};function Uy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nT(e,t){let n=null,s;const a=On(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:g,height:p}=d;if(l||t(),!g||!p)return;const b=po(f),w=po(a.clientWidth-(u+g)),y=po(a.clientHeight-(f+p)),x=po(u),m={rootMargin:-b+"px "+-w+"px "+-y+"px "+-x+"px",threshold:Dt(0,Pr(1,c))||1};let N=!0;function k(S){const T=S[0].intersectionRatio;if(T!==c){if(!N)return o();T?o(!1,T):s=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!Uy(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(k,{...m,root:a.ownerDocument})}catch{n=new IntersectionObserver(k,m)}n.observe(e)}return o(!0),i}function rT(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=df(e),u=a||i?[...d?ki(d):[],...ki(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&l?nT(d,n):null;let g=-1,p=null;o&&(p=new ResizeObserver(x=>{let[v]=x;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var m;(m=p)==null||m.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let b,w=c?ls(e):null;c&&y();function y(){const x=ls(e);w&&!Uy(w,x)&&n(),w=x,b=requestAnimationFrame(y)}return n(),()=>{var x;u.forEach(v=>{a&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const sT=EE,aT=TE,iT=SE,oT=RE,lT=CE,Wp=_E,cT=PE,dT=(e,t,n)=>{const s=new Map,a={platform:tT,...n},i={...a.platform,_c:s};return bE(e,t,{...a,platform:i})};var uT=typeof document<"u",hT=function(){},Mo=uT?h.useLayoutEffect:hT;function fl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!fl(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!fl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function zy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gp(e,t){const n=zy(e);return Math.round(t*n)/n}function sd(e){const t=h.useRef(e);return Mo(()=>{t.current=e}),t}function fT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=h.useState(s);fl(g,s)||p(s);const[b,w]=h.useState(null),[y,x]=h.useState(null),v=h.useCallback(A=>{A!==S.current&&(S.current=A,w(A))},[]),m=h.useCallback(A=>{A!==T.current&&(T.current=A,x(A))},[]),N=i||b,k=o||y,S=h.useRef(null),T=h.useRef(null),E=h.useRef(u),B=c!=null,U=sd(c),H=sd(a),R=sd(d),P=h.useCallback(()=>{if(!S.current||!T.current)return;const A={placement:t,strategy:n,middleware:g};H.current&&(A.platform=H.current),dT(S.current,T.current,A).then(C=>{const _={...C,isPositioned:R.current!==!1};F.current&&!fl(E.current,_)&&(E.current=_,ma.flushSync(()=>{f(_)}))})},[g,t,n,H,R]);Mo(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[d]);const F=h.useRef(!1);Mo(()=>(F.current=!0,()=>{F.current=!1}),[]),Mo(()=>{if(N&&(S.current=N),k&&(T.current=k),N&&k){if(U.current)return U.current(N,k,P);P()}},[N,k,P,U,B]);const M=h.useMemo(()=>({reference:S,floating:T,setReference:v,setFloating:m}),[v,m]),$=h.useMemo(()=>({reference:N,floating:k}),[N,k]),D=h.useMemo(()=>{const A={position:n,left:0,top:0};if(!$.floating)return A;const C=Gp($.floating,u.x),_=Gp($.floating,u.y);return l?{...A,transform:"translate("+C+"px, "+_+"px)",...zy($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:C,top:_}},[n,l,$.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:P,refs:M,elements:$,floatingStyles:D}),[u,P,M,$,D])}const mT=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Wp({element:s.current,padding:a}).fn(n):{}:s?Wp({element:s,padding:a}).fn(n):{}}}},pT=(e,t)=>({...sT(e),options:[e,t]}),gT=(e,t)=>({...aT(e),options:[e,t]}),xT=(e,t)=>({...cT(e),options:[e,t]}),vT=(e,t)=>({...iT(e),options:[e,t]}),yT=(e,t)=>({...oT(e),options:[e,t]}),wT=(e,t)=>({...lT(e),options:[e,t]}),jT=(e,t)=>({...mT(e),options:[e,t]});var NT="Arrow",By=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(ge.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});By.displayName=NT;var bT=By;function Vy(e){const[t,n]=h.useState(void 0);return Je(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var hf="Popper",[Wy,ec]=Mn(hf),[_T,Gy]=Wy(hf),Hy=e=>{const{__scopePopper:t,children:n}=e,[s,a]=h.useState(null);return r.jsx(_T,{scope:t,anchor:s,onAnchorChange:a,children:n})};Hy.displayName=hf;var qy="PopperAnchor",Ky=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=Gy(qy,n),o=h.useRef(null),l=ke(t,o);return h.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(ge.div,{...a,ref:l})});Ky.displayName=qy;var ff="PopperContent",[ST,CT]=Wy(ff),Yy=h.forwardRef((e,t)=>{var V,ee,de,j,O,Y;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:b,...w}=e,y=Gy(ff,n),[x,v]=h.useState(null),m=ke(t,ne=>v(ne)),[N,k]=h.useState(null),S=Vy(N),T=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,B=s+(i!=="center"?"-"+i:""),U=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},H=Array.isArray(d)?d:[d],R=H.length>0,P={padding:U,boundary:H.filter(ET),altBoundary:R},{refs:F,floatingStyles:M,placement:$,isPositioned:D,middlewareData:A}=fT({strategy:"fixed",placement:B,whileElementsMounted:(...ne)=>rT(...ne,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[pT({mainAxis:a+E,alignmentAxis:o}),c&&gT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xT():void 0,...P}),c&&vT({...P}),yT({...P,apply:({elements:ne,rects:qe,availableWidth:Ur,availableHeight:Zn})=>{const{width:zr,height:Sa}=qe.reference,ys=ne.floating.style;ys.setProperty("--radix-popper-available-width",`${Ur}px`),ys.setProperty("--radix-popper-available-height",`${Zn}px`),ys.setProperty("--radix-popper-anchor-width",`${zr}px`),ys.setProperty("--radix-popper-anchor-height",`${Sa}px`)}}),N&&jT({element:N,padding:l}),TT({arrowWidth:T,arrowHeight:E}),g&&wT({strategy:"referenceHidden",...P})]}),[C,_]=Xy($),L=pn(b);Je(()=>{D&&(L==null||L())},[D,L]);const I=(V=A.arrow)==null?void 0:V.x,W=(ee=A.arrow)==null?void 0:ee.y,G=((de=A.arrow)==null?void 0:de.centerOffset)!==0,[Z,ce]=h.useState();return Je(()=>{x&&ce(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:D?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(j=A.transformOrigin)==null?void 0:j.x,(O=A.transformOrigin)==null?void 0:O.y].join(" "),...((Y=A.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(ST,{scope:n,placedSide:C,onArrowChange:k,arrowX:I,arrowY:W,shouldHideArrow:G,children:r.jsx(ge.div,{"data-side":C,"data-align":_,...w,ref:m,style:{...w.style,animation:D?void 0:"none"}})})})});Yy.displayName=ff;var Qy="PopperArrow",kT={top:"bottom",right:"left",bottom:"top",left:"right"},Jy=h.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=CT(Qy,s),o=kT[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(bT,{...a,ref:n,style:{...a.style,display:"block"}})})});Jy.displayName=Qy;function ET(e){return e!==null}var TT=e=>({name:"transformOrigin",options:e,fn(t){var y,x,v;const{placement:n,rects:s,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=Xy(n),f={start:"0%",center:"50%",end:"100%"}[u],g=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let b="",w="";return d==="bottom"?(b=o?f:`${g}px`,w=`${-c}px`):d==="top"?(b=o?f:`${g}px`,w=`${s.floating.height+c}px`):d==="right"?(b=`${-c}px`,w=o?f:`${p}px`):d==="left"&&(b=`${s.floating.width+c}px`,w=o?f:`${p}px`),{data:{x:b,y:w}}}});function Xy(e){const[t,n="center"]=e.split("-");return[t,n]}var Zy=Hy,e0=Ky,t0=Yy,n0=Jy,PT="Portal",tc=h.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=h.useState(!1);Je(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?mv.createPortal(r.jsx(ge.div,{...s,ref:t}),o):null});tc.displayName=PT;var RT=Yu[" useInsertionEffect ".trim().toString()]||Je;function cs({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=AT({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=h.useCallback(u=>{var f;if(l){const g=DT(u)?u(e):u;g!==e&&((f=o.current)==null||f.call(o,g))}else i(u)},[l,e,i,o]);return[c,d]}function AT({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),a=h.useRef(n),i=h.useRef(t);return RT(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function DT(e){return typeof e=="function"}function r0(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var s0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MT="VisuallyHidden",OT=h.forwardRef((e,t)=>r.jsx(ge.span,{...e,ref:t,style:{...s0,...e.style}}));OT.displayName=MT;var IT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Es=new WeakMap,go=new WeakMap,xo={},ad=0,a0=function(e){return e&&(e.host||a0(e.parentNode))},LT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=a0(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},FT=function(e,t,n,s){var a=LT(t,Array.isArray(e)?e:[e]);xo[n]||(xo[n]=new WeakMap);var i=xo[n],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))u(g);else try{var p=g.getAttribute(s),b=p!==null&&p!=="false",w=(Es.get(g)||0)+1,y=(i.get(g)||0)+1;Es.set(g,w),i.set(g,y),o.push(g),w===1&&b&&go.set(g,!0),y===1&&g.setAttribute(n,"true"),b||g.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",g,x)}})};return u(t),l.clear(),ad++,function(){o.forEach(function(f){var g=Es.get(f)-1,p=i.get(f)-1;Es.set(f,g),i.set(f,p),g||(go.has(f)||f.removeAttribute(s),go.delete(f)),p||f.removeAttribute(n)}),ad--,ad||(Es=new WeakMap,Es=new WeakMap,go=new WeakMap,xo={})}},mf=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=IT(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),FT(s,a,n,"aria-hidden")):function(){return null}},bn=function(){return bn=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bn.apply(this,arguments)};function i0(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function $T(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Oo="right-scroll-bar-position",Io="width-before-scroll-bar",UT="with-scroll-bars-hidden",zT="--removed-body-scroll-bar-size";function id(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BT(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var VT=typeof window<"u"?h.useLayoutEffect:h.useEffect,Hp=new WeakMap;function WT(e,t){var n=BT(null,function(s){return e.forEach(function(a){return id(a,s)})});return VT(function(){var s=Hp.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||id(l,null)}),i.forEach(function(l){a.has(l)||id(l,o)})}Hp.set(n,e)},[e]),n}function GT(e){return e}function HT(e,t){t===void 0&&(t=GT);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function qT(e){e===void 0&&(e={});var t=HT(null);return t.options=bn({async:!0,ssr:!1},e),t}var o0=function(e){var t=e.sideCar,n=i0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,bn({},n))};o0.isSideCarExport=!0;function KT(e,t){return e.useMedium(t),o0}var l0=qT(),od=function(){},nc=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:od,onWheelCapture:od,onTouchMoveCapture:od}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,g=e.sideCar,p=e.noRelative,b=e.noIsolation,w=e.inert,y=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,m=e.gapMode,N=i0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=g,S=WT([n,t]),T=bn(bn({},N),a);return h.createElement(h.Fragment,null,u&&h.createElement(k,{sideCar:l0,removeScrollBar:d,shards:f,noRelative:p,noIsolation:b,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:m}),o?h.cloneElement(h.Children.only(l),bn(bn({},T),{ref:S})):h.createElement(v,bn({},T,{className:c,ref:S}),l))});nc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nc.classNames={fullWidth:Io,zeroRight:Oo};var YT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=YT();return t&&e.setAttribute("nonce",t),e}function JT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function XT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=QT())&&(JT(t,n),XT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eP=function(){var e=ZT();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},c0=function(){var e=eP(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},tP={left:0,top:0,right:0,gap:0},ld=function(e){return parseInt(e||"",10)||0},nP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ld(n),ld(s),ld(a)]},rP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return tP;var t=nP(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},sP=c0(),Zs="data-scroll-locked",aP=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(UT,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Zs,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oo,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Io,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Oo," .").concat(Oo,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Io," .").concat(Io,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Zs,`] {
    `).concat(zT,": ").concat(l,`px;
  }
`)},qp=function(){var e=parseInt(document.body.getAttribute(Zs)||"0",10);return isFinite(e)?e:0},iP=function(){h.useEffect(function(){return document.body.setAttribute(Zs,(qp()+1).toString()),function(){var e=qp()-1;e<=0?document.body.removeAttribute(Zs):document.body.setAttribute(Zs,e.toString())}},[])},oP=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;iP();var i=h.useMemo(function(){return rP(a)},[a]);return h.createElement(sP,{styles:aP(i,!t,a,n?"":"!important")})},Du=!1;if(typeof window<"u")try{var vo=Object.defineProperty({},"passive",{get:function(){return Du=!0,!0}});window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Du=!1}var Ts=Du?{passive:!1}:!1,lP=function(e){return e.tagName==="TEXTAREA"},d0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!lP(e)&&n[t]==="visible")},cP=function(e){return d0(e,"overflowY")},dP=function(e){return d0(e,"overflowX")},Kp=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=u0(e,s);if(a){var i=h0(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},uP=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},hP=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},u0=function(e,t){return e==="v"?cP(t):dP(t)},h0=function(e,t){return e==="v"?uP(t):hP(t)},fP=function(e,t){return e==="h"&&t==="rtl"?-1:1},mP=function(e,t,n,s,a){var i=fP(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,g=0;do{if(!l)break;var p=h0(e,l),b=p[0],w=p[1],y=p[2],x=w-y-i*b;(b||x)&&u0(e,l)&&(f+=x,g+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(g)<1)&&(d=!0),d},yo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Yp=function(e){return[e.deltaX,e.deltaY]},Qp=function(e){return e&&"current"in e?e.current:e},pP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},gP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xP=0,Ps=[];function vP(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),a=h.useState(xP++)[0],i=h.useState(c0)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=$T([e.lockRef.current],(e.shards||[]).map(Qp),!0).filter(Boolean);return w.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(w,y){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var x=yo(w),v=n.current,m="deltaX"in w?w.deltaX:v[0]-x[0],N="deltaY"in w?w.deltaY:v[1]-x[1],k,S=w.target,T=Math.abs(m)>Math.abs(N)?"h":"v";if("touches"in w&&T==="h"&&S.type==="range")return!1;var E=Kp(T,S);if(!E)return!0;if(E?k=T:(k=T==="v"?"h":"v",E=Kp(T,S)),!E)return!1;if(!s.current&&"changedTouches"in w&&(m||N)&&(s.current=k),!k)return!0;var B=s.current||k;return mP(B,y,w,B==="h"?m:N)},[]),c=h.useCallback(function(w){var y=w;if(!(!Ps.length||Ps[Ps.length-1]!==i)){var x="deltaY"in y?Yp(y):yo(y),v=t.current.filter(function(k){return k.name===y.type&&(k.target===y.target||y.target===k.shadowParent)&&pP(k.delta,x)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var m=(o.current.shards||[]).map(Qp).filter(Boolean).filter(function(k){return k.contains(y.target)}),N=m.length>0?l(y,m[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=h.useCallback(function(w,y,x,v){var m={name:w,delta:y,target:x,should:v,shadowParent:yP(x)};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(N){return N!==m})},1)},[]),u=h.useCallback(function(w){n.current=yo(w),s.current=void 0},[]),f=h.useCallback(function(w){d(w.type,Yp(w),w.target,l(w,e.lockRef.current))},[]),g=h.useCallback(function(w){d(w.type,yo(w),w.target,l(w,e.lockRef.current))},[]);h.useEffect(function(){return Ps.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Ts),document.addEventListener("touchmove",c,Ts),document.addEventListener("touchstart",u,Ts),function(){Ps=Ps.filter(function(w){return w!==i}),document.removeEventListener("wheel",c,Ts),document.removeEventListener("touchmove",c,Ts),document.removeEventListener("touchstart",u,Ts)}},[]);var p=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(i,{styles:gP(a)}):null,p?h.createElement(oP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function yP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wP=KT(l0,vP);var rc=h.forwardRef(function(e,t){return h.createElement(nc,bn({},e,{ref:t,sideCar:wP}))});rc.classNames=nc.classNames;var jP=[" ","Enter","ArrowUp","ArrowDown"],NP=[" ","Enter"],ds="Select",[sc,ac,bP]=nf(ds),[_a,EA]=Mn(ds,[bP,ec]),ic=ec(),[_P,Fr]=_a(ds),[SP,CP]=_a(ds),f0=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:g,required:p,form:b}=e,w=ic(t),[y,x]=h.useState(null),[v,m]=h.useState(null),[N,k]=h.useState(!1),S=Kl(d),[T,E]=cs({prop:s,defaultProp:a??!1,onChange:i,caller:ds}),[B,U]=cs({prop:o,defaultProp:l,onChange:c,caller:ds}),H=h.useRef(null),R=y?b||!!y.closest("form"):!0,[P,F]=h.useState(new Set),M=Array.from(P).map($=>$.props.value).join(";");return r.jsx(Zy,{...w,children:r.jsxs(_P,{required:p,scope:t,trigger:y,onTriggerChange:x,valueNode:v,onValueNodeChange:m,valueNodeHasChildren:N,onValueNodeHasChildrenChange:k,contentId:kn(),value:B,onValueChange:U,open:T,onOpenChange:E,dir:S,triggerPointerDownPosRef:H,disabled:g,children:[r.jsx(sc.Provider,{scope:t,children:r.jsx(SP,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback($=>{F(D=>new Set(D).add($))},[]),onNativeOptionRemove:h.useCallback($=>{F(D=>{const A=new Set(D);return A.delete($),A})},[]),children:n})}),R?r.jsxs(L0,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:B,onChange:$=>U($.target.value),disabled:g,form:b,children:[B===void 0?r.jsx("option",{value:""}):null,Array.from(P)]},M):null]})})};f0.displayName=ds;var m0="SelectTrigger",p0=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=ic(n),o=Fr(m0,n),l=o.disabled||s,c=ke(t,o.onTriggerChange),d=ac(n),u=h.useRef("touch"),[f,g,p]=$0(w=>{const y=d().filter(m=>!m.disabled),x=y.find(m=>m.value===o.value),v=U0(y,w,x);v!==void 0&&o.onValueChange(v.value)}),b=w=>{l||(o.onOpenChange(!0),p()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return r.jsx(e0,{asChild:!0,...i,children:r.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":F0(o.value)?"":void 0,...a,ref:c,onClick:le(a.onClick,w=>{w.currentTarget.focus(),u.current!=="mouse"&&b(w)}),onPointerDown:le(a.onPointerDown,w=>{u.current=w.pointerType;const y=w.target;y.hasPointerCapture(w.pointerId)&&y.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:le(a.onKeyDown,w=>{const y=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(y&&w.key===" ")&&jP.includes(w.key)&&(b(),w.preventDefault())})})})});p0.displayName=m0;var g0="SelectValue",x0=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Fr(g0,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=ke(t,c.onValueNodeChange);return Je(()=>{d(u)},[d,u]),r.jsx(ge.span,{...l,ref:f,style:{pointerEvents:"none"},children:F0(c.value)?r.jsx(r.Fragment,{children:o}):i})});x0.displayName=g0;var kP="SelectIcon",v0=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(ge.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});v0.displayName=kP;var EP="SelectPortal",y0=e=>r.jsx(tc,{asChild:!0,...e});y0.displayName=EP;var us="SelectContent",w0=h.forwardRef((e,t)=>{const n=Fr(us,e.__scopeSelect),[s,a]=h.useState();if(Je(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?ma.createPortal(r.jsx(j0,{scope:e.__scopeSelect,children:r.jsx(sc.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(N0,{...e,ref:t})});w0.displayName=us;var nn=10,[j0,$r]=_a(us),TP="SelectContentImpl",PP=is("SelectContent.RemoveScroll"),N0=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:b,hideWhenDetached:w,avoidCollisions:y,...x}=e,v=Fr(us,n),[m,N]=h.useState(null),[k,S]=h.useState(null),T=ke(t,V=>N(V)),[E,B]=h.useState(null),[U,H]=h.useState(null),R=ac(n),[P,F]=h.useState(!1),M=h.useRef(!1);h.useEffect(()=>{if(m)return mf(m)},[m]),rf();const $=h.useCallback(V=>{const[ee,...de]=R().map(Y=>Y.ref.current),[j]=de.slice(-1),O=document.activeElement;for(const Y of V)if(Y===O||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===ee&&k&&(k.scrollTop=0),Y===j&&k&&(k.scrollTop=k.scrollHeight),Y==null||Y.focus(),document.activeElement!==O))return},[R,k]),D=h.useCallback(()=>$([E,m]),[$,E,m]);h.useEffect(()=>{P&&D()},[P,D]);const{onOpenChange:A,triggerPointerDownPosRef:C}=v;h.useEffect(()=>{if(m){let V={x:0,y:0};const ee=j=>{var O,Y;V={x:Math.abs(Math.round(j.pageX)-(((O=C.current)==null?void 0:O.x)??0)),y:Math.abs(Math.round(j.pageY)-(((Y=C.current)==null?void 0:Y.y)??0))}},de=j=>{V.x<=10&&V.y<=10?j.preventDefault():m.contains(j.target)||A(!1),document.removeEventListener("pointermove",ee),C.current=null};return C.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",de,{capture:!0})}}},[m,A,C]),h.useEffect(()=>{const V=()=>A(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[A]);const[_,L]=$0(V=>{const ee=R().filter(O=>!O.disabled),de=ee.find(O=>O.ref.current===document.activeElement),j=U0(ee,V,de);j&&setTimeout(()=>j.ref.current.focus())}),I=h.useCallback((V,ee,de)=>{const j=!M.current&&!de;(v.value!==void 0&&v.value===ee||j)&&(B(V),j&&(M.current=!0))},[v.value]),W=h.useCallback(()=>m==null?void 0:m.focus(),[m]),G=h.useCallback((V,ee,de)=>{const j=!M.current&&!de;(v.value!==void 0&&v.value===ee||j)&&H(V)},[v.value]),Z=s==="popper"?Mu:b0,ce=Z===Mu?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:b,hideWhenDetached:w,avoidCollisions:y}:{};return r.jsx(j0,{scope:n,content:m,viewport:k,onViewportChange:S,itemRefCallback:I,selectedItem:E,onItemLeave:W,itemTextRefCallback:G,focusSelectedItem:D,selectedItemText:U,position:s,isPositioned:P,searchRef:_,children:r.jsx(rc,{as:PP,allowPinchZoom:!0,children:r.jsx(Ql,{asChild:!0,trapped:v.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:le(a,V=>{var ee;(ee=v.trigger)==null||ee.focus({preventScroll:!0}),V.preventDefault()}),children:r.jsx(Yl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:r.jsx(Z,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:V=>V.preventDefault(),...x,...ce,onPlaced:()=>F(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:le(x.onKeyDown,V=>{const ee=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ee&&V.key.length===1&&L(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let j=R().filter(O=>!O.disabled).map(O=>O.ref.current);if(["ArrowUp","End"].includes(V.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const O=V.target,Y=j.indexOf(O);j=j.slice(Y+1)}setTimeout(()=>$(j)),V.preventDefault()}})})})})})})});N0.displayName=TP;var RP="SelectItemAlignedPosition",b0=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Fr(us,n),o=$r(us,n),[l,c]=h.useState(null),[d,u]=h.useState(null),f=ke(t,T=>u(T)),g=ac(n),p=h.useRef(!1),b=h.useRef(!0),{viewport:w,selectedItem:y,selectedItemText:x,focusSelectedItem:v}=o,m=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&w&&y&&x){const T=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),U=x.getBoundingClientRect();if(i.dir!=="rtl"){const O=U.left-E.left,Y=B.left-O,ne=T.left-Y,qe=T.width+ne,Ur=Math.max(qe,E.width),Zn=window.innerWidth-nn,zr=Ep(Y,[nn,Math.max(nn,Zn-Ur)]);l.style.minWidth=qe+"px",l.style.left=zr+"px"}else{const O=E.right-U.right,Y=window.innerWidth-B.right-O,ne=window.innerWidth-T.right-Y,qe=T.width+ne,Ur=Math.max(qe,E.width),Zn=window.innerWidth-nn,zr=Ep(Y,[nn,Math.max(nn,Zn-Ur)]);l.style.minWidth=qe+"px",l.style.right=zr+"px"}const H=g(),R=window.innerHeight-nn*2,P=w.scrollHeight,F=window.getComputedStyle(d),M=parseInt(F.borderTopWidth,10),$=parseInt(F.paddingTop,10),D=parseInt(F.borderBottomWidth,10),A=parseInt(F.paddingBottom,10),C=M+$+P+A+D,_=Math.min(y.offsetHeight*5,C),L=window.getComputedStyle(w),I=parseInt(L.paddingTop,10),W=parseInt(L.paddingBottom,10),G=T.top+T.height/2-nn,Z=R-G,ce=y.offsetHeight/2,V=y.offsetTop+ce,ee=M+$+V,de=C-ee;if(ee<=G){const O=H.length>0&&y===H[H.length-1].ref.current;l.style.bottom="0px";const Y=d.clientHeight-w.offsetTop-w.offsetHeight,ne=Math.max(Z,ce+(O?W:0)+Y+D),qe=ee+ne;l.style.height=qe+"px"}else{const O=H.length>0&&y===H[0].ref.current;l.style.top="0px";const ne=Math.max(G,M+w.offsetTop+(O?I:0)+ce)+de;l.style.height=ne+"px",w.scrollTop=ee-G+w.offsetTop}l.style.margin=`${nn}px 0`,l.style.minHeight=_+"px",l.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[g,i.trigger,i.valueNode,l,d,w,y,x,i.dir,s]);Je(()=>m(),[m]);const[N,k]=h.useState();Je(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const S=h.useCallback(T=>{T&&b.current===!0&&(m(),v==null||v(),b.current=!1)},[m,v]);return r.jsx(DP,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(ge.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});b0.displayName=RP;var AP="SelectPopperPosition",Mu=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=nn,...i}=e,o=ic(n);return r.jsx(t0,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mu.displayName=AP;var[DP,pf]=_a(us,{}),Ou="SelectViewport",_0=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=$r(Ou,n),o=pf(Ou,n),l=ke(t,i.onViewportChange),c=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(sc.Slot,{scope:n,children:r.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:le(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const b=window.innerHeight-nn*2,w=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(w,y);if(x<b){const v=x+p,m=Math.min(b,v),N=v-m;f.style.height=m+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});_0.displayName=Ou;var S0="SelectGroup",[MP,OP]=_a(S0),IP=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=kn();return r.jsx(MP,{scope:n,id:a,children:r.jsx(ge.div,{role:"group","aria-labelledby":a,...s,ref:t})})});IP.displayName=S0;var C0="SelectLabel",k0=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=OP(C0,n);return r.jsx(ge.div,{id:a.id,...s,ref:t})});k0.displayName=C0;var ml="SelectItem",[LP,E0]=_a(ml),T0=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Fr(ml,n),c=$r(ml,n),d=l.value===s,[u,f]=h.useState(i??""),[g,p]=h.useState(!1),b=ke(t,v=>{var m;return(m=c.itemRefCallback)==null?void 0:m.call(c,v,s,a)}),w=kn(),y=h.useRef("touch"),x=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(LP,{scope:n,value:s,disabled:a,textId:w,isSelected:d,onItemTextChange:h.useCallback(v=>{f(m=>m||((v==null?void 0:v.textContent)??"").trim())},[]),children:r.jsx(sc.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(ge.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:le(o.onFocus,()=>p(!0)),onBlur:le(o.onBlur,()=>p(!1)),onClick:le(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:le(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:le(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:le(o.onPointerMove,v=>{var m;y.current=v.pointerType,a?(m=c.onItemLeave)==null||m.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(o.onPointerLeave,v=>{var m;v.currentTarget===document.activeElement&&((m=c.onItemLeave)==null||m.call(c))}),onKeyDown:le(o.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(NP.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});T0.displayName=ml;var Wa="SelectItemText",P0=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Fr(Wa,n),l=$r(Wa,n),c=E0(Wa,n),d=CP(Wa,n),[u,f]=h.useState(null),g=ke(t,x=>f(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,x,c.value,c.disabled)}),p=u==null?void 0:u.textContent,b=h.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:w,onNativeOptionRemove:y}=d;return Je(()=>(w(b),()=>y(b)),[w,y,b]),r.jsxs(r.Fragment,{children:[r.jsx(ge.span,{id:c.textId,...i,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ma.createPortal(i.children,o.valueNode):null]})});P0.displayName=Wa;var R0="SelectItemIndicator",A0=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return E0(R0,n).isSelected?r.jsx(ge.span,{"aria-hidden":!0,...s,ref:t}):null});A0.displayName=R0;var Iu="SelectScrollUpButton",D0=h.forwardRef((e,t)=>{const n=$r(Iu,e.__scopeSelect),s=pf(Iu,e.__scopeSelect),[a,i]=h.useState(!1),o=ke(t,s.onScrollButtonChange);return Je(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(O0,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});D0.displayName=Iu;var Lu="SelectScrollDownButton",M0=h.forwardRef((e,t)=>{const n=$r(Lu,e.__scopeSelect),s=pf(Lu,e.__scopeSelect),[a,i]=h.useState(!1),o=ke(t,s.onScrollButtonChange);return Je(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(O0,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});M0.displayName=Lu;var O0=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=$r("SelectScrollButton",n),o=h.useRef(null),l=ac(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Je(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(ge.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:le(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:le(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:le(a.onPointerLeave,()=>{c()})})}),FP="SelectSeparator",I0=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(ge.div,{"aria-hidden":!0,...s,ref:t})});I0.displayName=FP;var Fu="SelectArrow",$P=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=ic(n),i=Fr(Fu,n),o=$r(Fu,n);return i.open&&o.position==="popper"?r.jsx(n0,{...a,...s,ref:t}):null});$P.displayName=Fu;var UP="SelectBubbleInput",L0=h.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=h.useRef(null),i=ke(s,a),o=r0(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(ge.select,{...n,style:{...s0,...n.style},ref:i,defaultValue:t})});L0.displayName=UP;function F0(e){return e===""||e===void 0}function $0(e){const t=pn(e),n=h.useRef(""),s=h.useRef(0),a=h.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function U0(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=zP(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function zP(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var BP=f0,z0=p0,VP=x0,WP=v0,GP=y0,B0=w0,HP=_0,V0=k0,W0=T0,qP=P0,KP=A0,G0=D0,H0=M0,q0=I0;const ve=BP,we=VP,me=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(z0,{ref:s,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(WP,{asChild:!0,children:r.jsx(Jh,{className:"h-4 w-4 opacity-50"})})]}));me.displayName=z0.displayName;const K0=h.forwardRef(({className:e,...t},n)=>r.jsx(G0,{ref:n,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(UC,{className:"h-4 w-4"})}));K0.displayName=G0.displayName;const Y0=h.forwardRef(({className:e,...t},n)=>r.jsx(H0,{ref:n,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Jh,{className:"h-4 w-4"})}));Y0.displayName=H0.displayName;const pe=h.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(GP,{children:r.jsxs(B0,{ref:a,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(K0,{}),r.jsx(HP,{className:he("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(Y0,{})]})}));pe.displayName=B0.displayName;const YP=h.forwardRef(({className:e,...t},n)=>r.jsx(V0,{ref:n,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));YP.displayName=V0.displayName;const Q=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(W0,{ref:s,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(KP,{children:r.jsx(Gl,{className:"h-4 w-4"})})}),r.jsx(qP,{children:t})]}));Q.displayName=W0.displayName;const QP=h.forwardRef(({className:e,...t},n)=>r.jsx(q0,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));QP.displayName=q0.displayName;function JP(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var Xn=e=>{const{present:t,children:n}=e,s=XP(t),a=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),i=ke(s.ref,ZP(a));return typeof n=="function"||s.isPresent?h.cloneElement(a,{ref:i}):null};Xn.displayName="Presence";function XP(e){const[t,n]=h.useState(),s=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=JP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=wo(s.current);i.current=l==="mounted"?d:"none"},[l]),Je(()=>{const d=s.current,u=a.current;if(u!==e){const g=i.current,p=wo(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&g!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Je(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const w=wo(s.current).includes(p.animationName);if(p.target===t&&w&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},g=p=>{p.target===t&&(i.current=wo(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function wo(e){return(e==null?void 0:e.animationName)||"none"}function ZP(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cd="rovingFocusGroup.onEntryFocus",e4={bubbles:!1,cancelable:!0},zi="RovingFocusGroup",[$u,Q0,t4]=nf(zi),[n4,oc]=Mn(zi,[t4]),[r4,s4]=n4(zi),J0=h.forwardRef((e,t)=>r.jsx($u.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx($u.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(a4,{...e,ref:t})})}));J0.displayName=zi;var a4=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,g=h.useRef(null),p=ke(t,g),b=Kl(i),[w,y]=cs({prop:o,defaultProp:l??null,onChange:c,caller:zi}),[x,v]=h.useState(!1),m=pn(d),N=Q0(n),k=h.useRef(!1),[S,T]=h.useState(0);return h.useEffect(()=>{const E=g.current;if(E)return E.addEventListener(cd,m),()=>E.removeEventListener(cd,m)},[m]),r.jsx(r4,{scope:n,orientation:s,dir:b,loop:a,currentTabStopId:w,onItemFocus:h.useCallback(E=>y(E),[y]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>T(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>T(E=>E-1),[]),children:r.jsx(ge.div,{tabIndex:x||S===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{k.current=!0}),onFocus:le(e.onFocus,E=>{const B=!k.current;if(E.target===E.currentTarget&&B&&!x){const U=new CustomEvent(cd,e4);if(E.currentTarget.dispatchEvent(U),!U.defaultPrevented){const H=N().filter($=>$.focusable),R=H.find($=>$.active),P=H.find($=>$.id===w),M=[R,P,...H].filter(Boolean).map($=>$.ref.current);ew(M,u)}}k.current=!1}),onBlur:le(e.onBlur,()=>v(!1))})})}),X0="RovingFocusGroupItem",Z0=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=kn(),d=i||c,u=s4(X0,n),f=u.currentTabStopId===d,g=Q0(n),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:w}=u;return h.useEffect(()=>{if(s)return p(),()=>b()},[s,p,b]),r.jsx($u.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(ge.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:le(e.onMouseDown,y=>{s?u.onItemFocus(d):y.preventDefault()}),onFocus:le(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:le(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=l4(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let m=g().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")m.reverse();else if(x==="prev"||x==="next"){x==="prev"&&m.reverse();const N=m.indexOf(y.currentTarget);m=u.loop?c4(m,N+1):m.slice(N+1)}setTimeout(()=>ew(m))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});Z0.displayName=X0;var i4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function l4(e,t,n){const s=o4(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return i4[s]}function ew(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function c4(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var tw=J0,nw=Z0,Uu=["Enter"," "],d4=["ArrowDown","PageUp","Home"],rw=["ArrowUp","PageDown","End"],u4=[...d4,...rw],h4={ltr:[...Uu,"ArrowRight"],rtl:[...Uu,"ArrowLeft"]},f4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bi="Menu",[Ei,m4,p4]=nf(Bi),[xs,sw]=Mn(Bi,[p4,ec,oc]),lc=ec(),aw=oc(),[g4,vs]=xs(Bi),[x4,Vi]=xs(Bi),iw=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=lc(t),[c,d]=h.useState(null),u=h.useRef(!1),f=pn(i),g=Kl(a);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),r.jsx(Zy,{...l,children:r.jsx(g4,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:d,children:r.jsx(x4,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:g,modal:o,children:s})})})};iw.displayName=Bi;var v4="MenuAnchor",gf=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=lc(n);return r.jsx(e0,{...a,...s,ref:t})});gf.displayName=v4;var xf="MenuPortal",[y4,ow]=xs(xf,{forceMount:void 0}),lw=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,i=vs(xf,t);return r.jsx(y4,{scope:t,forceMount:n,children:r.jsx(Xn,{present:n||i.open,children:r.jsx(tc,{asChild:!0,container:a,children:s})})})};lw.displayName=xf;var Ht="MenuContent",[w4,vf]=xs(Ht),cw=h.forwardRef((e,t)=>{const n=ow(Ht,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=vs(Ht,e.__scopeMenu),o=Vi(Ht,e.__scopeMenu);return r.jsx(Ei.Provider,{scope:e.__scopeMenu,children:r.jsx(Xn,{present:s||i.open,children:r.jsx(Ei.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(j4,{...a,ref:t}):r.jsx(N4,{...a,ref:t})})})})}),j4=h.forwardRef((e,t)=>{const n=vs(Ht,e.__scopeMenu),s=h.useRef(null),a=ke(t,s);return h.useEffect(()=>{const i=s.current;if(i)return mf(i)},[]),r.jsx(yf,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),N4=h.forwardRef((e,t)=>{const n=vs(Ht,e.__scopeMenu);return r.jsx(yf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),b4=is("MenuContent.ScrollLock"),yf=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:g,onDismiss:p,disableOutsideScroll:b,...w}=e,y=vs(Ht,n),x=Vi(Ht,n),v=lc(n),m=aw(n),N=m4(n),[k,S]=h.useState(null),T=h.useRef(null),E=ke(t,T,y.onContentChange),B=h.useRef(0),U=h.useRef(""),H=h.useRef(0),R=h.useRef(null),P=h.useRef("right"),F=h.useRef(0),M=b?rc:h.Fragment,$=b?{as:b4,allowPinchZoom:!0}:void 0,D=C=>{var V,ee;const _=U.current+C,L=N().filter(de=>!de.disabled),I=document.activeElement,W=(V=L.find(de=>de.ref.current===I))==null?void 0:V.textValue,G=L.map(de=>de.textValue),Z=O4(G,_,W),ce=(ee=L.find(de=>de.textValue===Z))==null?void 0:ee.ref.current;(function de(j){U.current=j,window.clearTimeout(B.current),j!==""&&(B.current=window.setTimeout(()=>de(""),1e3))})(_),ce&&setTimeout(()=>ce.focus())};h.useEffect(()=>()=>window.clearTimeout(B.current),[]),rf();const A=h.useCallback(C=>{var L,I;return P.current===((L=R.current)==null?void 0:L.side)&&L4(C,(I=R.current)==null?void 0:I.area)},[]);return r.jsx(w4,{scope:n,searchRef:U,onItemEnter:h.useCallback(C=>{A(C)&&C.preventDefault()},[A]),onItemLeave:h.useCallback(C=>{var _;A(C)||((_=T.current)==null||_.focus(),S(null))},[A]),onTriggerLeave:h.useCallback(C=>{A(C)&&C.preventDefault()},[A]),pointerGraceTimerRef:H,onPointerGraceIntentChange:h.useCallback(C=>{R.current=C},[]),children:r.jsx(M,{...$,children:r.jsx(Ql,{asChild:!0,trapped:a,onMountAutoFocus:le(i,C=>{var _;C.preventDefault(),(_=T.current)==null||_.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(Yl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:g,onDismiss:p,children:r.jsx(tw,{asChild:!0,...m,dir:x.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:S,onEntryFocus:le(c,C=>{x.isUsingKeyboardRef.current||C.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(t0,{role:"menu","aria-orientation":"vertical","data-state":Sw(y.open),"data-radix-menu-content":"",dir:x.dir,...v,...w,ref:E,style:{outline:"none",...w.style},onKeyDown:le(w.onKeyDown,C=>{const L=C.target.closest("[data-radix-menu-content]")===C.currentTarget,I=C.ctrlKey||C.altKey||C.metaKey,W=C.key.length===1;L&&(C.key==="Tab"&&C.preventDefault(),!I&&W&&D(C.key));const G=T.current;if(C.target!==G||!u4.includes(C.key))return;C.preventDefault();const ce=N().filter(V=>!V.disabled).map(V=>V.ref.current);rw.includes(C.key)&&ce.reverse(),D4(ce)}),onBlur:le(e.onBlur,C=>{C.currentTarget.contains(C.target)||(window.clearTimeout(B.current),U.current="")}),onPointerMove:le(e.onPointerMove,Ti(C=>{const _=C.target,L=F.current!==C.clientX;if(C.currentTarget.contains(_)&&L){const I=C.clientX>F.current?"right":"left";P.current=I,F.current=C.clientX}}))})})})})})})});cw.displayName=Ht;var _4="MenuGroup",wf=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ge.div,{role:"group",...s,ref:t})});wf.displayName=_4;var S4="MenuLabel",dw=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ge.div,{...s,ref:t})});dw.displayName=S4;var pl="MenuItem",Jp="menu.itemSelect",cc=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,i=h.useRef(null),o=Vi(pl,e.__scopeMenu),l=vf(pl,e.__scopeMenu),c=ke(t,i),d=h.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const g=new CustomEvent(Jp,{bubbles:!0,cancelable:!0});f.addEventListener(Jp,p=>s==null?void 0:s(p),{once:!0}),sy(f,g),g.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(uw,{...a,ref:c,disabled:n,onClick:le(e.onClick,u),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),d.current=!0},onPointerUp:le(e.onPointerUp,f=>{var g;d.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:le(e.onKeyDown,f=>{const g=l.searchRef.current!=="";n||g&&f.key===" "||Uu.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});cc.displayName=pl;var uw=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=e,o=vf(pl,n),l=aw(n),c=h.useRef(null),d=ke(t,c),[u,f]=h.useState(!1),[g,p]=h.useState("");return h.useEffect(()=>{const b=c.current;b&&p((b.textContent??"").trim())},[i.children]),r.jsx(Ei.ItemSlot,{scope:n,disabled:s,textValue:a??g,children:r.jsx(nw,{asChild:!0,...l,focusable:!s,children:r.jsx(ge.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:le(e.onPointerMove,Ti(b=>{s?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:le(e.onPointerLeave,Ti(b=>o.onItemLeave(b))),onFocus:le(e.onFocus,()=>f(!0)),onBlur:le(e.onBlur,()=>f(!1))})})})}),C4="MenuCheckboxItem",hw=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return r.jsx(xw,{scope:e.__scopeMenu,checked:n,children:r.jsx(cc,{role:"menuitemcheckbox","aria-checked":gl(n)?"mixed":n,...a,ref:t,"data-state":Nf(n),onSelect:le(a.onSelect,()=>s==null?void 0:s(gl(n)?!0:!n),{checkForDefaultPrevented:!1})})})});hw.displayName=C4;var fw="MenuRadioGroup",[k4,E4]=xs(fw,{value:void 0,onValueChange:()=>{}}),mw=h.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,i=pn(s);return r.jsx(k4,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(wf,{...a,ref:t})})});mw.displayName=fw;var pw="MenuRadioItem",gw=h.forwardRef((e,t)=>{const{value:n,...s}=e,a=E4(pw,e.__scopeMenu),i=n===a.value;return r.jsx(xw,{scope:e.__scopeMenu,checked:i,children:r.jsx(cc,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":Nf(i),onSelect:le(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});gw.displayName=pw;var jf="MenuItemIndicator",[xw,T4]=xs(jf,{checked:!1}),vw=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,i=T4(jf,n);return r.jsx(Xn,{present:s||gl(i.checked)||i.checked===!0,children:r.jsx(ge.span,{...a,ref:t,"data-state":Nf(i.checked)})})});vw.displayName=jf;var P4="MenuSeparator",yw=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});yw.displayName=P4;var R4="MenuArrow",ww=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=lc(n);return r.jsx(n0,{...a,...s,ref:t})});ww.displayName=R4;var A4="MenuSub",[TA,jw]=xs(A4),Ga="MenuSubTrigger",Nw=h.forwardRef((e,t)=>{const n=vs(Ga,e.__scopeMenu),s=Vi(Ga,e.__scopeMenu),a=jw(Ga,e.__scopeMenu),i=vf(Ga,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(gf,{asChild:!0,...d,children:r.jsx(uw,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Sw(n.open),...e,ref:Vl(t,a.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:le(e.onPointerMove,Ti(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:le(e.onPointerLeave,Ti(f=>{var p,b;u();const g=(p=n.content)==null?void 0:p.getBoundingClientRect();if(g){const w=(b=n.content)==null?void 0:b.dataset.side,y=w==="right",x=y?-5:5,v=g[y?"left":"right"],m=g[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:v,y:g.top},{x:m,y:g.top},{x:m,y:g.bottom},{x:v,y:g.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:le(e.onKeyDown,f=>{var p;const g=i.searchRef.current!=="";e.disabled||g&&f.key===" "||h4[s.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});Nw.displayName=Ga;var bw="MenuSubContent",_w=h.forwardRef((e,t)=>{const n=ow(Ht,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,i=vs(Ht,e.__scopeMenu),o=Vi(Ht,e.__scopeMenu),l=jw(bw,e.__scopeMenu),c=h.useRef(null),d=ke(t,c);return r.jsx(Ei.Provider,{scope:e.__scopeMenu,children:r.jsx(Xn,{present:s||i.open,children:r.jsx(Ei.Slot,{scope:e.__scopeMenu,children:r.jsx(yf,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:le(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:le(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:le(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),g=f4[o.dir].includes(u.key);f&&g&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});_w.displayName=bw;function Sw(e){return e?"open":"closed"}function gl(e){return e==="indeterminate"}function Nf(e){return gl(e)?"indeterminate":e?"checked":"unchecked"}function D4(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function M4(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function O4(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=M4(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function I4(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,g=c.y;u>s!=g>s&&n<(f-d)*(s-u)/(g-u)+d&&(a=!a)}return a}function L4(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return I4(n,t)}function Ti(e){return t=>t.pointerType==="mouse"?e(t):void 0}var F4=iw,$4=gf,U4=lw,z4=cw,B4=wf,V4=dw,W4=cc,G4=hw,H4=mw,q4=gw,K4=vw,Y4=yw,Q4=ww,J4=Nw,X4=_w,dc="DropdownMenu",[Z4,PA]=Mn(dc,[sw]),vt=sw(),[eR,Cw]=Z4(dc),kw=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=vt(t),d=h.useRef(null),[u,f]=cs({prop:a,defaultProp:i??!1,onChange:o,caller:dc});return r.jsx(eR,{scope:t,triggerId:kn(),triggerRef:d,contentId:kn(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(g=>!g),[f]),modal:l,children:r.jsx(F4,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:n})})};kw.displayName=dc;var Ew="DropdownMenuTrigger",Tw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,i=Cw(Ew,n),o=vt(n);return r.jsx($4,{asChild:!0,...o,children:r.jsx(ge.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Vl(t,i.triggerRef),onPointerDown:le(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:le(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Tw.displayName=Ew;var tR="DropdownMenuPortal",Pw=e=>{const{__scopeDropdownMenu:t,...n}=e,s=vt(t);return r.jsx(U4,{...s,...n})};Pw.displayName=tR;var Rw="DropdownMenuContent",Aw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Cw(Rw,n),i=vt(n),o=h.useRef(!1);return r.jsx(z4,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:le(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:le(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Aw.displayName=Rw;var nR="DropdownMenuGroup",rR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(B4,{...a,...s,ref:t})});rR.displayName=nR;var sR="DropdownMenuLabel",Dw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(V4,{...a,...s,ref:t})});Dw.displayName=sR;var aR="DropdownMenuItem",Mw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(W4,{...a,...s,ref:t})});Mw.displayName=aR;var iR="DropdownMenuCheckboxItem",Ow=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(G4,{...a,...s,ref:t})});Ow.displayName=iR;var oR="DropdownMenuRadioGroup",lR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(H4,{...a,...s,ref:t})});lR.displayName=oR;var cR="DropdownMenuRadioItem",Iw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(q4,{...a,...s,ref:t})});Iw.displayName=cR;var dR="DropdownMenuItemIndicator",Lw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(K4,{...a,...s,ref:t})});Lw.displayName=dR;var uR="DropdownMenuSeparator",Fw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(Y4,{...a,...s,ref:t})});Fw.displayName=uR;var hR="DropdownMenuArrow",fR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(Q4,{...a,...s,ref:t})});fR.displayName=hR;var mR="DropdownMenuSubTrigger",$w=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(J4,{...a,...s,ref:t})});$w.displayName=mR;var pR="DropdownMenuSubContent",Uw=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=vt(n);return r.jsx(X4,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Uw.displayName=pR;var gR=kw,xR=Tw,vR=Pw,zw=Aw,Bw=Dw,Vw=Mw,Ww=Ow,Gw=Iw,Hw=Lw,qw=Fw,Kw=$w,Yw=Uw;const yR=gR,wR=xR,jR=h.forwardRef(({className:e,inset:t,children:n,...s},a)=>r.jsxs(Kw,{ref:a,className:he("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx($C,{className:"ml-auto h-4 w-4"})]}));jR.displayName=Kw.displayName;const NR=h.forwardRef(({className:e,...t},n)=>r.jsx(Yw,{ref:n,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));NR.displayName=Yw.displayName;const Qw=h.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(vR,{children:r.jsx(zw,{ref:s,sideOffset:t,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Qw.displayName=zw.displayName;const zu=h.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(Vw,{ref:s,className:he("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));zu.displayName=Vw.displayName;const bR=h.forwardRef(({className:e,children:t,checked:n,...s},a)=>r.jsxs(Ww,{ref:a,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Hw,{children:r.jsx(Gl,{className:"h-4 w-4"})})}),t]}));bR.displayName=Ww.displayName;const _R=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Gw,{ref:s,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Hw,{children:r.jsx(zC,{className:"h-2 w-2 fill-current"})})}),t]}));_R.displayName=Gw.displayName;const Jw=h.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(Bw,{ref:s,className:he("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Jw.displayName=Bw.displayName;const Bu=h.forwardRef(({className:e,...t},n)=>r.jsx(qw,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));Bu.displayName=qw.displayName;const Vu=({variant:e="header",showAddBusiness:t=!1,onAddBusiness:n,className:s=""})=>{const{user:a,currentBusiness:i,switchBusiness:o}=Ee(),[l,c]=h.useState(!1);if(!a)return null;const d=a.businesses||[],u=d.length>1,f=y=>y.business?y.business.status||"active":y.status||"active",g=y=>y.business?y.business.name:y.name||"Unknown Business",p=y=>y.business?y.business.id:y.id,w=i?{name:i.name||"Current Business",status:i.status||"active",isPlaceholder:!1}:{name:"No Business Selected",status:"inactive",isPlaceholder:!0};return e==="compact"?u?r.jsxs(ve,{value:(i==null?void 0:i.id)||"",onValueChange:o,children:[r.jsx(me,{className:`w-auto min-w-36 ${s}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(we,{placeholder:"Select business"})]})}),r.jsx(pe,{children:d.map(y=>r.jsx(Q,{value:p(y),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:g(y)}),r.jsx(fe,{variant:f(y)==="active"?"default":"secondary",className:"text-xs",children:f(y)})]})},p(y)))})]}):r.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[r.jsx(At,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate max-w-32",children:w.name})]}):e==="header"?r.jsxs("div",{className:`flex items-center ${s}`,children:[r.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg px-3 py-2 border",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 leading-tight",children:w.name}),!w.isPlaceholder&&r.jsxs("span",{className:"text-xs text-gray-500",children:[d.length," business",d.length!==1?"es":""," available"]})]})]}),!w.isPlaceholder&&r.jsx(fe,{variant:w.status==="active"?"default":"secondary",className:"text-xs",children:w.status}),u&&r.jsxs(yR,{open:l,onOpenChange:c,children:[r.jsx(wR,{asChild:!0,children:r.jsx(z,{variant:"ghost",size:"sm",className:"p-1 h-auto",children:r.jsx(Jh,{className:"h-4 w-4"})})}),r.jsxs(Qw,{align:"end",className:"w-80",children:[r.jsxs(Jw,{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-4 w-4"}),"Switch Business Context"]}),r.jsx(Bu,{}),d.map(y=>{const x=p(y),v=g(y),m=f(y),N=(i==null?void 0:i.id)===x;return r.jsx(zu,{onClick:()=>{o(x),c(!1)},className:"cursor-pointer",children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(At,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:v}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(fe,{variant:m==="active"?"default":"secondary",className:"text-xs",children:m}),y.role&&r.jsxs("span",{children:["• ",y.role]})]})]})]}),N&&r.jsx(Gl,{className:"h-4 w-4 text-green-600"})]})},x)}),t&&n&&r.jsxs(r.Fragment,{children:[r.jsx(Bu,{}),r.jsx(zu,{onClick:n,className:"cursor-pointer",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(tt,{className:"h-4 w-4 text-green-600"})}),r.jsx("span",{className:"font-medium",children:"Add New Business"})]})})]})]})]})]}),!w.isPlaceholder&&u&&r.jsxs("div",{className:"ml-3 text-xs text-gray-500",children:[d.length," available"]})]}):e==="sidebar"?r.jsxs("div",{className:`bg-white rounded-lg border p-4 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(At,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:"Current Business"})]}),!w.isPlaceholder&&r.jsx(fe,{variant:w.status==="active"?"default":"secondary",className:"text-xs",children:w.status})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:w.name}),!w.isPlaceholder&&r.jsxs("p",{className:"text-sm text-gray-500",children:["You have access to ",d.length," business",d.length!==1?"es":""]})]}),w.isPlaceholder&&r.jsx("p",{className:"text-sm text-gray-500",children:"No business selected. Please contact your administrator."}),u&&r.jsxs(ve,{value:(i==null?void 0:i.id)||"",onValueChange:o,children:[r.jsx(me,{className:"w-full",children:r.jsx(we,{placeholder:"Switch business"})}),r.jsx(pe,{children:d.map(y=>r.jsx(Q,{value:p(y),children:r.jsxs("div",{className:"flex items-center gap-2 w-full",children:[r.jsx("span",{className:"font-medium",children:g(y)}),r.jsx(fe,{variant:f(y)==="active"?"default":"secondary",className:"text-xs ml-auto",children:f(y)})]})},p(y)))})]}),t&&n&&r.jsxs(z,{variant:"outline",size:"sm",onClick:n,className:"w-full",children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Business"]})]})]}):null},bf=({children:e,title:t,subtitle:n,actions:s})=>{const{user:a}=Ee(),{signOutWithRedirect:i}=Qv(),o=()=>{window.location.reload()};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-4",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t}),n&&r.jsx("p",{className:"text-sm text-gray-600",children:n})]}),a&&["client","user","accountant"].includes(a.role)&&r.jsx("div",{className:"hidden md:block",children:r.jsx(Vu,{variant:"header",showAddBusiness:a.role==="client"||a.role==="user"})})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[s,a&&["client","user","accountant"].includes(a.role)&&r.jsx("div",{className:"block md:hidden",children:r.jsx(Vu,{variant:"compact"})}),r.jsx(ky,{size:"md",showName:!1}),r.jsxs(z,{onClick:o,variant:"outline",size:"sm",children:[r.jsx(ja,{className:"h-4 w-4"}),"Refresh"]}),r.jsxs(z,{onClick:i,variant:"outline",size:"sm",children:[r.jsx(GC,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})},dd=[{name:"Overview",href:"/user/overview",icon:wa,description:"Personal finance dashboard and summary"},{name:"Transactions",href:"/user/transactions",icon:Tn,description:"View and manage your transactions"},{name:"Goals",href:"/user/goals",icon:hn,description:"Create and track financial goals"},{name:"Analytics",href:"/user/analytics",icon:ql,description:"Personal finance analytics and insights"},{name:"Documents",href:"/user/documents",icon:Su,description:"Upload receipts and financial documents"},{name:"Settings",href:"/user/settings",icon:Zh,description:"Profile and account preferences"}],SR=({children:e})=>{var i;const{user:t}=Ee(),n=An(),s=()=>{const o=n.pathname,l=dd.find(c=>c.href===o);return(l==null?void 0:l.name)||"Personal Finance"},a=`Welcome back, ${t==null?void 0:t.email}`;return r.jsx(bf,{title:"Personal Finance Dashboard",subtitle:a,children:r.jsxs("div",{className:"flex gap-8",children:[r.jsxs("div",{className:"w-64 flex-shrink-0 space-y-4",children:[r.jsx(Vu,{variant:"sidebar",showAddBusiness:!0,className:"w-full"}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(ef,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Navigation"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Personal finance sections"})]})]}),r.jsx("nav",{className:"space-y-1",children:dd.map(o=>{const l=o.icon,c=n.pathname===o.href;return r.jsxs(Wh,{to:o.href,className:he("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",c?"bg-green-100 text-green-700 border-r-2 border-green-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[r.jsx(l,{className:he("mr-3 h-5 w-5",c?"text-green-700":"text-gray-400")}),r.jsxs("div",{children:[r.jsx("div",{children:o.name}),c&&r.jsx("div",{className:"text-xs text-green-600 mt-0.5",children:o.description})]})]},o.name)})})]})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s()}),r.jsx("p",{className:"text-sm text-gray-600",children:((i=dd.find(o=>o.href===n.pathname))==null?void 0:i.description)||"Manage your personal finances and track your financial goals"})]}),e]})]})})},ud=[{name:"Overview",href:"/accountant/overview",icon:wa,description:"Dashboard metrics and insights"},{name:"Clients",href:"/accountant/clients",icon:ut,description:"Manage and monitor clients"},{name:"Tasks",href:"/accountant/tasks",icon:bu,description:"Track and manage tasks"},{name:"Reports",href:"/accountant/reports",icon:Nn,description:"Generate and review reports"}],CR=({children:e})=>{var i;const{user:t}=Ee(),n=An(),s=()=>{const o=n.pathname,l=ud.find(c=>c.href===o);return(l==null?void 0:l.name)||"Accountant Dashboard"},a=`Manage clients and financial operations • ${t==null?void 0:t.email}`;return r.jsx(bf,{title:"Accountant Dashboard",subtitle:a,children:r.jsxs("div",{className:"flex gap-8",children:[r.jsx("div",{className:"w-64 flex-shrink-0",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(LC,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Navigation"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Dashboard sections"})]})]}),r.jsx("nav",{className:"space-y-2",children:ud.map(o=>{const l=o.icon,c=n.pathname===o.href;return r.jsxs(Wh,{to:o.href,className:he("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",c?"bg-blue-100 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[r.jsx(l,{className:he("mr-3 h-5 w-5",c?"text-blue-700":"text-gray-400")}),r.jsxs("div",{children:[r.jsx("div",{children:o.name}),c&&r.jsx("div",{className:"text-xs text-blue-600 mt-0.5",children:o.description})]})]},o.name)})})]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s()}),r.jsx("p",{className:"text-sm text-gray-600",children:((i=ud.find(o=>o.href===n.pathname))==null?void 0:i.description)||"Manage client accounts and financial operations"})]}),e]})]})})},hd=[{name:"Overview",href:"/admin/overview",icon:wa,description:"System metrics and insights"},{name:"Users",href:"/admin/users",icon:ut,description:"Manage platform users"},{name:"Businesses",href:"/admin/businesses",icon:At,description:"Monitor all businesses"},{name:"Financial",href:"/admin/financial",icon:Pt,description:"Financial analytics and reporting"},{name:"System",href:"/admin/system",icon:Zh,description:"System configuration and monitoring"}],kR=({children:e})=>{var i;const{user:t}=Ee(),n=An(),s=()=>{const o=n.pathname,l=hd.find(c=>c.href===o);return(l==null?void 0:l.name)||"Admin Dashboard"},a=`System administration and platform oversight • ${t==null?void 0:t.email}`;return r.jsx(bf,{title:"Admin Dashboard",subtitle:a,children:r.jsxs("div",{className:"flex gap-8",children:[r.jsx("div",{className:"w-64 flex-shrink-0",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Tr,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Admin Panel"}),r.jsx("p",{className:"text-sm text-gray-500",children:"System management"})]})]}),r.jsx("nav",{className:"space-y-2",children:hd.map(o=>{const l=o.icon,c=n.pathname===o.href;return r.jsxs(Wh,{to:o.href,className:he("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",c?"bg-red-100 text-red-700 border-r-2 border-red-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[r.jsx(l,{className:he("mr-3 h-5 w-5",c?"text-red-700":"text-gray-400")}),r.jsxs("div",{children:[r.jsx("div",{children:o.name}),c&&r.jsx("div",{className:"text-xs text-red-600 mt-0.5",children:o.description})]})]},o.name)})})]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s()}),r.jsx("p",{className:"text-sm text-gray-600",children:((i=hd.find(o=>o.href===n.pathname))==null?void 0:i.description)||"Manage platform operations and system configuration"})]}),e]})]})})},Xp=()=>{const{user:e}=Ee(),t=Ol(),[n,s]=h.useState(!0),[a,i]=h.useState(null),[o,l]=h.useState(null),[c,d]=h.useState([]),[u,f]=h.useState([]);h.useEffect(()=>{e&&g()},[e]);const g=h.useCallback(async()=>{if(e!=null&&e.id)try{s(!0),i(null);const[y,x,v]=await Promise.all([te.from("transactions").select("*").eq("user_id",e.id).gte("date",new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]).order("date",{ascending:!1}),te.from("financial_goals").select("*").eq("user_id",e.id).eq("status","active").order("deadline",{ascending:!0}),te.from("budgets").select("*").eq("user_id",e.id).eq("status","active").gte("start_date",new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]).lte("end_date",new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0])]);if(y.error)throw y.error;if(x.error)throw x.error;if(v.error)throw v.error;const m=y.data||[],N=x.data||[],k=v.data||[],S=m.filter(P=>P.type==="income").reduce((P,F)=>P+Number(F.amount),0),T=m.filter(P=>P.type==="expense").reduce((P,F)=>P+Math.abs(Number(F.amount)),0),E=k.reduce((P,F)=>P+Number(F.amount),0),B=k.reduce((P,F)=>P+Number(F.spent_amount||0),0),U={totalIncome:S,totalExpenses:T,netSavings:S-T,transactionCount:m.length,monthlyBudget:E||4e3,budgetUsed:B},H=m.slice(0,5).map(P=>({id:P.id,amount:P.type==="expense"?-Math.abs(Number(P.amount)):Number(P.amount),description:P.description||"No description",category_name:P.category_name||"Other",date:P.date,type:P.type})),R=N.map(P=>({id:P.id,title:P.title,target_amount:P.target_amount,current_amount:P.current_amount||0,deadline:P.deadline,category:P.category}));l(U),d(H),f(R),m.length===0&&N.length===0&&i("No financial data found. Start by adding some transactions and setting financial goals!")}catch(y){console.error("Error loading personal finance data:",y),i(y.message||"Failed to load personal finance data")}finally{s(!1)}},[e]),p=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y),b=y=>new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric"}),w=y=>Math.min(y.current_amount/y.target_amount*100,100);return n?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"animate-pulse",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((y,x)=>r.jsx(q,{children:r.jsxs(K,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})},x))})})}):a?r.jsx(ze,{children:r.jsxs(Be,{children:[r.jsx("strong",{children:"Getting Started:"})," ",a,r.jsxs("div",{className:"mt-4 space-x-2",children:[r.jsx(z,{onClick:()=>t("/user/transactions"),variant:"outline",children:"Add Transactions"}),r.jsx(z,{onClick:()=>t("/user/goals"),variant:"outline",children:"Set Goals"})]})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-4",children:[r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Monthly Income"}),r.jsx(mn,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:p((o==null?void 0:o.totalIncome)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"This month's income"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Monthly Expenses"}),r.jsx(os,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:p((o==null?void 0:o.totalExpenses)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"This month's spending"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Net Savings"}),r.jsx(ef,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p((o==null?void 0:o.netSavings)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Income minus expenses"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(oe,{children:"Recent Transactions"}),r.jsx(Ne,{children:"Your latest financial activity"})]}),r.jsxs(z,{variant:"outline",size:"sm",onClick:()=>t("/user/transactions"),children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]}),r.jsx(K,{children:c.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No transactions yet"}),r.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>t("/user/transactions"),children:"Add Your First Transaction"})]}):r.jsxs("div",{className:"space-y-4",children:[c.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${y.type==="income"?"bg-green-100":"bg-red-100"}`,children:y.type==="income"?r.jsx(mn,{className:"h-5 w-5 text-green-600"}):r.jsx(os,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:y.description}),r.jsx("p",{className:"text-sm text-gray-500",children:y.category_name})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-semibold ${y.amount>0?"text-green-600":"text-red-600"}`,children:[y.amount>0?"+":"",p(y.amount)]}),r.jsx("p",{className:"text-sm text-gray-500",children:b(y.date)})]})]},y.id)),r.jsx("div",{className:"text-center pt-4",children:r.jsx(z,{variant:"ghost",onClick:()=>t("/user/transactions"),children:"View All Transactions"})})]})})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(oe,{children:"Financial Goals"}),r.jsx(Ne,{children:"Track your savings progress"})]}),r.jsxs(z,{variant:"outline",size:"sm",onClick:()=>t("/user/goals"),children:[r.jsx(hn,{className:"h-4 w-4 mr-2"}),"Add Goal"]})]}),r.jsx(K,{children:u.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(hn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No financial goals set"}),r.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>t("/user/goals"),children:"Create Your First Goal"})]}):r.jsxs("div",{className:"space-y-4",children:[u.slice(0,3).map(y=>{const x=w(y);return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:y.title}),r.jsx("p",{className:"text-sm text-gray-500",children:y.category})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold",children:p(y.current_amount)}),r.jsxs("p",{className:"text-sm text-gray-500",children:["of ",p(y.target_amount)]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x}%`}})}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:[Math.round(x),"% complete"]}),y.deadline&&r.jsxs("span",{children:["Due ",b(y.deadline)]})]})]},y.id)}),r.jsx("div",{className:"text-center pt-4",children:r.jsx(z,{variant:"ghost",onClick:()=>t("/user/goals"),children:"View All Goals"})})]})})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Quick Actions"}),r.jsx(Ne,{children:"Common tasks to manage your finances"})]}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(z,{variant:"outline",className:"h-20 flex-col space-y-2",onClick:()=>t("/user/transactions"),children:[r.jsx(tt,{className:"h-6 w-6"}),r.jsx("span",{children:"Add Transaction"})]}),r.jsxs(z,{variant:"outline",className:"h-20 flex-col space-y-2",onClick:()=>t("/user/goals"),children:[r.jsx(hn,{className:"h-6 w-6"}),r.jsx("span",{children:"Set Goal"})]}),r.jsxs(z,{variant:"outline",className:"h-20 flex-col space-y-2",onClick:()=>t("/user/analytics"),children:[r.jsx(ql,{className:"h-6 w-6"}),r.jsx("span",{children:"View Analytics"})]})]})})]})]})};var uc="Dialog",[Xw,RA]=Mn(uc),[ER,vn]=Xw(uc),Zw=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=cs({prop:s,defaultProp:a??!1,onChange:i,caller:uc});return r.jsx(ER,{scope:t,triggerRef:l,contentRef:c,contentId:kn(),titleId:kn(),descriptionId:kn(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};Zw.displayName=uc;var ej="DialogTrigger",tj=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=vn(ej,n),i=ke(t,a.triggerRef);return r.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Cf(a.open),...s,ref:i,onClick:le(e.onClick,a.onOpenToggle)})});tj.displayName=ej;var _f="DialogPortal",[TR,nj]=Xw(_f,{forceMount:void 0}),rj=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=vn(_f,t);return r.jsx(TR,{scope:t,forceMount:n,children:h.Children.map(s,o=>r.jsx(Xn,{present:n||i.open,children:r.jsx(tc,{asChild:!0,container:a,children:o})}))})};rj.displayName=_f;var xl="DialogOverlay",sj=h.forwardRef((e,t)=>{const n=nj(xl,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=vn(xl,e.__scopeDialog);return i.modal?r.jsx(Xn,{present:s||i.open,children:r.jsx(RR,{...a,ref:t})}):null});sj.displayName=xl;var PR=is("DialogOverlay.RemoveScroll"),RR=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=vn(xl,n);return r.jsx(rc,{as:PR,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(ge.div,{"data-state":Cf(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),hs="DialogContent",aj=h.forwardRef((e,t)=>{const n=nj(hs,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=vn(hs,e.__scopeDialog);return r.jsx(Xn,{present:s||i.open,children:i.modal?r.jsx(AR,{...a,ref:t}):r.jsx(DR,{...a,ref:t})})});aj.displayName=hs;var AR=h.forwardRef((e,t)=>{const n=vn(hs,e.__scopeDialog),s=h.useRef(null),a=ke(t,n.contentRef,s);return h.useEffect(()=>{const i=s.current;if(i)return mf(i)},[]),r.jsx(ij,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault())})}),DR=h.forwardRef((e,t)=>{const n=vn(hs,e.__scopeDialog),s=h.useRef(!1),a=h.useRef(!1);return r.jsx(ij,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ij=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=vn(hs,n),c=h.useRef(null),d=ke(t,c);return rf(),r.jsxs(r.Fragment,{children:[r.jsx(Ql,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(Yl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Cf(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(MR,{titleId:l.titleId}),r.jsx(IR,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Sf="DialogTitle",oj=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=vn(Sf,n);return r.jsx(ge.h2,{id:a.titleId,...s,ref:t})});oj.displayName=Sf;var lj="DialogDescription",cj=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=vn(lj,n);return r.jsx(ge.p,{id:a.descriptionId,...s,ref:t})});cj.displayName=lj;var dj="DialogClose",uj=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=vn(dj,n);return r.jsx(ge.button,{type:"button",...s,ref:t,onClick:le(e.onClick,()=>a.onOpenChange(!1))})});uj.displayName=dj;function Cf(e){return e?"open":"closed"}var hj="DialogTitleWarning",[AA,fj]=Pk(hj,{contentName:hs,titleName:Sf,docsSlug:"dialog"}),MR=({titleId:e})=>{const t=fj(hj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},OR="DialogDescriptionWarning",IR=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fj(OR).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},LR=Zw,FR=tj,$R=rj,mj=sj,pj=aj,gj=oj,xj=cj,UR=uj;const Et=LR,kf=FR,zR=$R,vj=h.forwardRef(({className:e,...t},n)=>r.jsx(mj,{ref:n,className:he("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));vj.displayName=mj.displayName;const ft=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(zR,{children:[r.jsx(vj,{}),r.jsxs(pj,{ref:s,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(UR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(XC,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ft.displayName=pj.displayName;const mt=({className:e,...t})=>r.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});mt.displayName="DialogHeader";const Tt=({className:e,...t})=>r.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tt.displayName="DialogFooter";const pt=h.forwardRef(({className:e,...t},n)=>r.jsx(gj,{ref:n,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));pt.displayName=gj.displayName;const Rn=h.forwardRef(({className:e,...t},n)=>r.jsx(xj,{ref:n,className:he("text-sm text-muted-foreground",e),...t}));Rn.displayName=xj.displayName;const BR=()=>{const{user:e}=Ee(),[t,n]=h.useState([]),[s,a]=h.useState([]),[i,o]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState(""),[f,g]=h.useState("all"),[p,b]=h.useState("all"),[w,y]=h.useState(!1),[x,v]=h.useState([]),[m,N]=h.useState({type:"expense",amount:"",description:"",category_name:"",date:new Date().toISOString().split("T")[0],tags:[]}),[k,S]=h.useState(null),[T,E]=h.useState(!1),B=C=>{S(C),N({type:C.type,amount:C.amount.toString(),description:C.description,category_name:C.category_name,date:C.date,tags:C.tags||[]}),E(!0)},U=async C=>{if(confirm("Are you sure you want to delete this transaction?"))try{const{error:_}=await te.from("transactions").delete().eq("id",C);if(_)throw _;await R()}catch(_){console.error("Error deleting transaction:",_),c(_.message||"Failed to delete transaction")}},H=async()=>{if(e!=null&&e.id)try{const C=parseFloat(m.amount);if(isNaN(C)||C<=0)throw new Error("Invalid amount");const _={user_id:e.id,amount:m.type==="income"?C:-C,description:m.description,category_name:m.category_name,date:m.date,type:m.type,tags:m.tags};if(k){const{error:L}=await te.from("transactions").update(_).eq("id",k.id);if(L)throw L;E(!1),S(null)}else{const{error:L}=await te.from("transactions").insert(_);if(L)throw L;y(!1)}N({type:"expense",amount:"",description:"",category_name:"",date:new Date().toISOString().split("T")[0],tags:[]}),await R()}catch(C){console.error("Error saving transaction:",C),c(C.message||"Failed to save transaction")}};h.useEffect(()=>{e&&(R(),P())},[e]);const R=async()=>{if(e!=null&&e.id)try{o(!0),c(null);const{data:C,error:_}=await te.from("transactions").select("*").eq("user_id",e.id).order("date",{ascending:!1}).order("created_at",{ascending:!1});if(_)throw _;const L=(C||[]).map(I=>({id:I.id,amount:Number(I.amount),description:I.description,category_name:I.category_name||"Other",date:I.date,type:I.type,tags:I.tags||[]}));n(L),a(L)}catch(C){console.error("Error loading transactions:",C),c(C.message||"Failed to load transactions")}finally{o(!1)}},P=async()=>{try{const{data:C}=await te.from("transaction_categories").select("name").order("name"),_=(C==null?void 0:C.map(G=>G.name))||[],{data:L}=await te.from("transactions").select("category_name").eq("user_id",e==null?void 0:e.id),I=[...new Set(L==null?void 0:L.map(G=>G.category_name).filter(Boolean))],W=[...new Set([..._,...I])];v(W.filter(Boolean))}catch(C){console.error("Error loading categories:",C),v(["Food & Dining","Transportation","Shopping","Entertainment","Bills & Utilities","Healthcare","Education","Travel","Groceries","Salary","Freelance","Investment","Other"])}};h.useEffect(()=>{let C=t;d&&(C=C.filter(_=>_.description.toLowerCase().includes(d.toLowerCase())||_.category_name.toLowerCase().includes(d.toLowerCase()))),f!=="all"&&(C=C.filter(_=>_.category_name===f)),p!=="all"&&(C=C.filter(_=>_.type===p)),a(C)},[t,d,f,p]);const F=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Math.abs(C)),M=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),$=()=>s.filter(C=>C.type==="income").reduce((C,_)=>C+_.amount,0),D=()=>Math.abs(s.filter(C=>C.type==="expense").reduce((C,_)=>C+Math.abs(_.amount),0)),A=()=>$()-D();return i?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"space-y-4",children:[...Array(5)].map((C,_)=>r.jsx("div",{className:"h-16 bg-gray-200 rounded"},_))})]})}):l?r.jsx(ze,{children:r.jsxs(Be,{children:[r.jsx("strong",{children:"Error:"})," ",l,r.jsx(z,{onClick:R,className:"mt-2",variant:"outline",children:"Try Again"})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),r.jsx("p",{className:"text-gray-600",children:"Track your income and expenses"})]}),r.jsxs(z,{onClick:()=>y(!0),children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Total Income"}),r.jsx(mn,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:F($())}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.filter(C=>C.type==="income").length," transactions"]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Total Expenses"}),r.jsx(os,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:F(D())}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.filter(C=>C.type==="expense").length," transactions"]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Net Amount"}),r.jsx(Pt,{className:`h-4 w-4 ${A()>=0?"text-green-600":"text-red-600"}`})]}),r.jsxs(K,{children:[r.jsxs("div",{className:`text-2xl font-bold ${A()>=0?"text-green-600":"text-red-600"}`,children:[A()>=0?"+":"",F(A())]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Income minus expenses"})]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Filter Transactions"}),r.jsx(Ne,{children:"Search and filter your transaction history"})]}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"search",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(ue,{id:"search",placeholder:"Search transactions...",value:d,onChange:C=>u(C.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Type"}),r.jsxs(ve,{value:p,onValueChange:b,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"All types"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Types"}),r.jsx(Q,{value:"income",children:"Income"}),r.jsx(Q,{value:"expense",children:"Expense"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Category"}),r.jsxs(ve,{value:f,onValueChange:g,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"All categories"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Categories"}),x.map(C=>r.jsx(Q,{value:C,children:C},C))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:" "}),r.jsxs(z,{variant:"outline",className:"w-full",onClick:()=>{u(""),g("all"),b("all")},children:[r.jsx(oy,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Transaction History"}),r.jsxs(Ne,{children:[s.length," transaction",s.length!==1?"s":""," found"]})]}),r.jsx(K,{children:s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"No transactions yet":"No transactions match your filters"}),r.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Start tracking your finances by adding your first transaction":"Try adjusting your search criteria or clear all filters"}),r.jsxs(z,{onClick:()=>y(!0),children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Your First Transaction"]})]}):r.jsx("div",{className:"space-y-4",children:s.map(C=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${C.type==="income"?"bg-green-100":"bg-red-100"}`,children:C.type==="income"?r.jsx(mn,{className:"h-6 w-6 text-green-600"}):r.jsx(os,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:C.description}),r.jsx(fe,{variant:"outline",children:C.category_name}),r.jsx(fe,{variant:C.type==="income"?"default":"secondary",children:C.type})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(Ft,{className:"h-4 w-4 mr-1"}),M(C.date)]}),C.tags&&C.tags.length>0&&r.jsxs("div",{className:"flex items-center space-x-1",children:[C.tags.slice(0,2).map(_=>r.jsx(fe,{variant:"outline",className:"text-xs",children:_},_)),C.tags.length>2&&r.jsxs("span",{className:"text-xs text-gray-400",children:["+",C.tags.length-2," more"]})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:`text-lg font-semibold ${C.type==="income"?"text-green-600":"text-red-600"}`,children:[C.type==="income"?"+":"-",F(C.amount)]})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>B(C),children:r.jsx(Dn,{className:"h-4 w-4"})}),r.jsx(z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",onClick:()=>U(C.id),children:r.jsx(uy,{className:"h-4 w-4"})})]})]})]},C.id))})})]}),w&&r.jsx(Et,{open:w,onOpenChange:y,children:r.jsxs(ft,{children:[r.jsx(mt,{children:r.jsx(pt,{children:"Add New Transaction"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Transaction Type"}),r.jsxs(ve,{value:m.type,onValueChange:C=>N(_=>({..._,type:C})),children:[r.jsx(me,{children:r.jsx(we,{})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"income",children:"Income"}),r.jsx(Q,{value:"expense",children:"Expense"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"amount",children:"Amount"}),r.jsx(ue,{id:"amount",type:"number",step:"0.01",placeholder:"0.00",value:m.amount,onChange:C=>N(_=>({..._,amount:C.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"description",children:"Description"}),r.jsx(ue,{id:"description",placeholder:"What was this transaction for?",value:m.description,onChange:C=>N(_=>({..._,description:C.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Category"}),r.jsxs(ve,{value:m.category_name,onValueChange:C=>N(_=>({..._,category_name:C})),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select category"})}),r.jsx(pe,{children:x.map(C=>r.jsx(Q,{value:C,children:C},C))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"date",children:"Date"}),r.jsx(ue,{id:"date",type:"date",value:m.date,onChange:C=>N(_=>({..._,date:C.target.value}))})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),r.jsx(z,{onClick:H,children:"Add Transaction"})]})]})}),T&&r.jsx(Et,{open:T,onOpenChange:E,children:r.jsxs(ft,{children:[r.jsx(mt,{children:r.jsx(pt,{children:"Edit Transaction"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Transaction Type"}),r.jsxs(ve,{value:m.type,onValueChange:C=>N(_=>({..._,type:C})),children:[r.jsx(me,{children:r.jsx(we,{})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"income",children:"Income"}),r.jsx(Q,{value:"expense",children:"Expense"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"amount",children:"Amount"}),r.jsx(ue,{id:"amount",type:"number",step:"0.01",placeholder:"0.00",value:m.amount,onChange:C=>N(_=>({..._,amount:C.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"description",children:"Description"}),r.jsx(ue,{id:"description",placeholder:"What was this transaction for?",value:m.description,onChange:C=>N(_=>({..._,description:C.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Category"}),r.jsxs(ve,{value:m.category_name,onValueChange:C=>N(_=>({..._,category_name:C})),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select category"})}),r.jsx(pe,{children:x.map(C=>r.jsx(Q,{value:C,children:C},C))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"date",children:"Date"}),r.jsx(ue,{id:"date",type:"date",value:m.date,onChange:C=>N(_=>({..._,date:C.target.value}))})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>{E(!1),S(null)},children:"Cancel"}),r.jsx(z,{onClick:H,children:"Update Transaction"})]})]})})]})},Wu=h.forwardRef(({className:e,value:t=0,max:n=100,...s},a)=>{const i=Math.min(Math.max(t/n*100,0),100);return r.jsx("div",{ref:a,className:he("relative h-4 w-full overflow-hidden rounded-full bg-gray-200",e),...s,children:r.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-in-out",style:{width:`${i}%`}})})});Wu.displayName="Progress";const Pi=h.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:he("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Pi.displayName="Textarea";const VR=()=>{const{user:e}=Ee(),[t,n]=h.useState([]),[s,a]=h.useState(!0),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[f,g]=h.useState(!1),[p,b]=h.useState(null),[w,y]=h.useState(null),[x,v]=h.useState("all"),[m,N]=h.useState(!1),[k,S]=h.useState({title:"",description:"",target_amount:"",current_amount:"0",deadline:"",category:"",priority:"medium"}),[T,E]=h.useState(""),B=["Emergency Fund","Vacation","Car","House","Education","Investment","Debt Payoff","Retirement","Technology","Other"];h.useEffect(()=>{e&&U()},[e]);const U=async()=>{if(e!=null&&e.id)try{a(!0),o(null);const{data:j,error:O}=await te.from("financial_goals").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(O)throw O;const Y=(j||[]).map(ne=>({id:ne.id,title:ne.title,description:ne.description||"",target_amount:Number(ne.target_amount),current_amount:Number(ne.current_amount||0),deadline:ne.deadline,category:ne.category,priority:ne.priority,status:ne.status}));n(Y)}catch(j){console.error("Error loading goals:",j),o(j.message||"Failed to load financial goals")}finally{a(!1)}},H=()=>{S({title:"",description:"",target_amount:"",current_amount:"0",deadline:"",category:"",priority:"medium"})},R=async()=>{if(e!=null&&e.id)try{if(N(!0),o(null),!k.title.trim())throw new Error("Goal title is required");if(!k.target_amount||parseFloat(k.target_amount)<=0)throw new Error("Target amount must be greater than 0");if(!k.category)throw new Error("Category is required");const j={user_id:e.id,title:k.title.trim(),description:k.description.trim(),target_amount:parseFloat(k.target_amount),current_amount:parseFloat(k.current_amount)||0,deadline:k.deadline||null,category:k.category,priority:k.priority,status:"active"},{error:O}=await te.from("financial_goals").insert([j]);if(O)throw O;await U(),c(!1),H()}catch(j){console.error("Error creating goal:",j),o(j.message||"Failed to create goal")}finally{N(!1)}},P=j=>{b(j),S({title:j.title,description:j.description,target_amount:j.target_amount.toString(),current_amount:j.current_amount.toString(),deadline:j.deadline||"",category:j.category,priority:j.priority}),u(!0)},F=async()=>{if(!(!p||!(e!=null&&e.id)))try{if(N(!0),o(null),!k.title.trim())throw new Error("Goal title is required");if(!k.target_amount||parseFloat(k.target_amount)<=0)throw new Error("Target amount must be greater than 0");const j={title:k.title.trim(),description:k.description.trim(),target_amount:parseFloat(k.target_amount),current_amount:parseFloat(k.current_amount)||0,deadline:k.deadline||null,category:k.category,priority:k.priority},{error:O}=await te.from("financial_goals").update(j).eq("id",p.id);if(O)throw O;await U(),u(!1),b(null),H()}catch(j){console.error("Error updating goal:",j),o(j.message||"Failed to update goal")}finally{N(!1)}},M=async j=>{if(window.confirm("Are you sure you want to delete this goal? This action cannot be undone."))try{o(null);const{error:O}=await te.from("financial_goals").delete().eq("id",j);if(O)throw O;await U()}catch(O){console.error("Error deleting goal:",O),o(O.message||"Failed to delete goal")}},$=j=>{y(j),E(""),g(!0)},D=async()=>{if(!(!w||!T))try{N(!0),o(null);const j=parseFloat(T);if(isNaN(j)||j<=0)throw new Error("Please enter a valid amount");const O=w.current_amount+j,{error:Y}=await te.from("financial_goals").update({current_amount:O}).eq("id",w.id);if(Y)throw Y;await U(),g(!1),y(null),E("")}catch(j){console.error("Error adding money:",j),o(j.message||"Failed to add money to goal")}finally{N(!1)}},A=async j=>{try{o(null);const{error:O}=await te.from("financial_goals").update({status:"completed"}).eq("id",j);if(O)throw O;await U()}catch(O){console.error("Error marking goal complete:",O),o(O.message||"Failed to mark goal as complete")}},C=x==="all"?t:t.filter(j=>j.category===x),_=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),L=j=>j?new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No deadline",I=j=>Math.min(j.current_amount/j.target_amount*100,100),W=j=>{if(!j)return null;const O=new Date,ne=new Date(j).getTime()-O.getTime();return Math.ceil(ne/(1e3*60*60*24))},G=j=>{switch(j){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Z=j=>{switch(j){case"completed":return"bg-green-100 text-green-800 border-green-200";case"active":return"bg-blue-100 text-blue-800 border-blue-200";case"paused":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ce=t.filter(j=>j.status==="active"),V=t.filter(j=>j.status==="completed"),ee=ce.reduce((j,O)=>j+O.target_amount,0),de=ce.reduce((j,O)=>j+O.current_amount,0);return s?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((j,O)=>r.jsx("div",{className:"h-48 bg-gray-200 rounded"},O))})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Financial Goals"}),r.jsx("p",{className:"text-gray-600",children:"Track your savings and financial milestones"})]}),r.jsxs(z,{onClick:()=>c(!0),children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Goal"]})]}),i&&r.jsx(ze,{className:"border-red-200 bg-red-50",children:r.jsx(Be,{className:"text-red-800",children:i})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Active Goals"}),r.jsx(hn,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold",children:ce.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Goals in progress"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Completed Goals"}),r.jsx(kt,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:V.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Goals achieved"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Total Target"}),r.jsx(Pt,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_(ee)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined goal amount"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Total Progress"}),r.jsx(mn,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(K,{children:[r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[ee>0?Math.round(de/ee*100):0,"%"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[_(de)," saved"]})]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Filter Goals"}),r.jsx(Ne,{children:"View goals by category"})]}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(se,{children:"Category:"}),r.jsxs(ve,{value:x,onValueChange:v,children:[r.jsx(me,{className:"w-48",children:r.jsx(we,{placeholder:"All categories"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Categories"}),B.map(j=>r.jsx(Q,{value:j,children:j},j))]})]}),r.jsx(z,{variant:"outline",onClick:()=>v("all"),children:"Clear Filter"})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.length===0?r.jsx("div",{className:"col-span-full",children:r.jsx(q,{children:r.jsxs(K,{className:"text-center py-12",children:[r.jsx(hn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"No financial goals yet":"No goals match your filter"}),r.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Set your first financial goal to start tracking your progress":"Try selecting a different category or clear the filter"}),r.jsxs(z,{onClick:()=>c(!0),children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Create Your First Goal"]})]})})}):C.map(j=>{const O=I(j),Y=W(j.deadline);return r.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs(ie,{children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(oe,{className:"text-lg",children:j.title}),j.description&&r.jsx(Ne,{className:"mt-1",children:j.description})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>P(j),children:r.jsx(Dn,{className:"h-4 w-4"})}),r.jsx(z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",onClick:()=>M(j.id),children:r.jsx(uy,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[r.jsx(fe,{variant:"outline",children:j.category}),r.jsxs(fe,{className:G(j.priority),children:[j.priority," priority"]}),r.jsx(fe,{className:Z(j.status),children:j.status})]})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:"Progress"}),r.jsxs("span",{className:"text-gray-600",children:[Math.round(O),"%"]})]}),r.jsx(Wu,{value:O,className:"h-2"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:_(j.current_amount)}),r.jsxs("p",{className:"text-sm text-gray-500",children:["of ",_(j.target_amount)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-600",children:_(j.target_amount-j.current_amount)}),r.jsx("p",{className:"text-sm text-gray-500",children:"remaining"})]})]}),j.deadline&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Ft,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-600",children:["Due ",L(j.deadline)]}),Y!==null&&Y>=0&&r.jsxs("span",{className:`font-medium ${Y<=30?"text-red-600":Y<=90?"text-yellow-600":"text-green-600"}`,children:["(",Y," days left)"]}),Y!==null&&Y<0&&r.jsxs("span",{className:"font-medium text-red-600",children:["(Overdue by ",Math.abs(Y)," days)"]})]}),r.jsxs("div",{className:"flex space-x-2 pt-2",children:[j.status==="active"&&O<100&&r.jsxs(z,{size:"sm",className:"flex-1",onClick:()=>$(j),children:[r.jsx(YC,{className:"h-4 w-4 mr-2"}),"Add Money"]}),O>=100&&j.status==="active"&&r.jsxs(z,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>A(j.id),children:[r.jsx(kt,{className:"h-4 w-4 mr-2"}),"Mark Complete"]})]})]})]},j.id)})}),r.jsx(Et,{open:l,onOpenChange:c,children:r.jsxs(ft,{className:"max-w-lg",children:[r.jsx(mt,{children:r.jsx(pt,{children:"Create New Financial Goal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"title",children:"Goal Title *"}),r.jsx(ue,{id:"title",value:k.title,onChange:j=>S(O=>({...O,title:j.target.value})),placeholder:"e.g., Emergency Fund, Vacation, New Car"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"description",children:"Description"}),r.jsx(Pi,{id:"description",value:k.description,onChange:j=>S(O=>({...O,description:j.target.value})),placeholder:"Brief description of your goal",rows:2})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"target",children:"Target Amount *"}),r.jsx(ue,{id:"target",type:"number",step:"0.01",value:k.target_amount,onChange:j=>S(O=>({...O,target_amount:j.target.value})),placeholder:"0.00"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"current",children:"Current Amount"}),r.jsx(ue,{id:"current",type:"number",step:"0.01",value:k.current_amount,onChange:j=>S(O=>({...O,current_amount:j.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Category *"}),r.jsxs(ve,{value:k.category,onValueChange:j=>S(O=>({...O,category:j})),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select category"})}),r.jsx(pe,{children:B.map(j=>r.jsx(Q,{value:j,children:j},j))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Priority"}),r.jsxs(ve,{value:k.priority,onValueChange:j=>S(O=>({...O,priority:j})),children:[r.jsx(me,{children:r.jsx(we,{})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"low",children:"Low Priority"}),r.jsx(Q,{value:"medium",children:"Medium Priority"}),r.jsx(Q,{value:"high",children:"High Priority"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"deadline",children:"Target Date"}),r.jsx(ue,{id:"deadline",type:"date",value:k.deadline,onChange:j=>S(O=>({...O,deadline:j.target.value}))})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>{c(!1),H()},children:"Cancel"}),r.jsx(z,{onClick:R,disabled:m,children:m?"Creating...":"Create Goal"})]})]})}),r.jsx(Et,{open:d,onOpenChange:u,children:r.jsxs(ft,{className:"max-w-lg",children:[r.jsx(mt,{children:r.jsx(pt,{children:"Edit Financial Goal"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"edit-title",children:"Goal Title *"}),r.jsx(ue,{id:"edit-title",value:k.title,onChange:j=>S(O=>({...O,title:j.target.value})),placeholder:"e.g., Emergency Fund, Vacation, New Car"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"edit-description",children:"Description"}),r.jsx(Pi,{id:"edit-description",value:k.description,onChange:j=>S(O=>({...O,description:j.target.value})),placeholder:"Brief description of your goal",rows:2})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"edit-target",children:"Target Amount *"}),r.jsx(ue,{id:"edit-target",type:"number",step:"0.01",value:k.target_amount,onChange:j=>S(O=>({...O,target_amount:j.target.value})),placeholder:"0.00"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"edit-current",children:"Current Amount"}),r.jsx(ue,{id:"edit-current",type:"number",step:"0.01",value:k.current_amount,onChange:j=>S(O=>({...O,current_amount:j.target.value})),placeholder:"0.00"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Category *"}),r.jsxs(ve,{value:k.category,onValueChange:j=>S(O=>({...O,category:j})),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select category"})}),r.jsx(pe,{children:B.map(j=>r.jsx(Q,{value:j,children:j},j))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Priority"}),r.jsxs(ve,{value:k.priority,onValueChange:j=>S(O=>({...O,priority:j})),children:[r.jsx(me,{children:r.jsx(we,{})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"low",children:"Low Priority"}),r.jsx(Q,{value:"medium",children:"Medium Priority"}),r.jsx(Q,{value:"high",children:"High Priority"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"edit-deadline",children:"Target Date"}),r.jsx(ue,{id:"edit-deadline",type:"date",value:k.deadline,onChange:j=>S(O=>({...O,deadline:j.target.value}))})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>{u(!1),b(null),H()},children:"Cancel"}),r.jsx(z,{onClick:F,disabled:m,children:m?"Updating...":"Update Goal"})]})]})}),r.jsx(Et,{open:f,onOpenChange:g,children:r.jsxs(ft,{className:"max-w-md",children:[r.jsx(mt,{children:r.jsx(pt,{children:"Add Money to Goal"})}),w&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center py-4",children:[r.jsx("h3",{className:"text-lg font-medium",children:w.title}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Current: ",_(w.current_amount)," of ",_(w.target_amount)]}),r.jsx(Wu,{value:I(w),className:"h-2 mt-3"})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"add-amount",children:"Amount to Add"}),r.jsx(ue,{id:"add-amount",type:"number",step:"0.01",value:T,onChange:j=>E(j.target.value),placeholder:"0.00",autoFocus:!0})]})}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>{g(!1),y(null)},children:"Cancel"}),r.jsx(z,{onClick:D,disabled:m||!T,children:m?"Adding...":"Add Money"})]})]})]})})]})};var hc="Tabs",[WR,DA]=Mn(hc,[oc]),yj=oc(),[GR,Ef]=WR(hc),wj=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Kl(l),[f,g]=cs({prop:s,onChange:a,defaultProp:i??"",caller:hc});return r.jsx(GR,{scope:n,baseId:kn(),value:f,onValueChange:g,orientation:o,dir:u,activationMode:c,children:r.jsx(ge.div,{dir:u,"data-orientation":o,...d,ref:t})})});wj.displayName=hc;var jj="TabsList",Nj=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=Ef(jj,n),o=yj(n);return r.jsx(tw,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Nj.displayName=jj;var bj="TabsTrigger",_j=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,o=Ef(bj,n),l=yj(n),c=kj(o.baseId,s),d=Ej(o.baseId,s),u=s===o.value;return r.jsx(nw,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(ge.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:le(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:le(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:le(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});_j.displayName=bj;var Sj="TabsContent",Cj=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=e,l=Ef(Sj,n),c=kj(l.baseId,s),d=Ej(l.baseId,s),u=s===l.value,f=h.useRef(u);return h.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),r.jsx(Xn,{present:a||u,children:({present:g})=>r.jsx(ge.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});Cj.displayName=Sj;function kj(e,t){return`${e}-trigger-${t}`}function Ej(e,t){return`${e}-content-${t}`}var HR=wj,Tj=Nj,Pj=_j,Rj=Cj;const Tf=HR,fc=h.forwardRef(({className:e,...t},n)=>r.jsx(Tj,{ref:n,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fc.displayName=Tj.displayName;const ln=h.forwardRef(({className:e,...t},n)=>r.jsx(Pj,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ln.displayName=Pj.displayName;const cn=h.forwardRef(({className:e,...t},n)=>r.jsx(Rj,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cn.displayName=Rj.displayName;const qR=()=>{var T,E,B,U,H;const{user:e}=Ee(),[t,n]=h.useState(!0),[s,a]=h.useState(null),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState([]),[f,g]=h.useState([]),[p,b]=h.useState(0),[w,y]=h.useState(0);h.useEffect(()=>{e&&x()},[e]);const x=async()=>{if(e!=null&&e.id)try{n(!0),a(null);const R=new Date;R.setMonth(R.getMonth()-6);const P=R.toISOString().split("T")[0],[F,M]=await Promise.all([te.from("transactions").select("*").eq("user_id",e.id).gte("date",P).order("date",{ascending:!1}),te.from("financial_goals").select("*").eq("user_id",e.id).order("created_at",{ascending:!1})]);if(F.error)throw F.error;if(M.error)throw M.error;const $=F.data||[],D=M.data||[];v($),m(D)}catch(R){console.error("Error loading analytics:",R),a(R.message||"Failed to load analytics data")}finally{n(!1)}},v=R=>{var W;if(R.length===0){o([]),c([]),g([]),b(0),y(0);return}b(R.length);const P=R.filter(G=>G.type==="expense"),F={};P.forEach(G=>{const Z=G.category_name||"Uncategorized";F[Z]||(F[Z]={amount:0,count:0}),F[Z].amount+=Math.abs(G.amount),F[Z].count+=1});const M=Object.values(F).reduce((G,Z)=>G+Z.amount,0),$=Object.entries(F).map(([G,Z])=>({category:G,amount:Z.amount,count:Z.count,percentage:M>0?Z.amount/M*100:0})).sort((G,Z)=>Z.amount-G.amount);o($);const D={};R.forEach(G=>{const Z=new Date(G.date),ce=`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}`;D[ce]||(D[ce]={income:0,expenses:0}),G.type==="income"?D[ce].income+=G.amount:D[ce].expenses+=Math.abs(G.amount)});const A=Object.entries(D).map(([G,Z])=>({month:new Date(G+"-01").toLocaleDateString("en-US",{month:"short",year:"numeric"}),income:Z.income,expenses:Z.expenses,net:Z.income-Z.expenses})).sort((G,Z)=>G.month.localeCompare(Z.month));c(A);const C=new Date,_=[];for(let G=3;G>=0;G--){const Z=new Date(C);Z.setDate(C.getDate()-(G*7+6));const ce=new Date(C);ce.setDate(C.getDate()-G*7);const V=P.filter(ee=>{const de=new Date(ee.date);return de>=Z&&de<=ce}).reduce((ee,de)=>ee+Math.abs(de.amount),0);_.push({period:`Week ${4-G}`,amount:V,change:G===3?0:V-(((W=_[_.length-1])==null?void 0:W.amount)||0)})}g(_);const L=new Date;L.setDate(L.getDate()-30);const I=P.filter(G=>new Date(G.date)>=L).reduce((G,Z)=>G+Math.abs(Z.amount),0);y(I/30)},m=R=>{const P=R.map(F=>({id:F.id,title:F.title,category:F.category,target_amount:F.target_amount,current_amount:F.current_amount,progress_percentage:F.target_amount>0?F.current_amount/F.target_amount*100:0,status:F.status,deadline:F.deadline}));u(P)},N=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R),k=R=>R>0?"text-red-600":R<0?"text-green-600":"text-gray-600",S=R=>R>0?r.jsx(mn,{className:"h-3 w-3"}):R<0?r.jsx(os,{className:"h-3 w-3"}):r.jsx(MC,{className:"h-3 w-3"});return t?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((R,P)=>r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})})},P))})}):s?r.jsxs(ze,{children:[r.jsx(Er,{className:"h-4 w-4"}),r.jsxs(Be,{children:["Error loading analytics: ",s]})]}):p===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Tn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start adding transactions to see your financial analytics and insights."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Transactions"}),r.jsx("p",{className:"text-2xl font-bold",children:p})]}),r.jsx(Tn,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Daily Spending"}),r.jsx("p",{className:"text-2xl font-bold",children:N(w)})]}),r.jsx(Pt,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Goals"}),r.jsx("p",{className:"text-2xl font-bold",children:d.filter(R=>R.status==="active").length})]}),r.jsx(hn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),r.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),r.jsx(ql,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsxs(Tf,{defaultValue:"spending",className:"space-y-6",children:[r.jsxs(fc,{className:"grid grid-cols-4 w-full",children:[r.jsx(ln,{value:"spending",children:"Spending Analysis"}),r.jsx(ln,{value:"trends",children:"Monthly Trends"}),r.jsx(ln,{value:"goals",children:"Goal Progress"}),r.jsx(ln,{value:"patterns",children:"Spending Patterns"})]}),r.jsx(cn,{value:"spending",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Spending by Category"}),r.jsx(Ne,{children:"Where your money goes"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:i.slice(0,6).map((R,P)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium",children:R.category}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-semibold",children:N(R.amount)}),r.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",R.count," transactions)"]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${R.percentage}%`}})}),r.jsxs("div",{className:"text-xs text-gray-500",children:[R.percentage.toFixed(1),"% of total spending"]})]},R.category))})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Recent Spending Trends"}),r.jsx(Ne,{children:"Last 4 weeks comparison"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:f.map((R,P)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:R.period}),r.jsx("p",{className:"text-2xl font-bold",children:N(R.amount)})]}),P>0&&r.jsxs("div",{className:`flex items-center ${k(R.change)}`,children:[S(R.change),r.jsx("span",{className:"ml-1 text-sm font-medium",children:Math.abs(R.change)>0?N(Math.abs(R.change)):"No change"})]})]},R.period))})})]})]})}),r.jsx(cn,{value:"trends",className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Income vs Expenses Trend"}),r.jsx(Ne,{children:"Monthly financial overview for the last 6 months"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-6",children:l.map(R=>r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:R.month}),r.jsxs(fe,{variant:R.net>=0?"default":"destructive",children:["Net: ",N(R.net)]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Income"}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:N(R.income)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Math.max(R.income,R.expenses)>0?R.income/Math.max(R.income,R.expenses)*100:0}%`}})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Expenses"}),r.jsx("span",{className:"text-sm font-medium text-red-600",children:N(R.expenses)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-red-600 h-2 rounded-full",style:{width:`${Math.max(R.income,R.expenses)>0?R.expenses/Math.max(R.income,R.expenses)*100:0}%`}})})]})]})]},R.month))})})]})}),r.jsx(cn,{value:"goals",className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.length===0?r.jsxs("div",{className:"col-span-2 text-center py-12",children:[r.jsx(hn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Goals Set"}),r.jsx("p",{className:"text-gray-600",children:"Create financial goals to track your progress here."})]}):d.map(R=>r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx(oe,{className:"text-lg",children:R.title}),r.jsx(Ne,{children:R.category})]}),r.jsx(fe,{variant:R.status==="active"?"default":"secondary",children:R.status})]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{className:"font-medium",children:[N(R.current_amount)," / ",N(R.target_amount)]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${R.progress_percentage>=100?"bg-green-600":"bg-blue-600"}`,style:{width:`${Math.min(R.progress_percentage,100)}%`}})}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:[R.progress_percentage.toFixed(1),"% complete"]}),R.deadline&&r.jsxs("span",{className:"text-gray-600",children:["Due: ",new Date(R.deadline).toLocaleDateString()]})]})]})})]},R.id))})}),r.jsx(cn,{value:"patterns",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Top Spending Categories"}),r.jsx(Ne,{children:"Your biggest expense categories"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:i.slice(0,5).map((R,P)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ${["bg-blue-600","bg-red-600","bg-green-600","bg-yellow-600","bg-purple-600"][P]}`,children:P+1}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:R.category}),r.jsxs("p",{className:"text-sm text-gray-600",children:[R.count," transactions"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold",children:N(R.amount)}),r.jsxs("p",{className:"text-sm text-gray-600",children:[R.percentage.toFixed(1),"%"]})]})]},R.category))})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Financial Health Insights"}),r.jsx(Ne,{children:"Key metrics about your financial habits"})]}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Savings Rate"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[l.length>0?((((T=l[l.length-1])==null?void 0:T.net)||0)/Math.max(((E=l[l.length-1])==null?void 0:E.income)||1,1)*100).toFixed(1):0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${l.length>0?Math.min((((B=l[l.length-1])==null?void 0:B.net)||0)/Math.max(((U=l[l.length-1])==null?void 0:U.income)||1,1)*100,100):0}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Goal Completion Rate"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[d.length>0?(d.filter(R=>R.status==="completed").length/d.length*100).toFixed(1):0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${d.length>0?d.filter(R=>R.status==="completed").length/d.length*100:0}%`}})})]}),r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Quick Stats"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Largest Category"}),r.jsx("p",{className:"font-medium",children:((H=i[0])==null?void 0:H.category)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Most Active Month"}),r.jsx("p",{className:"font-medium",children:l.reduce((R,P)=>P.income+P.expenses>R.income+R.expenses?P:R,l[0]||{month:"N/A",income:0,expenses:0,net:0}).month})]})]})]})]})})]})]})})]})]})},KR=()=>{const{user:e,refreshUserData:t}=Ee(),[n,s]=h.useState(!0),[a,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(null),[u,f]=h.useState(!1),[g,p]=h.useState(!1),[b,w]=h.useState(!1),y=h.useRef(null),[x,v]=h.useState({email:"",firstName:"",lastName:"",phone:"",address:"",avatarUrl:"",browserNotifications:!0}),[m,N]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""});h.useEffect(()=>{e!=null&&e.id?k():e===null&&(s(!1),l("User not authenticated"))},[e]);const k=async()=>{try{if(s(!0),l(null),!(e!=null&&e.id)){l("User not authenticated");return}const{data:R,error:P}=await te.from("users").select("*").eq("id",e.id).single();P&&P.code!=="PGRST116"&&console.error("Error fetching user data:",P);const F=(R==null?void 0:R.metadata)||(e==null?void 0:e.metadata)||{};v({email:(e==null?void 0:e.email)||"",firstName:F.firstName||"",lastName:F.lastName||"",phone:F.phone||"",address:F.address||"",avatarUrl:F.avatarUrl||"",browserNotifications:F.browserNotifications??!0})}catch(R){console.error("Error loading user settings:",R),l("Failed to load user settings");const P=(e==null?void 0:e.metadata)||{};v({email:(e==null?void 0:e.email)||"",firstName:P.firstName||"",lastName:P.lastName||"",phone:P.phone||"",address:P.address||"",avatarUrl:P.avatarUrl||"",browserNotifications:!0})}finally{s(!1)}},S=(R,P)=>{v(F=>({...F,[R]:P}))},T=(R,P)=>{N(F=>({...F,[R]:P}))},E=async()=>{if(e!=null&&e.id)try{i(!0),l(null),d(null);const R={firstName:x.firstName,lastName:x.lastName,phone:x.phone,address:x.address,avatarUrl:x.avatarUrl,browserNotifications:x.browserNotifications},{error:P}=await te.from("users").update({metadata:R,updated_at:new Date().toISOString()}).eq("id",e.id);if(P)throw P;try{const{error:F}=await te.auth.updateUser({data:R});F?console.warn("⚠️ Failed to update auth metadata:",F):console.log("✅ Auth metadata updated successfully")}catch(F){console.warn("⚠️ Auth metadata update failed:",F)}d("Settings saved successfully!"),f(!1),t&&await t(),setTimeout(()=>{k()},500)}catch(R){console.error("Error saving settings:",R),l("Failed to save settings: "+R.message)}finally{i(!1)}},B=async R=>{if(e!=null&&e.id)try{if(R.size>5242880){l("Avatar file size must be less than 5MB");return}if(!["image/jpeg","image/png","image/gif","image/webp"].includes(R.type)){l("Please upload a valid image file (JPEG, PNG, GIF, or WebP)");return}p(!0),l(null);const M=R.name.split(".").pop(),$=`${e.id}/avatar.${M}`,{data:D,error:A}=await te.storage.from("avatars").upload($,R,{upsert:!0});if(A){console.warn("Supabase storage upload failed:",A);const C=URL.createObjectURL(R);v(I=>({...I,avatarUrl:C}));const _={firstName:x.firstName,lastName:x.lastName,phone:x.phone,address:x.address,avatarUrl:C,avatarFallback:!0},{error:L}=await te.from("users").update({metadata:_,updated_at:new Date().toISOString()}).eq("id",e.id);try{await te.auth.updateUser({data:_}),console.log("✅ Avatar saved to auth metadata as backup")}catch(I){console.warn("⚠️ Failed to save avatar to auth metadata:",I)}L?(console.warn("Failed to save avatar to metadata:",L),d("Avatar preview updated! (Create avatars bucket for persistent storage)")):(d("Avatar uploaded successfully! (Using local storage until bucket is created)"),t&&await t())}else{console.log("Avatar uploaded successfully:",D);const{data:C}=te.storage.from("avatars").getPublicUrl($);v(I=>({...I,avatarUrl:C.publicUrl}));const _={firstName:x.firstName,lastName:x.lastName,phone:x.phone,address:x.address,avatarUrl:C.publicUrl},{error:L}=await te.from("users").update({metadata:_,updated_at:new Date().toISOString()}).eq("id",e.id);try{await te.auth.updateUser({data:_}),console.log("✅ Avatar saved to auth metadata as backup")}catch(I){console.warn("⚠️ Failed to save avatar to auth metadata:",I)}L?l("Avatar uploaded but failed to save to profile"):(d("Avatar uploaded successfully!"),t&&await t())}}catch(P){console.error("Avatar upload error:",P),l("Failed to upload avatar")}finally{p(!1)}},U=R=>{var F;const P=(F=R.target.files)==null?void 0:F[0];P&&B(P)},H=async()=>{if(!m.newPassword||!m.confirmPassword){l("Please fill in all password fields");return}if(m.newPassword!==m.confirmPassword){l("New passwords do not match");return}if(m.newPassword.length<6){l("Password must be at least 6 characters long");return}try{i(!0),l(null);const{error:R}=await te.auth.updateUser({password:m.newPassword});if(R)throw R;d("Password changed successfully!"),w(!1),N({currentPassword:"",newPassword:"",confirmPassword:""})}catch(R){l("Failed to change password: "+R.message)}finally{i(!1)}};return n?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((R,P)=>r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),r.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})},P))})}):r.jsxs("div",{className:"space-y-6",children:[o&&r.jsx(ze,{variant:"destructive",children:r.jsx(Be,{children:o})}),c&&r.jsxs(ze,{children:[r.jsx(Gl,{className:"h-4 w-4"}),r.jsx(Be,{children:c})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{className:"flex items-center",children:[r.jsx(la,{className:"h-5 w-5 mr-2"}),"Profile Information"]}),r.jsx(Ne,{children:"Manage your personal information and profile picture"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(ky,{size:"lg",showName:!1}),r.jsx("p",{className:"text-sm text-gray-600",children:"Profile Picture"})]}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:U,className:"hidden"}),r.jsxs(z,{onClick:()=>{var R;return(R=y.current)==null?void 0:R.click()},variant:"outline",size:"sm",disabled:g,children:[r.jsx(FC,{className:"h-4 w-4 mr-2"}),g?"Uploading...":"Change Picture"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, GIF or WebP. Max 5MB."})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(se,{htmlFor:"firstName",children:"First Name"}),r.jsx(ue,{id:"firstName",value:x.firstName,onChange:R=>S("firstName",R.target.value),disabled:!u})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"lastName",children:"Last Name"}),r.jsx(ue,{id:"lastName",value:x.lastName,onChange:R=>S("lastName",R.target.value),disabled:!u})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"email",children:"Email"}),r.jsx(ue,{id:"email",value:x.email,disabled:!0,className:"bg-gray-50"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"phone",children:"Phone"}),r.jsx(ue,{id:"phone",value:x.phone,onChange:R=>S("phone",R.target.value),disabled:!u})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(se,{htmlFor:"address",children:"Address"}),r.jsx(ue,{id:"address",value:x.address,onChange:R=>S("address",R.target.value),disabled:!u})]})]}),r.jsx("div",{className:"flex justify-between",children:r.jsx("div",{className:"space-x-2",children:u?r.jsxs(r.Fragment,{children:[r.jsx(z,{onClick:E,disabled:a,children:a?"Saving...":"Save Changes"}),r.jsx(z,{variant:"outline",onClick:()=>{f(!1),k()},children:"Cancel"})]}):r.jsx(z,{onClick:()=>f(!0),children:"Edit Profile"})})})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{className:"flex items-center",children:[r.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Security"]}),r.jsx(Ne,{children:"Manage your account security and password"})]}),r.jsx(K,{className:"space-y-4",children:b?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(se,{htmlFor:"newPassword",children:"New Password"}),r.jsx(ue,{id:"newPassword",type:"password",value:m.newPassword,onChange:R=>T("newPassword",R.target.value)})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"confirmPassword",children:"Confirm New Password"}),r.jsx(ue,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:R=>T("confirmPassword",R.target.value)})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(z,{onClick:H,disabled:a,children:a?"Changing...":"Change Password"}),r.jsx(z,{variant:"outline",onClick:()=>{w(!1),N({currentPassword:"",newPassword:"",confirmPassword:""})},children:"Cancel"})]})]}):r.jsx(z,{variant:"outline",onClick:()=>w(!0),children:"Change Password"})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{className:"flex items-center",children:[r.jsx(IC,{className:"h-5 w-5 mr-2"}),"Notifications"]}),r.jsx(Ne,{children:"Configure your notification preferences"})]}),r.jsx(K,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Browser Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in your browser"})]}),r.jsx(z,{variant:"outline",size:"sm",onClick:()=>S("browserNotifications",!x.browserNotifications),children:x.browserNotifications?"Enabled":"Disabled"})]})})]})]})},YR=()=>{const{user:e}=Ee(),[t,n]=h.useState([]),[s,a]=h.useState(!0),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState(0),[f,g]=h.useState(!1),p=h.useRef(null),b=["All Documents","Receipts","Bank Statements","Invoices","Tax Documents","Templates"],w=b.filter(_=>_!=="All Documents"),[y,x]=h.useState("All Documents"),[v,m]=h.useState("Receipts"),[N,k]=h.useState(null);h.useEffect(()=>{e!=null&&e.id?S():e===null&&(a(!1),o("User not authenticated"))},[e]);const S=async()=>{try{if(a(!0),o(null),!(e!=null&&e.id)){n([]);return}const{data:_,error:L}=await te.from("documents").select("*").eq("business_id",e.id).order("created_at",{ascending:!1});if(L){console.error("Error fetching documents:",L),n([{id:"1",name:"Q1_2024_Receipts.pdf",type:"PDF",size:"2.4 MB",uploadDate:"2024-01-15",category:"Receipts"},{id:"2",name:"Bank_Statement_Jan.pdf",type:"PDF",size:"1.2 MB",uploadDate:"2024-01-20",category:"Bank Statements"},{id:"3",name:"Invoice_Template.docx",type:"DOCX",size:"0.8 MB",uploadDate:"2024-01-10",category:"Templates"},{id:"4",name:"Tax_Return_2023.pdf",type:"PDF",size:"3.1 MB",uploadDate:"2024-01-05",category:"Tax Documents"},{id:"5",name:"Contract_Template.docx",type:"DOCX",size:"1.5 MB",uploadDate:"2024-01-12",category:"Templates"}]);return}const I=(_||[]).map(W=>{var G;return{id:W.id,name:W.filename,type:W.file_type||"PDF",size:T(W.file_size||0),uploadDate:((G=W.created_at)==null?void 0:G.split("T")[0])||new Date().toISOString().split("T")[0],category:W.category||"Other"}});n(I)}catch(_){console.error("Error loading documents:",_),o("Failed to load documents")}finally{a(!1)}},T=_=>{if(_===0)return"0 Bytes";const L=1024,I=["Bytes","KB","MB","GB"],W=Math.floor(Math.log(_)/Math.log(L));return parseFloat((_/Math.pow(L,W)).toFixed(1))+" "+I[W]},E=_=>{var I;switch((I=_.split(".").pop())==null?void 0:I.toLowerCase()){case"pdf":return"PDF";case"doc":case"docx":return"DOCX";case"xls":case"xlsx":return"XLS";case"jpg":case"jpeg":case"png":return"IMAGE";default:return"OTHER"}},B=async _=>{try{if(!(e!=null&&e.id)){o("User not authenticated");return}if(l){console.warn("Upload already in progress, ignoring new upload request");return}const L=Array.from(_);if(L.length===0)return;for(const I of L){if(I.size>10*1024*1024){o(`File ${I.name} is too large. Maximum size is 10MB.`);return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/jpeg","image/png","image/jpg"].includes(I.type)){o(`File ${I.name} has an unsupported format. Please use PDF, DOC, XLS, JPG, or PNG.`);return}}c(!0),u(0),o(null);try{for(let I=0;I<L.length;I++){const W=L[I],G=W.name.split(".").pop(),Z=`${e.id}/${Date.now()}_${W.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`;let ce=!1;try{const{data:V,error:ee}=await te.storage.from("documents").upload(Z,W);if(ee)throw console.warn("Supabase Storage upload failed:",ee.message),new Error(ee.message);ce=!0,console.log("File uploaded successfully to Supabase Storage:",Z)}catch(V){console.warn("Storage upload failed, using demo mode:",V);const ee={id:`demo_${Date.now()}_${I}`,name:W.name,type:E(W.name),size:T(W.size),uploadDate:new Date().toISOString().split("T")[0],category:v};n(de=>[ee,...de]),u(Math.round((I+1)/L.length*100));continue}if(ce)try{const V={business_id:e.id,filename:W.name,file_path:Z,file_size:W.size,file_type:E(W.name),category:v,uploaded_by:e.id},{error:ee}=await te.from("documents").insert(V);if(ee){console.warn("Database save failed, but file was uploaded to storage:",ee);const de={id:`storage_${Date.now()}_${I}`,name:W.name,type:E(W.name),size:T(W.size),uploadDate:new Date().toISOString().split("T")[0],category:v};n(j=>[de,...j])}else console.log("Document metadata saved to database successfully")}catch(V){console.warn("Database operation failed:",V);const ee={id:`storage_${Date.now()}_${I}`,name:W.name,type:E(W.name),size:T(W.size),uploadDate:new Date().toISOString().split("T")[0],category:v};n(de=>[ee,...de])}u(Math.round((I+1)/L.length*100))}try{await S()}catch(I){console.warn("Failed to refresh documents list:",I)}p.current&&(p.current.value="")}catch(I){console.error("Upload error:",I),o(I.message||"Failed to upload files")}finally{c(!1),u(0)}}catch(L){console.error("Outer upload error:",L),o("An unexpected error occurred during upload"),c(!1),u(0)}},U=_=>{_.preventDefault(),_.stopPropagation(),l||g(!0)},H=_=>{_.preventDefault(),_.stopPropagation(),g(!1)},R=_=>{_.preventDefault(),_.stopPropagation(),_.dataTransfer.dropEffect="copy"},P=_=>{_.preventDefault(),_.stopPropagation(),g(!1),!l&&_.dataTransfer.files&&_.dataTransfer.files.length>0&&B(_.dataTransfer.files)},F=_=>{_.preventDefault(),_.target.files&&_.target.files.length>0&&B(_.target.files)},M=_=>{var L;_&&(_.preventDefault(),_.stopPropagation()),(L=p.current)==null||L.click()},$=async _=>{if(confirm("Are you sure you want to delete this document?"))try{if(!t.find(W=>W.id===_))return;const{error:I}=await te.from("documents").delete().eq("id",_);if(I){console.warn("Database delete failed, removing from local state:",I),n(W=>W.filter(G=>G.id!==_));return}await S()}catch(L){console.error("Delete error:",L),n(I=>I.filter(W=>W.id!==_))}},D=async(_,L)=>{try{const{error:I}=await te.from("documents").update({category:L}).eq("id",_);if(I){console.warn("Database update failed, updating local state:",I),n(W=>W.map(G=>G.id===_?{...G,category:L}:G)),k(null);return}await S(),k(null),o(null)}catch(I){console.error("Update error:",I),n(W=>W.map(G=>G.id===_?{...G,category:L}:G)),k(null),o(null)}},A=y==="All Documents"?t:t.filter(_=>_.category===y),C=_=>r.jsx(Np,{className:"h-5 w-5 text-blue-600"});return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg text-gray-600 mb-2",children:"Loading documents..."}),r.jsx("div",{className:"text-sm text-gray-500",children:"Fetching your uploaded files"})]})}):r.jsxs("div",{className:"space-y-6",children:[i&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:r.jsx(Su,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Document Management"}),r.jsx("p",{className:"text-gray-600",children:"Upload, organize, and manage your business documents"})]})]}),r.jsxs(z,{type:"button",className:"bg-green-600 hover:bg-green-700",onClick:_=>{_.preventDefault(),_.stopPropagation(),l||M(_)},disabled:l,children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),l?"Uploading...":"Upload Document"]})]})}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Quick Upload"}),r.jsx(Ne,{children:"Drag and drop files here or click to browse"})]}),r.jsxs(K,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Category"}),r.jsxs(ve,{value:v,onValueChange:m,children:[r.jsx(me,{className:"w-48",children:r.jsx(we,{placeholder:"Select category"})}),r.jsx(pe,{children:w.map(_=>r.jsx(Q,{value:_,children:_},_))})]})]}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${f?"border-green-500 bg-green-50":l?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-green-400"}`,onDragEnter:U,onDragLeave:H,onDragOver:R,onDrop:P,onClick:_=>{_.preventDefault(),_.stopPropagation(),l||M(_)},children:[r.jsx(Su,{className:`h-12 w-12 mx-auto mb-4 ${f?"text-green-500":l?"text-blue-500":"text-gray-400"}`}),l?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-blue-600 mb-2",children:["Uploading to ",v,"..."]}),r.jsx("div",{className:"w-full max-w-xs mx-auto bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${d}%`}})}),r.jsxs("p",{className:"text-sm text-blue-500",children:[d,"% complete"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-gray-600 mb-2",children:f?"Drop files here to upload":"Drop files here or click to upload"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Supports PDF, DOC, XLS, JPG, PNG (Max 10MB)"}),r.jsx(z,{type:"button",variant:"outline",className:"mt-4",disabled:l,onClick:_=>{_.preventDefault(),_.stopPropagation(),l||M(_)},children:"Choose Files"})]})]}),r.jsx("input",{ref:p,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png",onChange:F,className:"hidden",style:{display:"none"},onClick:_=>_.stopPropagation()})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Document Categories"}),r.jsx(Ne,{children:"Filter documents by category"})]}),r.jsx(K,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(_=>r.jsx(z,{variant:y===_?"default":"outline",size:"sm",onClick:()=>x(_),children:_},_))})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Your Documents"}),r.jsxs(Ne,{children:[A.length," document(s) found • Click on category names to edit them"]})]}),r.jsx(K,{children:A.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Np,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No documents found in this category"})]}):r.jsx("div",{className:"space-y-4",children:A.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[C(_.type),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:_.name}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[N===_.id?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ve,{value:_.category,onValueChange:L=>D(_.id,L),children:[r.jsx(me,{className:"w-32 h-6 text-xs",children:r.jsx(we,{})}),r.jsx(pe,{children:w.map(L=>r.jsx(Q,{value:L,children:L},L))})]}),r.jsx(z,{variant:"outline",size:"sm",onClick:()=>k(null),className:"h-6 px-2 text-xs",children:"Cancel"})]}):r.jsxs("span",{className:"cursor-pointer hover:text-green-600 flex items-center space-x-1",onClick:()=>k(_.id),children:[r.jsx("span",{children:_.category}),r.jsx(Dn,{className:"h-3 w-3"})]}),r.jsx("span",{children:"•"}),r.jsx("span",{children:_.size}),r.jsx("span",{children:"•"}),r.jsxs("span",{children:["Uploaded ",new Date(_.uploadDate).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(z,{variant:"outline",size:"sm",children:r.jsx(Lr,{className:"h-4 w-4"})}),r.jsx(z,{variant:"outline",size:"sm",children:r.jsx(Si,{className:"h-4 w-4"})}),r.jsx(z,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>$(_.id),disabled:l,children:r.jsx($i,{className:"h-4 w-4"})})]})]},_.id))})})]})]})},Zp=()=>{const{user:e}=Ee(),[t,n]=h.useState(!0),[s,a]=h.useState(null),[i,o]=h.useState(!1),[l,c]=h.useState(null),[d,u]=h.useState([]),[f,g]=h.useState([]);h.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0),a(null),await Promise.all([b(),y()])}catch(S){console.error("Error loading overview data:",S),a(S.message||"Failed to load dashboard data")}finally{n(!1)}},b=async()=>{try{const{data:S,error:T}=await te.from("users").select(`
          id,
          email,
          role,
          created_at,
          updated_at,
          businesses (
            id,
            name,
            created_at
          )
        `).eq("role","user").order("created_at",{ascending:!1});if(T)throw T;const E=(S||[]).map(B=>{var U,H,R,P,F;return{id:B.id,name:B.email.split("@")[0]||B.email,email:B.email,role:B.role,status:"active",lastActivity:B.updated_at||B.created_at,totalRevenue:(U=B.businesses)!=null&&U.length?Math.floor(Math.random()*5e4)+1e4:0,monthlyFee:(H=B.businesses)!=null&&H.length?B.businesses.length*299:0,businessCount:((R=B.businesses)==null?void 0:R.length)||0,riskLevel:((P=B.businesses)==null?void 0:P.length)===0?"high":((F=B.businesses)==null?void 0:F.length)===1?"medium":"low"}});u(E),w(E)}catch(S){throw console.error("Error loading clients:",S),S}},w=S=>{const T=S.reduce((P,F)=>P+F.totalRevenue,0),E=S.reduce((P,F)=>P+F.monthlyFee,0),B=S.filter(P=>P.status==="active").length,U=S.length,H=Math.floor(Math.random()*12)+3,R=Math.floor(Math.random()*20)+15;c({totalClientsRevenue:T,monthlyRecurringRevenue:E,pendingReviews:H,completedReports:R,avgClientGrowth:15.8,clientRetentionRate:94.2,totalClients:U,activeClients:B})},y=async()=>{try{const S=[{id:"1",type:"client_signup",description:"New client registered",timestamp:new Date(Date.now()-18e5).toISOString(),clientName:"Sarah Johnson"},{id:"2",type:"report_generated",description:"Monthly financial report generated",timestamp:new Date(Date.now()-72e5).toISOString(),clientName:"Tech Startup LLC"},{id:"3",type:"task_completed",description:"Tax filing task completed",timestamp:new Date(Date.now()-144e5).toISOString(),clientName:"Real Estate Pro"},{id:"4",type:"meeting_scheduled",description:"Consultation meeting scheduled",timestamp:new Date(Date.now()-216e5).toISOString(),clientName:"Small Business Inc"}];g(S)}catch(S){console.error("Error loading recent activity:",S)}},x=async()=>{o(!0),await p(),o(!1)},v=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),m=S=>new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),N=S=>{switch(S){case"client_signup":return r.jsx(ut,{className:"h-4 w-4 text-blue-600"});case"report_generated":return r.jsx(Nn,{className:"h-4 w-4 text-green-600"});case"task_completed":return r.jsx(kt,{className:"h-4 w-4 text-green-600"});case"meeting_scheduled":return r.jsx(Ft,{className:"h-4 w-4 text-purple-600"});default:return r.jsx(Tn,{className:"h-4 w-4 text-gray-600"})}},k=S=>{switch(S){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((S,T)=>r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})})},T))})}):s?r.jsxs(ze,{variant:"destructive",children:[r.jsx(Er,{className:"h-4 w-4"}),r.jsxs(Be,{children:[s,r.jsx(z,{variant:"outline",size:"sm",className:"ml-2",onClick:x,children:"Try Again"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Accountant Overview"}),r.jsx("p",{className:"text-gray-600",children:"Monitor client accounts and business performance"})]}),r.jsxs(z,{onClick:x,disabled:i,variant:"outline",size:"sm",children:[r.jsx(ja,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Total Clients Revenue"}),r.jsx(mn,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:v((l==null?void 0:l.totalClientsRevenue)||0)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.activeClients)||0," active clients"]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Monthly Recurring Revenue"}),r.jsx(Pt,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v((l==null?void 0:l.monthlyRecurringRevenue)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"+15.8% from last month"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Pending Reviews"}),r.jsx(es,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(l==null?void 0:l.pendingReviews)||0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Reports awaiting approval"})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Completed Reports"}),r.jsx(kt,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:(l==null?void 0:l.completedReports)||0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Quick Actions"}),r.jsx(Ne,{children:"Common tasks and shortcuts"})]}),r.jsxs(K,{className:"space-y-3",children:[r.jsxs(z,{className:"w-full justify-start",variant:"outline",children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add New Client"]}),r.jsxs(z,{className:"w-full justify-start",variant:"outline",children:[r.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),r.jsxs(z,{className:"w-full justify-start",variant:"outline",children:[r.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]}),r.jsxs(z,{className:"w-full justify-start",variant:"outline",children:[r.jsx(cy,{className:"h-4 w-4 mr-2"}),"Contact Client"]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Recent Activity"}),r.jsx(Ne,{children:"Latest updates and events"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:f.length===0?r.jsxs("div",{className:"text-center py-4",children:[r.jsx(Tn,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"})]}):f.map(S=>r.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[N(S.type),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.description}),S.clientName&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Client: ",S.clientName]}),r.jsx("p",{className:"text-xs text-gray-400",children:m(S.timestamp)})]})]},S.id))})})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Client Summary"}),r.jsx(Ne,{children:"Overview of your top clients by revenue"})]}),r.jsx(K,{children:d.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ut,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No clients found"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Clients will appear here as they register"})]}):r.jsx("div",{className:"space-y-4",children:d.sort((S,T)=>T.totalRevenue-S.totalRevenue).slice(0,5).map(S=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(ut,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:S.name}),r.jsx("p",{className:"text-sm text-gray-500",children:S.email}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(fe,{variant:"outline",children:S.status}),r.jsxs(fe,{className:k(S.riskLevel),children:[S.riskLevel," risk"]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:v(S.totalRevenue)}),r.jsxs("p",{className:"text-sm text-gray-500",children:[S.businessCount," business",S.businessCount!==1?"es":""]}),r.jsxs("div",{className:"flex space-x-1 mt-2",children:[r.jsx(z,{size:"sm",variant:"outline",children:r.jsx(Lr,{className:"h-3 w-3"})}),r.jsx(z,{size:"sm",variant:"outline",children:r.jsx(Dn,{className:"h-3 w-3"})})]})]})]},S.id))})})]})]})},QR=()=>{const{user:e}=Ee(),[t,n]=h.useState(!0),[s,a]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState([]),[d,u]=h.useState([]),[f,g]=h.useState(""),[p,b]=h.useState("all"),[w,y]=h.useState("all"),[x,v]=h.useState(null),[m,N]=h.useState(!1),[k,S]=h.useState(!1);h.useEffect(()=>{T()},[]),h.useEffect(()=>{let M=l;f&&(M=M.filter($=>$.name.toLowerCase().includes(f.toLowerCase())||$.email.toLowerCase().includes(f.toLowerCase()))),p!=="all"&&(M=M.filter($=>$.status===p)),w!=="all"&&(M=M.filter($=>$.riskLevel===w)),u(M)},[l,f,p,w]);const T=async()=>{try{n(!0),o(null);const{data:M,error:$}=await te.from("users").select(`
          id,
          email,
          role,
          created_at,
          updated_at,
          businesses (
            id,
            name,
            created_at
          )
        `).eq("role","user").order("created_at",{ascending:!1});if($)throw $;const D=(M||[]).map(A=>{var C,_,L,I,W;return{id:A.id,name:A.email.split("@")[0]||A.email,email:A.email,phone:"",role:A.role,status:"active",lastActivity:A.updated_at||A.created_at,totalRevenue:(C=A.businesses)!=null&&C.length?Math.floor(Math.random()*5e4)+1e4:0,monthlyFee:(_=A.businesses)!=null&&_.length?A.businesses.length*299:0,businessCount:((L=A.businesses)==null?void 0:L.length)||0,riskLevel:((I=A.businesses)==null?void 0:I.length)===0?"high":((W=A.businesses)==null?void 0:W.length)===1?"medium":"low",businesses:(A.businesses||[]).map(G=>({...G,total_revenue:Math.floor(Math.random()*25e3)+5e3,monthly_fee:299,industry:["Technology","Retail","Healthcare","Manufacturing","Services"][Math.floor(Math.random()*5)]})),created_at:A.created_at,last_login:A.updated_at}});c(D)}catch(M){console.error("Error loading clients:",M),o(M.message||"Failed to load clients")}finally{n(!1)}},E=async()=>{a(!0),await T(),a(!1)},B=async(M,$)=>{try{const{error:D}=await te.from("users").update({status:$}).eq("id",M);if(D)throw D;c(l.map(A=>A.id===M?{...A,status:$}:A))}catch(D){console.error("Error updating client status:",D),o(D.message||"Failed to update client status")}},U=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(M),H=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=M=>{switch(M){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=M=>{switch(M){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=M=>{switch(M){case"active":return r.jsx(kt,{className:"h-4 w-4 text-green-600"});case"pending":return r.jsx(Er,{className:"h-4 w-4 text-yellow-600"});case"suspended":return r.jsx(Nu,{className:"h-4 w-4 text-red-600"});default:return r.jsx(ut,{className:"h-4 w-4 text-gray-600"})}};return t?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded mb-6"}),r.jsx("div",{className:"space-y-4",children:[...Array(5)].map((M,$)=>r.jsx("div",{className:"h-20 bg-gray-200 rounded"},$))})]})}):i?r.jsxs(ze,{variant:"destructive",children:[r.jsx(Er,{className:"h-4 w-4"}),r.jsxs(Be,{children:[i,r.jsx(z,{variant:"outline",size:"sm",className:"ml-2",onClick:E,children:"Try Again"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Client Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage and monitor all your clients"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{onClick:E,disabled:s,variant:"outline",size:"sm",children:[r.jsx(ja,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),r.jsxs(z,{onClick:()=>S(!0),children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Client"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Clients"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length})]}),r.jsx(ut,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Clients"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(M=>M.status==="active").length})]}),r.jsx(kt,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:U(l.reduce((M,$)=>M+$.totalRevenue,0))})]}),r.jsx(mn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:U(l.reduce((M,$)=>M+$.monthlyFee,0))})]}),r.jsx(Pt,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),r.jsx(ue,{placeholder:"Search clients by name or email...",value:f,onChange:M=>g(M.target.value),className:"pl-10"})]})}),r.jsxs(ve,{value:p,onValueChange:b,children:[r.jsx(me,{className:"w-full sm:w-32",children:r.jsx(we,{placeholder:"Status"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Status"}),r.jsx(Q,{value:"active",children:"Active"}),r.jsx(Q,{value:"inactive",children:"Inactive"}),r.jsx(Q,{value:"pending",children:"Pending"}),r.jsx(Q,{value:"suspended",children:"Suspended"})]})]}),r.jsxs(ve,{value:w,onValueChange:y,children:[r.jsx(me,{className:"w-full sm:w-32",children:r.jsx(we,{placeholder:"Risk"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Risk"}),r.jsx(Q,{value:"low",children:"Low"}),r.jsx(Q,{value:"medium",children:"Medium"}),r.jsx(Q,{value:"high",children:"High"})]})]})]})})}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{children:["Clients (",d.length,")"]}),r.jsx(Ne,{children:"Overview of all client accounts and their status"})]}),r.jsx(K,{children:d.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ut,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:f||p!=="all"||w!=="all"?"No clients match your filters":"No clients found"}),r.jsx("p",{className:"text-sm text-gray-400",children:l.length===0?"Add your first client to get started":"Try adjusting your search or filters"})]}):r.jsx("div",{className:"space-y-4",children:d.map(M=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:F(M.status)}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:M.name}),r.jsx(fe,{className:R(M.status),children:M.status}),r.jsxs(fe,{className:P(M.riskLevel),children:[M.riskLevel," risk"]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:M.email}),M.phone&&r.jsxs("p",{className:"text-sm text-gray-500",children:["📞 ",M.phone]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[r.jsxs("span",{className:"text-xs text-gray-400",children:[M.businessCount," business",M.businessCount!==1?"es":""]}),r.jsxs("span",{className:"text-xs text-gray-400",children:["Last active: ",H(M.lastActivity)]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:U(M.totalRevenue)}),r.jsxs("p",{className:"text-sm text-gray-500",children:[U(M.monthlyFee),"/month"]}),r.jsxs("div",{className:"flex space-x-1 mt-2",children:[r.jsx(z,{size:"sm",variant:"outline",onClick:()=>{v(M),N(!0)},children:r.jsx(Lr,{className:"h-3 w-3"})}),r.jsx(z,{size:"sm",variant:"outline",children:r.jsx(cy,{className:"h-3 w-3"})}),r.jsx(z,{size:"sm",variant:"outline",children:r.jsx(Ft,{className:"h-3 w-3"})}),r.jsxs(ve,{value:M.status,onValueChange:$=>B(M.id,$),children:[r.jsx(me,{className:"h-8 w-8 p-0 border rounded hover:bg-accent",children:r.jsx(HC,{className:"h-3 w-3"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"active",children:"Active"}),r.jsx(Q,{value:"inactive",children:"Inactive"}),r.jsx(Q,{value:"pending",children:"Pending"}),r.jsx(Q,{value:"suspended",children:"Suspended"})]})]})]})]})]},M.id))})})]}),r.jsx(Et,{open:m,onOpenChange:N,children:r.jsxs(ft,{className:"max-w-2xl",children:[r.jsxs(mt,{children:[r.jsxs(pt,{className:"flex items-center space-x-2",children:[r.jsx(ut,{className:"h-5 w-5"}),r.jsx("span",{children:"Client Details"})]}),r.jsxs(Rn,{children:["Detailed information about ",x==null?void 0:x.name]})]}),x&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name"}),r.jsx("p",{className:"text-gray-900",children:x.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),r.jsx("p",{className:"text-gray-900",children:x.email})]}),x.phone&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),r.jsx("p",{className:"text-gray-900",children:x.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),r.jsx(fe,{className:R(x.status),children:x.status})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:U(x.totalRevenue)}),r.jsx("p",{className:"text-sm text-green-600",children:"Total Revenue"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:U(x.monthlyFee)}),r.jsx("p",{className:"text-sm text-blue-600",children:"Monthly Fee"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-600",children:x.businessCount}),r.jsx("p",{className:"text-sm text-gray-600",children:"Businesses"})]})]}),x.businesses.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Businesses"}),r.jsx("div",{className:"space-y-2",children:x.businesses.map(M=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:M.name}),M.industry&&r.jsx("p",{className:"text-sm text-gray-500",children:M.industry})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:U(M.total_revenue)}),r.jsxs("p",{className:"text-sm text-gray-500",children:[U(M.monthly_fee),"/month"]})]})]},M.id))})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>N(!1),children:"Close"}),r.jsxs(z,{children:[r.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Edit Client"]})]})]})}),r.jsx(Et,{open:k,onOpenChange:S,children:r.jsxs(ft,{children:[r.jsxs(mt,{children:[r.jsxs(pt,{className:"flex items-center space-x-2",children:[r.jsx(_p,{className:"h-5 w-5"}),r.jsx("span",{children:"Add New Client"})]}),r.jsx(Rn,{children:"Create a new client account"})]}),r.jsxs("div",{className:"py-4 text-center",children:[r.jsx(_p,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Add client functionality coming soon!"}),r.jsx("p",{className:"text-sm text-gray-500",children:"This will integrate with the user registration system."})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),r.jsx(z,{disabled:!0,children:"Add Client"})]})]})})]})},fd=[{value:"review",label:"Review",color:"blue"},{value:"filing",label:"Tax Filing",color:"purple"},{value:"consultation",label:"Consultation",color:"green"},{value:"analysis",label:"Analysis",color:"orange"},{value:"meeting",label:"Meeting",color:"teal"},{value:"report",label:"Report",color:"indigo"},{value:"compliance",label:"Compliance",color:"red"},{value:"other",label:"Other",color:"gray"}],md=[{value:"low",label:"Low",color:"gray",icon:DC},{value:"medium",label:"Medium",color:"yellow",icon:dy},{value:"high",label:"High",color:"orange",icon:OC},{value:"urgent",label:"Urgent",color:"red",icon:hy}],JR=()=>{const{user:e}=Ee(),[t,n]=h.useState(!0),[s,a]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState([]),[d,u]=h.useState([]),[f,g]=h.useState([]),[p,b]=h.useState(""),[w,y]=h.useState("all"),[x,v]=h.useState("all"),[m,N]=h.useState("all"),[k,S]=h.useState("all"),[T,E]=h.useState(!1),[B,U]=h.useState(!1),[H,R]=h.useState(null),[P,F]=h.useState({title:"",description:"",type:"review",priority:"medium",client_id:"",due_date:""});h.useEffect(()=>{M()},[]),h.useEffect(()=>{let j=l;p&&(j=j.filter(O=>{var Y;return O.title.toLowerCase().includes(p.toLowerCase())||O.description.toLowerCase().includes(p.toLowerCase())||((Y=O.client_name)==null?void 0:Y.toLowerCase().includes(p.toLowerCase()))})),w!=="all"&&(j=j.filter(O=>O.status===w)),x!=="all"&&(j=j.filter(O=>O.type===x)),m!=="all"&&(j=j.filter(O=>O.priority===m)),k!=="all"&&(j=j.filter(O=>O.client_id===k)),j.sort((O,Y)=>{const ne={urgent:4,high:3,medium:2,low:1},qe=ne[Y.priority]-ne[O.priority];return qe!==0?qe:new Date(O.due_date).getTime()-new Date(Y.due_date).getTime()}),u(j)},[l,p,w,x,m,k]);const M=async()=>{try{n(!0),o(null),await Promise.all([$(),D()])}catch(j){console.error("Error loading tasks and clients:",j),o(j.message||"Failed to load data")}finally{n(!1)}},$=async()=>{try{const j=[{id:"1",title:"Review Q3 Financial Statements",description:"Complete review of quarterly financial statements and prepare recommendations",type:"review",priority:"high",status:"pending",client_id:"client-1",client_name:"Tech Startup LLC",due_date:new Date(Date.now()+1728e5).toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",title:"Tax Filing for Real Estate Business",description:"Prepare and file annual tax returns for real estate investment business",type:"filing",priority:"urgent",status:"in_progress",client_id:"client-2",client_name:"Real Estate Pro",due_date:new Date(Date.now()+864e5).toISOString(),created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date().toISOString()},{id:"3",title:"Monthly Consultation Meeting",description:"Scheduled consultation to discuss financial strategy and planning",type:"consultation",priority:"medium",status:"pending",client_id:"client-3",client_name:"Small Business Inc",due_date:new Date(Date.now()+6048e5).toISOString(),created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date().toISOString()},{id:"4",title:"Expense Report Analysis",description:"Analyze expense patterns and identify cost optimization opportunities",type:"analysis",priority:"low",status:"completed",client_id:"client-1",client_name:"Tech Startup LLC",due_date:new Date(Date.now()-1728e5).toISOString(),created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date().toISOString(),completed_at:new Date(Date.now()-864e5).toISOString()},{id:"5",title:"Compliance Check",description:"Quarterly compliance review for regulatory requirements",type:"compliance",priority:"high",status:"pending",client_id:"client-2",client_name:"Real Estate Pro",due_date:new Date(Date.now()+432e6).toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];c(j)}catch(j){throw console.error("Error loading tasks:",j),j}},D=async()=>{try{const{data:j,error:O}=await te.from("users").select("id, email").eq("role","user").order("email");if(O)throw O;const Y=(j||[]).map(ne=>({id:ne.id,name:ne.email.split("@")[0]||ne.email,email:ne.email}));g(Y)}catch(j){throw console.error("Error loading clients:",j),j}},A=async()=>{a(!0),await M(),a(!1)},C=async()=>{var j;try{const O={id:Date.now().toString(),...P,status:"pending",client_name:(j=f.find(Y=>Y.id===P.client_id))==null?void 0:j.name,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};c([O,...l]),E(!1),I()}catch(O){console.error("Error adding task:",O),o(O.message||"Failed to add task")}},_=async(j,O)=>{try{const Y=l.map(ne=>ne.id===j?{...ne,status:O,updated_at:new Date().toISOString(),completed_at:O==="completed"?new Date().toISOString():void 0}:ne);c(Y)}catch(Y){console.error("Error updating task status:",Y),o(Y.message||"Failed to update task")}},L=async j=>{try{c(l.filter(O=>O.id!==j))}catch(O){console.error("Error deleting task:",O),o(O.message||"Failed to delete task")}},I=()=>{F({title:"",description:"",type:"review",priority:"medium",client_id:"",due_date:""})},W=j=>new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),G=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Z=j=>{switch(j){case"low":return"bg-gray-100 text-gray-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"urgent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ce=j=>{const O=md.find(ne=>ne.value===j),Y=(O==null?void 0:O.icon)||dy;return r.jsx(Y,{className:"h-4 w-4"})},V=j=>{switch(j){case"pending":return r.jsx(es,{className:"h-4 w-4 text-yellow-600"});case"in_progress":return r.jsx(Xc,{className:"h-4 w-4 text-blue-600"});case"completed":return r.jsx(kt,{className:"h-4 w-4 text-green-600"});case"cancelled":return r.jsx(ku,{className:"h-4 w-4 text-red-600"});default:return r.jsx(es,{className:"h-4 w-4 text-gray-600"})}},ee=(j,O)=>O==="completed"||O==="cancelled"?!1:new Date(j)<new Date,de=j=>{const O=new Date,ne=new Date(j).getTime()-O.getTime();return Math.ceil(ne/(1e3*60*60*24))};return t?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded mb-6"}),r.jsx("div",{className:"space-y-4",children:[...Array(5)].map((j,O)=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},O))})]})}):i?r.jsxs(ze,{variant:"destructive",children:[r.jsx(Er,{className:"h-4 w-4"}),r.jsxs(Be,{children:[i,r.jsx(z,{variant:"outline",size:"sm",className:"ml-2",onClick:A,children:"Try Again"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Task Management"}),r.jsx("p",{className:"text-gray-600",children:"Track and manage client-related tasks"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{onClick:A,disabled:s,variant:"outline",size:"sm",children:[r.jsx(ja,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),r.jsxs(z,{onClick:()=>E(!0),children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Task"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tasks"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length})]}),r.jsx(bu,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:l.filter(j=>j.status==="pending").length})]}),r.jsx(es,{className:"h-8 w-8 text-yellow-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.filter(j=>j.status==="in_progress").length})]}),r.jsx(Xc,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(j=>j.status==="completed").length})]}),r.jsx(kt,{className:"h-8 w-8 text-green-600"})]})})})]}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),r.jsx(ue,{placeholder:"Search tasks...",value:p,onChange:j=>b(j.target.value),className:"pl-10"})]})}),r.jsxs(ve,{value:w,onValueChange:y,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Status"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Status"}),r.jsx(Q,{value:"pending",children:"Pending"}),r.jsx(Q,{value:"in_progress",children:"In Progress"}),r.jsx(Q,{value:"completed",children:"Completed"}),r.jsx(Q,{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs(ve,{value:x,onValueChange:v,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Type"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Types"}),fd.map(j=>r.jsx(Q,{value:j.value,children:j.label},j.value))]})]}),r.jsxs(ve,{value:m,onValueChange:N,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Priority"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Priority"}),md.map(j=>r.jsx(Q,{value:j.value,children:j.label},j.value))]})]}),r.jsxs(ve,{value:k,onValueChange:S,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Client"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Clients"}),f.map(j=>r.jsx(Q,{value:j.id,children:j.name},j.id))]})]})]})})}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{children:["Tasks (",d.length,")"]}),r.jsx(Ne,{children:"Manage all client tasks and deadlines"})]}),r.jsx(K,{children:d.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(bu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:p||w!=="all"||x!=="all"||m!=="all"||k!=="all"?"No tasks match your filters":"No tasks found"}),r.jsx("p",{className:"text-sm text-gray-400",children:l.length===0?"Create your first task to get started":"Try adjusting your search or filters"})]}):r.jsx("div",{className:"space-y-4",children:d.map(j=>{var ne;const O=ee(j.due_date,j.status),Y=de(j.due_date);return r.jsx("div",{className:`p-4 rounded-lg border-l-4 ${O?"border-l-red-500 bg-red-50":j.priority==="urgent"?"border-l-red-400 bg-red-50":j.priority==="high"?"border-l-orange-400 bg-orange-50":"border-l-blue-400 bg-gray-50"} hover:bg-gray-100 transition-colors`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[V(j.status),r.jsx("h3",{className:"font-medium text-gray-900",children:j.title}),O&&r.jsxs(fe,{className:"bg-red-100 text-red-800",children:[r.jsx(ju,{className:"h-3 w-3 mr-1"}),"Overdue"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:j.description}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsx(fe,{className:G(j.status),children:j.status.replace("_"," ")}),r.jsxs(fe,{className:Z(j.priority),children:[ce(j.priority),r.jsx("span",{className:"ml-1",children:j.priority})]}),r.jsx(fe,{variant:"outline",children:(ne=fd.find(qe=>qe.value===j.type))==null?void 0:ne.label}),j.client_name&&r.jsxs(fe,{variant:"outline",children:[r.jsx(ut,{className:"h-3 w-3 mr-1"}),j.client_name]})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[r.jsxs("span",{children:[r.jsx(Ft,{className:"h-3 w-3 inline mr-1"}),"Due: ",W(j.due_date),Y>=0&&j.status!=="completed"&&r.jsxs("span",{className:Y<=1?"text-red-600 font-medium":"",children:[" ","(",Y===0?"Today":Y===1?"Tomorrow":`${Y} days`,")"]})]}),r.jsxs("span",{children:["Created: ",W(j.created_at)]}),j.completed_at&&r.jsxs("span",{children:["Completed: ",W(j.completed_at)]})]})]}),r.jsxs("div",{className:"flex space-x-1 ml-4",children:[j.status==="pending"&&r.jsx(z,{size:"sm",variant:"outline",onClick:()=>_(j.id,"in_progress"),children:r.jsx(Xc,{className:"h-3 w-3"})}),j.status==="in_progress"&&r.jsxs(r.Fragment,{children:[r.jsx(z,{size:"sm",variant:"outline",onClick:()=>_(j.id,"completed"),children:r.jsx(kt,{className:"h-3 w-3"})}),r.jsx(z,{size:"sm",variant:"outline",onClick:()=>_(j.id,"pending"),children:r.jsx(qC,{className:"h-3 w-3"})})]}),j.status==="completed"&&r.jsx(z,{size:"sm",variant:"outline",onClick:()=>_(j.id,"in_progress"),children:r.jsx(Dn,{className:"h-3 w-3"})}),r.jsx(z,{size:"sm",variant:"outline",onClick:()=>L(j.id),children:r.jsx($i,{className:"h-3 w-3"})})]})]})},j.id)})})})]}),r.jsx(Et,{open:T,onOpenChange:E,children:r.jsxs(ft,{className:"max-w-2xl",children:[r.jsxs(mt,{children:[r.jsxs(pt,{className:"flex items-center space-x-2",children:[r.jsx(tt,{className:"h-5 w-5"}),r.jsx("span",{children:"Add New Task"})]}),r.jsx(Rn,{children:"Create a new task for client management"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),r.jsx(ue,{value:P.title,onChange:j=>F({...P,title:j.target.value}),placeholder:"Enter task title"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),r.jsx(Pi,{value:P.description,onChange:j=>F({...P,description:j.target.value}),placeholder:"Enter task description",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),r.jsxs(ve,{value:P.type,onValueChange:j=>F({...P,type:j}),children:[r.jsx(me,{children:r.jsx(we,{})}),r.jsx(pe,{children:fd.map(j=>r.jsx(Q,{value:j.value,children:j.label},j.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority"}),r.jsxs(ve,{value:P.priority,onValueChange:j=>F({...P,priority:j}),children:[r.jsx(me,{children:r.jsx(we,{})}),r.jsx(pe,{children:md.map(j=>r.jsx(Q,{value:j.value,children:j.label},j.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Client"}),r.jsxs(ve,{value:P.client_id,onValueChange:j=>F({...P,client_id:j}),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select client"})}),r.jsx(pe,{children:f.map(j=>r.jsx(Q,{value:j.id,children:j.name},j.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Due Date"}),r.jsx(ue,{type:"date",value:P.due_date,onChange:j=>F({...P,due_date:j.target.value})})]})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>{E(!1),I()},children:"Cancel"}),r.jsx(z,{onClick:C,disabled:!P.title||!P.description||!P.due_date,children:"Add Task"})]})]})})]})},Fa=[{value:"monthly",label:"Monthly Report",color:"blue",icon:Ft},{value:"quarterly",label:"Quarterly Report",color:"green",icon:wa},{value:"annual",label:"Annual Report",color:"purple",icon:mn},{value:"tax",label:"Tax Report",color:"red",icon:VC},{value:"audit",label:"Audit Report",color:"orange",icon:kt},{value:"analysis",label:"Analysis Report",color:"teal",icon:ql},{value:"compliance",label:"Compliance Report",color:"indigo",icon:Er},{value:"custom",label:"Custom Report",color:"gray",icon:Nn}],jo=[{value:"draft",label:"Draft",color:"gray"},{value:"pending_review",label:"Pending Review",color:"yellow"},{value:"approved",label:"Approved",color:"green"},{value:"published",label:"Published",color:"blue"},{value:"rejected",label:"Rejected",color:"red"},{value:"archived",label:"Archived",color:"gray"}],XR=()=>{var ee,de;const{user:e}=Ee(),[t,n]=h.useState(!0),[s,a]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState([]),[d,u]=h.useState([]),[f,g]=h.useState([]),[p,b]=h.useState(""),[w,y]=h.useState("all"),[x,v]=h.useState("all"),[m,N]=h.useState("all"),[k,S]=h.useState("all"),[T,E]=h.useState(!1),[B,U]=h.useState(!1),[H,R]=h.useState(null),[P,F]=h.useState({title:"",type:"monthly",client_id:"",period_start:"",period_end:"",notes:""});h.useEffect(()=>{M()},[]),h.useEffect(()=>{let j=l;if(p&&(j=j.filter(O=>{var Y;return O.title.toLowerCase().includes(p.toLowerCase())||O.client_name.toLowerCase().includes(p.toLowerCase())||((Y=O.notes)==null?void 0:Y.toLowerCase().includes(p.toLowerCase()))})),w!=="all"&&(j=j.filter(O=>O.status===w)),x!=="all"&&(j=j.filter(O=>O.type===x)),m!=="all"&&(j=j.filter(O=>O.client_id===m)),k!=="all"){const O=new Date,Y=new Date;switch(k){case"this_week":Y.setDate(O.getDate()-7);break;case"this_month":Y.setMonth(O.getMonth()-1);break;case"this_quarter":Y.setMonth(O.getMonth()-3);break;case"this_year":Y.setFullYear(O.getFullYear()-1);break}k!=="all"&&(j=j.filter(ne=>new Date(ne.created_at)>=Y))}j.sort((O,Y)=>new Date(Y.created_at).getTime()-new Date(O.created_at).getTime()),u(j)},[l,p,w,x,m,k]);const M=async()=>{try{n(!0),o(null),await Promise.all([$(),D()])}catch(j){console.error("Error loading reports and clients:",j),o(j.message||"Failed to load data")}finally{n(!1)}},$=async()=>{try{const j=[{id:"1",title:"Q3 2024 Financial Report - Tech Startup LLC",type:"quarterly",status:"approved",client_id:"client-1",client_name:"Tech Startup LLC",period_start:"2024-07-01",period_end:"2024-09-30",generated_by:(e==null?void 0:e.id)||"accountant-1",approved_by:(e==null?void 0:e.id)||"accountant-1",created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),notes:"Strong quarterly performance with 25% revenue growth",file_size:2458e3,download_count:5},{id:"2",title:"Monthly Financial Summary - October 2024",type:"monthly",status:"pending_review",client_id:"client-2",client_name:"Real Estate Pro",period_start:"2024-10-01",period_end:"2024-10-31",generated_by:(e==null?void 0:e.id)||"accountant-1",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),due_date:new Date(Date.now()+1728e5).toISOString(),notes:"Pending review for property investment analysis",file_size:185e4,download_count:0},{id:"3",title:"Tax Preparation Report 2024",type:"tax",status:"draft",client_id:"client-3",client_name:"Small Business Inc",period_start:"2024-01-01",period_end:"2024-12-31",generated_by:(e==null?void 0:e.id)||"accountant-1",created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date().toISOString(),due_date:new Date(Date.now()+2592e6).toISOString(),notes:"Annual tax filing preparation in progress",file_size:32e5,download_count:0},{id:"4",title:"Compliance Audit Report - Q2 2024",type:"compliance",status:"published",client_id:"client-2",client_name:"Real Estate Pro",period_start:"2024-04-01",period_end:"2024-06-30",generated_by:(e==null?void 0:e.id)||"accountant-1",approved_by:(e==null?void 0:e.id)||"accountant-1",created_at:new Date(Date.now()-12096e5).toISOString(),updated_at:new Date(Date.now()-864e6).toISOString(),notes:"All compliance requirements met successfully",file_size:195e4,download_count:12},{id:"5",title:"Annual Financial Analysis 2023",type:"annual",status:"archived",client_id:"client-1",client_name:"Tech Startup LLC",period_start:"2023-01-01",period_end:"2023-12-31",generated_by:(e==null?void 0:e.id)||"accountant-1",approved_by:(e==null?void 0:e.id)||"accountant-1",created_at:new Date(Date.now()-5184e6).toISOString(),updated_at:new Date(Date.now()-3888e6).toISOString(),notes:"Archived after successful year-end review",file_size:41e5,download_count:8}];c(j)}catch(j){throw console.error("Error loading reports:",j),j}},D=async()=>{try{const{data:j,error:O}=await te.from("users").select("id, full_name, email").eq("role","user").order("full_name");if(O)throw O;const Y=(j||[]).map(ne=>({id:ne.id,name:ne.email.split("@")[0]||ne.email,email:ne.email}));g(Y)}catch(j){throw console.error("Error loading clients:",j),j}},A=async()=>{a(!0),await M(),a(!1)},C=async()=>{var j;try{const O={id:Date.now().toString(),title:P.title,type:P.type,status:"draft",client_id:P.client_id,client_name:((j=f.find(Y=>Y.id===P.client_id))==null?void 0:j.name)||"",period_start:P.period_start,period_end:P.period_end,generated_by:(e==null?void 0:e.id)||"accountant-1",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),notes:P.notes,file_size:Math.floor(Math.random()*3e6)+5e5,download_count:0};c([O,...l]),E(!1),I()}catch(O){console.error("Error generating report:",O),o(O.message||"Failed to generate report")}},_=async(j,O)=>{try{const Y=l.map(ne=>ne.id===j?{...ne,status:O,updated_at:new Date().toISOString(),approved_by:O==="approved"?e==null?void 0:e.id:ne.approved_by}:ne);c(Y)}catch(Y){console.error("Error updating report status:",Y),o(Y.message||"Failed to update report")}},L=async j=>{try{c(l.filter(O=>O.id!==j))}catch(O){console.error("Error deleting report:",O),o(O.message||"Failed to delete report")}},I=()=>{F({title:"",type:"monthly",client_id:"",period_start:"",period_end:"",notes:""})},W=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),G=j=>`${(j/1048576).toFixed(1)} MB`,Z=j=>{const O=jo.find(ne=>ne.value===j),Y=(O==null?void 0:O.color)||"gray";return`bg-${Y}-100 text-${Y}-800`},ce=j=>{switch(j){case"draft":return r.jsx(Dn,{className:"h-4 w-4 text-gray-600"});case"pending_review":return r.jsx(es,{className:"h-4 w-4 text-yellow-600"});case"approved":return r.jsx(kt,{className:"h-4 w-4 text-green-600"});case"published":return r.jsx(bp,{className:"h-4 w-4 text-blue-600"});case"rejected":return r.jsx(ku,{className:"h-4 w-4 text-red-600"});case"archived":return r.jsx(Nu,{className:"h-4 w-4 text-gray-600"});default:return r.jsx(Nn,{className:"h-4 w-4 text-gray-600"})}},V=j=>{const O=Fa.find(ne=>ne.value===j),Y=(O==null?void 0:O.icon)||Nn;return r.jsx(Y,{className:"h-4 w-4"})};return t?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded mb-6"}),r.jsx("div",{className:"space-y-4",children:[...Array(5)].map((j,O)=>r.jsx("div",{className:"h-32 bg-gray-200 rounded"},O))})]})}):i?r.jsxs(ze,{variant:"destructive",children:[r.jsx(Er,{className:"h-4 w-4"}),r.jsxs(Be,{children:[i,r.jsx(z,{variant:"outline",size:"sm",className:"ml-2",onClick:A,children:"Try Again"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Report Management"}),r.jsx("p",{className:"text-gray-600",children:"Generate, review, and manage client financial reports"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{onClick:A,disabled:s,variant:"outline",size:"sm",children:[r.jsx(ja,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),r.jsxs(z,{onClick:()=>E(!0),children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reports"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length})]}),r.jsx(Nn,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:l.filter(j=>j.status==="pending_review").length})]}),r.jsx(es,{className:"h-8 w-8 text-yellow-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(j=>j.status==="approved"||j.status==="published").length})]}),r.jsx(kt,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.filter(j=>{const O=new Date(j.created_at),Y=new Date;return O.getMonth()===Y.getMonth()&&O.getFullYear()===Y.getFullYear()}).length})]}),r.jsx(Ft,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsx(q,{children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),r.jsx(ue,{placeholder:"Search reports...",value:p,onChange:j=>b(j.target.value),className:"pl-10"})]})}),r.jsxs(ve,{value:w,onValueChange:y,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Status"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Status"}),jo.map(j=>r.jsx(Q,{value:j.value,children:j.label},j.value))]})]}),r.jsxs(ve,{value:x,onValueChange:v,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Type"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Types"}),Fa.map(j=>r.jsx(Q,{value:j.value,children:j.label},j.value))]})]}),r.jsxs(ve,{value:m,onValueChange:N,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Client"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Clients"}),f.map(j=>r.jsx(Q,{value:j.id,children:j.name},j.id))]})]}),r.jsxs(ve,{value:k,onValueChange:S,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Period"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Time"}),r.jsx(Q,{value:"this_week",children:"This Week"}),r.jsx(Q,{value:"this_month",children:"This Month"}),r.jsx(Q,{value:"this_quarter",children:"This Quarter"}),r.jsx(Q,{value:"this_year",children:"This Year"})]})]})]})})}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{children:["Reports (",d.length,")"]}),r.jsx(Ne,{children:"Manage all client reports and their approval status"})]}),r.jsx(K,{children:d.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Nn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:p||w!=="all"||x!=="all"||m!=="all"||k!=="all"?"No reports match your filters":"No reports found"}),r.jsx("p",{className:"text-sm text-gray-400",children:l.length===0?"Generate your first report to get started":"Try adjusting your search or filters"})]}):r.jsx("div",{className:"space-y-4",children:d.map(j=>{var O,Y;return r.jsx("div",{className:"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[ce(j.status),r.jsx("h3",{className:"font-medium text-gray-900",children:j.title}),j.due_date&&new Date(j.due_date)<new Date&&j.status!=="published"&&r.jsxs(fe,{className:"bg-red-100 text-red-800",children:[r.jsx(Er,{className:"h-3 w-3 mr-1"}),"Overdue"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx(fe,{className:Z(j.status),children:(O=jo.find(ne=>ne.value===j.status))==null?void 0:O.label}),r.jsxs(fe,{variant:"outline",children:[V(j.type),r.jsx("span",{className:"ml-1",children:(Y=Fa.find(ne=>ne.value===j.type))==null?void 0:Y.label})]}),r.jsxs(fe,{variant:"outline",children:[r.jsx(ut,{className:"h-3 w-3 mr-1"}),j.client_name]}),r.jsxs(fe,{variant:"outline",children:[r.jsx(Ft,{className:"h-3 w-3 mr-1"}),W(j.period_start)," - ",W(j.period_end)]})]}),j.notes&&r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.notes}),r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[r.jsxs("span",{children:["Created: ",W(j.created_at)]}),r.jsxs("span",{children:["Updated: ",W(j.updated_at)]}),j.file_size&&r.jsxs("span",{children:["Size: ",G(j.file_size)]}),j.download_count!==void 0&&r.jsxs("span",{children:["Downloads: ",j.download_count]}),j.due_date&&r.jsxs("span",{children:["Due: ",W(j.due_date)]})]})]}),r.jsxs("div",{className:"flex space-x-1 ml-4",children:[r.jsx(z,{size:"sm",variant:"outline",onClick:()=>{R(j),U(!0)},children:r.jsx(Lr,{className:"h-3 w-3"})}),j.status==="draft"&&r.jsx(z,{size:"sm",variant:"outline",onClick:()=>_(j.id,"pending_review"),children:r.jsx(bp,{className:"h-3 w-3"})}),j.status==="pending_review"&&r.jsxs(r.Fragment,{children:[r.jsx(z,{size:"sm",variant:"outline",onClick:()=>_(j.id,"approved"),children:r.jsx(kt,{className:"h-3 w-3"})}),r.jsx(z,{size:"sm",variant:"outline",onClick:()=>_(j.id,"rejected"),children:r.jsx(ku,{className:"h-3 w-3"})})]}),j.status==="approved"&&r.jsx(z,{size:"sm",variant:"outline",onClick:()=>_(j.id,"published"),children:r.jsx(JC,{className:"h-3 w-3"})}),(j.status==="published"||j.status==="approved")&&r.jsx(z,{size:"sm",variant:"outline",children:r.jsx(Si,{className:"h-3 w-3"})}),r.jsx(z,{size:"sm",variant:"outline",onClick:()=>L(j.id),children:r.jsx(Nu,{className:"h-3 w-3"})})]})]})},j.id)})})})]}),r.jsx(Et,{open:T,onOpenChange:E,children:r.jsxs(ft,{className:"max-w-2xl",children:[r.jsxs(mt,{children:[r.jsxs(pt,{className:"flex items-center space-x-2",children:[r.jsx(tt,{className:"h-5 w-5"}),r.jsx("span",{children:"Generate New Report"})]}),r.jsx(Rn,{children:"Create a new financial report for a client"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Report Title"}),r.jsx(ue,{value:P.title,onChange:j=>F({...P,title:j.target.value}),placeholder:"Enter report title"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Report Type"}),r.jsxs(ve,{value:P.type,onValueChange:j=>F({...P,type:j}),children:[r.jsx(me,{children:r.jsx(we,{})}),r.jsx(pe,{children:Fa.map(j=>r.jsx(Q,{value:j.value,children:j.label},j.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Client"}),r.jsxs(ve,{value:P.client_id,onValueChange:j=>F({...P,client_id:j}),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select client"})}),r.jsx(pe,{children:f.map(j=>r.jsx(Q,{value:j.id,children:j.name},j.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period Start"}),r.jsx(ue,{type:"date",value:P.period_start,onChange:j=>F({...P,period_start:j.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period End"}),r.jsx(ue,{type:"date",value:P.period_end,onChange:j=>F({...P,period_end:j.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes (Optional)"}),r.jsx(Pi,{value:P.notes,onChange:j=>F({...P,notes:j.target.value}),placeholder:"Add any additional notes or comments",rows:3})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>{E(!1),I()},children:"Cancel"}),r.jsx(z,{onClick:C,disabled:!P.title||!P.client_id||!P.period_start||!P.period_end,children:"Generate Report"})]})]})}),r.jsx(Et,{open:B,onOpenChange:U,children:r.jsxs(ft,{className:"max-w-3xl",children:[r.jsxs(mt,{children:[r.jsxs(pt,{className:"flex items-center space-x-2",children:[r.jsx(Nn,{className:"h-5 w-5"}),r.jsx("span",{children:"Report Details"})]}),r.jsxs(Rn,{children:["Detailed information about ",H==null?void 0:H.title]})]}),H&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Title"}),r.jsx("p",{className:"text-gray-900",children:H.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Type"}),r.jsx("p",{className:"text-gray-900",children:(ee=Fa.find(j=>j.value===H.type))==null?void 0:ee.label})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Client"}),r.jsx("p",{className:"text-gray-900",children:H.client_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),r.jsx(fe,{className:Z(H.status),children:(de=jo.find(j=>j.value===H.status))==null?void 0:de.label})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Period Start"}),r.jsx("p",{className:"text-gray-900",children:W(H.period_start)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Period End"}),r.jsx("p",{className:"text-gray-900",children:W(H.period_end)})]}),H.due_date&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Due Date"}),r.jsx("p",{className:"text-gray-900",children:W(H.due_date)})]})]}),H.file_size&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"File Size"}),r.jsx("p",{className:"text-gray-900",children:G(H.file_size)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Downloads"}),r.jsx("p",{className:"text-gray-900",children:H.download_count||0})]})]}),H.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Notes"}),r.jsx("p",{className:"text-gray-900 mt-1",children:H.notes})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-medium",children:"Created"}),r.jsx("p",{children:W(H.created_at)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-medium",children:"Last Updated"}),r.jsx("p",{children:W(H.updated_at)})]})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{variant:"outline",onClick:()=>U(!1),children:"Close"}),(H==null?void 0:H.status)==="approved"||(H==null?void 0:H.status)==="published"?r.jsxs(z,{children:[r.jsx(Si,{className:"h-4 w-4 mr-2"}),"Download Report"]}):null]})]})})]})},eg=()=>{const{user:e}=Ee(),[t,n]=h.useState({totalUsers:0,activeUsers:0,newUsersToday:0,newUsersThisWeek:0,totalTransactions:0,totalTransactionValue:0,totalGoals:0,completedGoals:0,avgGoalProgress:0,systemHealth:"good"}),[s,a]=h.useState([]),[i,o]=h.useState([]),[l,c]=h.useState(!0),[d,u]=h.useState(null);h.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&f()},[e]);const f=async()=>{var y;try{c(!0),u(null);const[x,v,m]=await Promise.all([te.from("users").select("*").order("created_at",{ascending:!1}),te.from("transactions").select("*").order("created_at",{ascending:!1}),te.from("financial_goals").select("*").order("created_at",{ascending:!1})]);if(x.error)throw x.error;if(v.error)throw v.error;if(m.error)throw m.error;const N=x.data||[],k=v.data||[],S=m.data||[],T=new Date,E=new Date(T.getFullYear(),T.getMonth(),T.getDate()),B=new Date(T.getTime()-7*24*60*60*1e3),U=N.filter(_=>_.last_sign_in_at).length,H=N.filter(_=>new Date(_.created_at)>=E).length,R=N.filter(_=>new Date(_.created_at)>=B).length,P=k.reduce((_,L)=>_+Math.abs(L.amount),0),F=S.filter(_=>_.status==="completed").length,M=S.length>0?S.reduce((_,L)=>_+L.current_amount/L.target_amount*100,0)/S.length:0;let $="good";N.length>100&&U>N.length*.8?$="excellent":U<N.length*.3?$="warning":U<N.length*.1&&($="critical");const D={totalUsers:N.length,activeUsers:U,newUsersToday:H,newUsersThisWeek:R,totalTransactions:k.length,totalTransactionValue:P,totalGoals:S.length,completedGoals:F,avgGoalProgress:M,systemHealth:$};n(D);const A=[];N.slice(0,3).forEach(_=>{A.push({id:`user-${_.id}`,type:"user_created",description:`New user registered: ${_.email}`,timestamp:_.created_at,user_email:_.email})}),k.slice(0,3).forEach(_=>{const L=N.find(I=>I.id===_.user_id);A.push({id:`transaction-${_.id}`,type:"transaction_added",description:`Transaction added: $${Math.abs(_.amount).toFixed(2)} by ${(L==null?void 0:L.email)||"Unknown"}`,timestamp:_.created_at,user_email:L==null?void 0:L.email})}),S.slice(0,2).forEach(_=>{const L=N.find(I=>I.id===_.user_id);A.push({id:`goal-${_.id}`,type:"goal_created",description:`New goal created: ${_.title} by ${(L==null?void 0:L.email)||"Unknown"}`,timestamp:_.created_at,user_email:L==null?void 0:L.email})}),A.sort((_,L)=>new Date(L.timestamp).getTime()-new Date(_.timestamp).getTime()),a(A.slice(0,8));const C=[];for(let _=6;_>=0;_--){const L=new Date(T.getTime()-_*24*60*60*1e3),I=new Date(L.getFullYear(),L.getMonth(),L.getDate()),W=new Date(I.getTime()+24*60*60*1e3),G=N.filter(ce=>{const V=new Date(ce.created_at);return V>=I&&V<W}).length,Z=_===6?0:((y=C[C.length-1])==null?void 0:y.users)||0;C.push({period:L.toLocaleDateString("en-US",{month:"short",day:"numeric"}),users:G,change:G-Z})}o(C)}catch(x){console.error("Error loading system data:",x),u("Failed to load system data: "+x.message)}finally{c(!1)}},g=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y),p=y=>new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=y=>{switch(y){case"excellent":return"text-green-600 bg-green-100";case"good":return"text-blue-600 bg-blue-100";case"warning":return"text-yellow-600 bg-yellow-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},w=y=>{switch(y){case"user_created":return r.jsx(ut,{className:"h-4 w-4 text-blue-600"});case"transaction_added":return r.jsx(Pt,{className:"h-4 w-4 text-green-600"});case"goal_created":return r.jsx(hn,{className:"h-4 w-4 text-purple-600"});case"user_login":return r.jsx(Cu,{className:"h-4 w-4 text-indigo-600"});default:return r.jsx(Tn,{className:"h-4 w-4 text-gray-600"})}};return!e||e.role!=="admin"?r.jsxs(ze,{variant:"destructive",children:[r.jsx(Tr,{className:"h-4 w-4"}),r.jsx(Be,{children:"Access denied. Administrator privileges required."})]}):l?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((y,x)=>r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})})},x))})}):r.jsxs("div",{className:"space-y-6",children:[d&&r.jsx(ze,{variant:"destructive",children:r.jsx(Be,{children:d})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"System Health"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overall platform status"})]}),r.jsx(fe,{className:b(t.systemHealth),children:t.systemHealth.charAt(0).toUpperCase()+t.systemHealth.slice(1)})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold",children:t.totalUsers}),r.jsxs("p",{className:"text-xs text-green-600",children:["+",t.newUsersThisWeek," this week"]})]}),r.jsx(ut,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),r.jsx("p",{className:"text-2xl font-bold",children:t.activeUsers}),r.jsxs("p",{className:"text-xs text-gray-600",children:[(t.activeUsers/t.totalUsers*100).toFixed(1),"% of total"]})]}),r.jsx(Cu,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Transactions"}),r.jsx("p",{className:"text-2xl font-bold",children:t.totalTransactions}),r.jsxs("p",{className:"text-xs text-gray-600",children:[g(t.totalTransactionValue)," total value"]})]}),r.jsx(Pt,{className:"h-8 w-8 text-emerald-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Financial Goals"}),r.jsx("p",{className:"text-2xl font-bold",children:t.totalGoals}),r.jsxs("p",{className:"text-xs text-gray-600",children:[t.completedGoals," completed (",t.avgGoalProgress.toFixed(1),"% avg progress)"]})]}),r.jsx(hn,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"User Growth (Last 7 Days)"}),r.jsx(Ne,{children:"Daily new user registrations"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:i.map((y,x)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:y.period}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-lg font-bold",children:y.users}),x>0&&r.jsxs("span",{className:`text-xs flex items-center ${y.change>0?"text-green-600":y.change<0?"text-red-600":"text-gray-600"}`,children:[y.change>0?r.jsx(mn,{className:"h-3 w-3 mr-1"}):y.change<0?r.jsx(os,{className:"h-3 w-3 mr-1"}):null,y.change!==0&&Math.abs(y.change)]})]})]},y.period))})})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsx(oe,{children:"Recent Activity"}),r.jsx(Ne,{children:"Latest platform activity and user actions"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:s.map(y=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:w(y.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.description}),r.jsx("p",{className:"text-xs text-gray-500",children:p(y.timestamp)})]})]},y.id))})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(oe,{className:"flex items-center",children:[r.jsx(Ft,{className:"h-5 w-5 mr-2"}),"Today's Activity"]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"New Users:"}),r.jsx("span",{className:"font-medium",children:t.newUsersToday})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"System Status:"}),r.jsx(fe,{variant:"outline",className:b(t.systemHealth),children:t.systemHealth})]})]})})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(oe,{className:"flex items-center",children:[r.jsx(_u,{className:"h-5 w-5 mr-2"}),"Data Overview"]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Users:"}),r.jsx("span",{className:"font-medium",children:t.totalUsers})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Transactions:"}),r.jsx("span",{className:"font-medium",children:t.totalTransactions})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Goals:"}),r.jsx("span",{className:"font-medium",children:t.totalGoals})]})]})})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(oe,{className:"flex items-center",children:[r.jsx(kt,{className:"h-5 w-5 mr-2"}),"Success Metrics"]})}),r.jsx(K,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"User Engagement:"}),r.jsxs("span",{className:"font-medium",children:[(t.activeUsers/t.totalUsers*100).toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Goal Completion:"}),r.jsxs("span",{className:"font-medium",children:[t.totalGoals>0?(t.completedGoals/t.totalGoals*100).toFixed(1):0,"%"]})]})]})})]})]})]})},ZR=()=>{const{user:e}=Ee(),[t,n]=h.useState([]),[s,a]=h.useState([]),[i,o]=h.useState({totalUsers:0,activeUsers:0,adminUsers:0,clientUsers:0,accountantUsers:0,newUsersThisMonth:0}),[l,c]=h.useState(!0),[d,u]=h.useState(null),[f,g]=h.useState(""),[p,b]=h.useState("all"),[w,y]=h.useState(!1),[x,v]=h.useState(null),[m,N]=h.useState({email:"",role:"client",firstName:"",lastName:"",phone:""}),[k,S]=h.useState(!1);h.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&T()},[e]),h.useEffect(()=>{E()},[t,f,p]);const T=async()=>{try{c(!0),u(null);const{data:M,error:$}=await te.from("users").select("*").order("created_at",{ascending:!1});if($)throw $;const D=M||[];n(D);const A=new Date,C=new Date(A.getFullYear(),A.getMonth(),1),_={totalUsers:D.length,activeUsers:D.filter(L=>L.last_sign_in_at).length,adminUsers:D.filter(L=>L.role==="admin").length,clientUsers:D.filter(L=>L.role==="client"||L.role==="user").length,accountantUsers:D.filter(L=>L.role==="accountant").length,newUsersThisMonth:D.filter(L=>new Date(L.created_at)>=C).length};o(_)}catch(M){console.error("Error loading users:",M),u("Failed to load users: "+M.message)}finally{c(!1)}},E=()=>{let M=t;if(f){const $=f.toLowerCase();M=M.filter(D=>{var A,C,_,L;return D.email.toLowerCase().includes($)||((C=(A=D.metadata)==null?void 0:A.firstName)==null?void 0:C.toLowerCase().includes($))||((L=(_=D.metadata)==null?void 0:_.lastName)==null?void 0:L.toLowerCase().includes($))})}p!=="all"&&(M=M.filter($=>$.role===p)),a(M)},B=()=>{v(null),N({email:"",role:"client",firstName:"",lastName:"",phone:""}),y(!0)},U=M=>{var $,D,A;v(M),N({email:M.email,role:M.role,firstName:(($=M.metadata)==null?void 0:$.firstName)||"",lastName:((D=M.metadata)==null?void 0:D.lastName)||"",phone:((A=M.metadata)==null?void 0:A.phone)||""}),y(!0)},H=async()=>{if(!m.email||!m.role){u("Email and role are required");return}try{S(!0),u(null);const M={firstName:m.firstName,lastName:m.lastName,phone:m.phone};if(x){const{error:$}=await te.from("users").update({role:m.role,metadata:M,updated_at:new Date().toISOString()}).eq("id",x.id);if($)throw $}else{const{data:$,error:D}=await te.auth.admin.createUser({email:m.email,email_confirm:!0,user_metadata:M});if(D)throw D;if($.user){const{error:A}=await te.from("users").insert({id:$.user.id,email:m.email,role:m.role,metadata:M});if(A)throw A}}y(!1),T()}catch(M){console.error("Error saving user:",M),u("Failed to save user: "+M.message)}finally{S(!1)}},R=async(M,$)=>{if(confirm(`Are you sure you want to delete user ${$}? This action cannot be undone.`))try{const{error:D}=await te.auth.admin.deleteUser(M);D&&console.warn("Auth deletion failed:",D);const{error:A}=await te.from("users").delete().eq("id",M);if(A)throw A;T()}catch(D){console.error("Error deleting user:",D),u("Failed to delete user: "+D.message)}},P=M=>{switch(M){case"admin":return"bg-red-100 text-red-800";case"accountant":return"bg-blue-100 text-blue-800";case"client":case"user":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},F=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return!e||e.role!=="admin"?r.jsxs(ze,{variant:"destructive",children:[r.jsx(Tr,{className:"h-4 w-4"}),r.jsx(Be,{children:"Access denied. Administrator privileges required."})]}):l?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((M,$)=>r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})})},$))})}):r.jsxs("div",{className:"space-y-6",children:[d&&r.jsx(ze,{variant:"destructive",children:r.jsx(Be,{children:d})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold",children:i.totalUsers})]}),r.jsx(ut,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),r.jsx("p",{className:"text-2xl font-bold",children:i.activeUsers})]}),r.jsx(Cu,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),r.jsx("p",{className:"text-2xl font-bold",children:i.adminUsers})]}),r.jsx(Tr,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"New This Month"}),r.jsx("p",{className:"text-2xl font-bold",children:i.newUsersThisMonth})]}),r.jsx(Ft,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx(oe,{children:"User Management"}),r.jsx(Ne,{children:"Manage all platform users, roles, and permissions"})]}),r.jsxs(z,{onClick:B,children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add User"]})]})}),r.jsxs(K,{children:[r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{placeholder:"Search users by name or email...",value:f,onChange:M=>g(M.target.value),className:"pl-10"})]})}),r.jsxs(ve,{value:p,onValueChange:b,children:[r.jsx(me,{className:"w-40",children:r.jsx(we,{placeholder:"Filter by role"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Roles"}),r.jsx(Q,{value:"admin",children:"Admin"}),r.jsx(Q,{value:"accountant",children:"Accountant"}),r.jsx(Q,{value:"client",children:"Client"}),r.jsx(Q,{value:"user",children:"User"})]})]})]}),r.jsx("div",{className:"rounded-md border",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Role"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Created"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Last Login"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:s.map(M=>{var $,D,A,C,_;return r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:((D=($=M.metadata)==null?void 0:$.firstName)==null?void 0:D[0])||M.email[0].toUpperCase()})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[(A=M.metadata)==null?void 0:A.firstName," ",(C=M.metadata)==null?void 0:C.lastName]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(ly,{className:"h-3 w-3 mr-1"}),M.email]}),((_=M.metadata)==null?void 0:_.phone)&&r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(KC,{className:"h-3 w-3 mr-1"}),M.metadata.phone]})]})]})}),r.jsx("td",{className:"p-4",children:r.jsx(fe,{className:P(M.role),children:M.role})}),r.jsx("td",{className:"p-4 text-sm text-gray-600",children:F(M.created_at)}),r.jsx("td",{className:"p-4 text-sm text-gray-600",children:M.last_sign_in_at?F(M.last_sign_in_at):"Never"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(z,{variant:"outline",size:"sm",onClick:()=>U(M),children:r.jsx(Dn,{className:"h-3 w-3"})}),r.jsx(z,{variant:"outline",size:"sm",onClick:()=>R(M.id,M.email),className:"text-red-600 hover:text-red-700",children:r.jsx($i,{className:"h-3 w-3"})})]})})]},M.id)})})]})})}),s.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found matching your search criteria."})]})]}),r.jsx(Et,{open:w,onOpenChange:y,children:r.jsxs(ft,{className:"sm:max-w-md",children:[r.jsxs(mt,{children:[r.jsx(pt,{children:x?"Edit User":"Create New User"}),r.jsx(Rn,{children:x?"Update user information and role.":"Add a new user to the platform."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(se,{htmlFor:"email",children:"Email"}),r.jsx(ue,{id:"email",type:"email",value:m.email,onChange:M=>N($=>({...$,email:M.target.value})),disabled:!!x,placeholder:"user@example.com"})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"role",children:"Role"}),r.jsxs(ve,{value:m.role,onValueChange:M=>N($=>({...$,role:M})),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select role"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"client",children:"Client"}),r.jsx(Q,{value:"user",children:"User"}),r.jsx(Q,{value:"accountant",children:"Accountant"}),r.jsx(Q,{value:"admin",children:"Admin"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(se,{htmlFor:"firstName",children:"First Name"}),r.jsx(ue,{id:"firstName",value:m.firstName,onChange:M=>N($=>({...$,firstName:M.target.value})),placeholder:"John"})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"lastName",children:"Last Name"}),r.jsx(ue,{id:"lastName",value:m.lastName,onChange:M=>N($=>({...$,lastName:M.target.value})),placeholder:"Doe"})]})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"phone",children:"Phone"}),r.jsx(ue,{id:"phone",value:m.phone,onChange:M=>N($=>({...$,phone:M.target.value})),placeholder:"+1 (555) 123-4567"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),r.jsx(z,{onClick:H,disabled:k,children:k?"Saving...":x?"Update User":"Create User"})]})]})})]})},eA=({onBusinessAdded:e})=>{var v;const[t,n]=h.useState(!1),[s,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState(null),[d,u]=h.useState([]),[f,g]=h.useState({name:"",type:"retail",address:"",owner_id:"",monthly_fee:"29.99"}),p=["retail","restaurant","consulting","technology","healthcare","real_estate","manufacturing","service","e_commerce","other"];h.useEffect(()=>{t&&b()},[t]);const b=async()=>{o(!0);try{const{data:m,error:N}=await te.from("users").select("id, full_name, email, role").in("role",["user","admin"]).order("full_name");if(N)throw N;u(m||[])}catch(m){console.error("Error loading owners:",m),c("Failed to load potential business owners")}finally{o(!1)}},w=(m,N)=>{g(k=>({...k,[m]:N})),c(null)},y=()=>{if(!f.name||!f.type||!f.owner_id)return c("Please fill in all required fields"),!1;const m=parseFloat(f.monthly_fee);return isNaN(m)||m<0?(c("Monthly fee must be a valid number"),!1):!0},x=async()=>{if(y()){a(!0),c(null);try{const{data:m,error:N}=await te.from("businesses").insert({name:f.name,type:f.type,address:f.address||null,owner_id:f.owner_id,monthly_fee:parseFloat(f.monthly_fee)}).select().single();if(N)throw N;const k=[{business_id:m.id,type:"income",amount:1500,description:"Initial revenue setup",category:"Sales",date:new Date().toISOString().split("T")[0]},{business_id:m.id,type:"expense",amount:300,description:"Office supplies",category:"Office Expenses",date:new Date().toISOString().split("T")[0]}],{error:S}=await te.from("transactions").insert(k);S&&console.warn("Failed to create sample transactions:",S),n(!1),g({name:"",type:"retail",address:"",owner_id:"",monthly_fee:"29.99"}),e()}catch(m){console.error("Error creating business:",m),c(m.message||"Failed to create business")}finally{a(!1)}}};return r.jsxs(Et,{open:t,onOpenChange:n,children:[r.jsx(kf,{asChild:!0,children:r.jsxs(z,{children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Business"]})}),r.jsxs(ft,{className:"sm:max-w-md",children:[r.jsxs(mt,{children:[r.jsx(pt,{children:"Add New Business"}),r.jsx(Rn,{children:"Create a new business record and assign it to a user"})]}),r.jsxs("div",{className:"space-y-4",children:[l&&r.jsx(ze,{children:r.jsx(Be,{children:l})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"name",children:"Business Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{id:"name",placeholder:"Acme Corporation",value:f.name,onChange:m=>w("name",m.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"type",children:"Business Type *"}),r.jsxs(ve,{value:f.type,onValueChange:m=>w("type",m),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select type"})}),r.jsx(pe,{children:p.map(m=>r.jsx(Q,{value:m,children:m.replace("_"," ").replace(/\b\w/g,N=>N.toUpperCase())},m))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"monthly_fee",children:"Monthly Fee"}),r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{id:"monthly_fee",type:"number",step:"0.01",min:"0",placeholder:"29.99",value:f.monthly_fee,onChange:m=>w("monthly_fee",m.target.value),className:"pl-10"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"owner_id",children:"Business Owner *"}),r.jsxs(ve,{value:f.owner_id,onValueChange:m=>w("owner_id",m),disabled:i,children:[r.jsx(me,{children:r.jsx(we,{placeholder:i?"Loading owners...":"Select owner"})}),r.jsx(pe,{children:d.map(m=>r.jsx(Q,{value:m.id,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(la,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{children:m.full_name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",m.email,")"]})]})},m.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"address",children:"Business Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{id:"address",placeholder:"123 Business St, City, State 12345",value:f.address,onChange:m=>w("address",m.target.value),className:"pl-10"})]})]}),f.name&&f.owner_id&&r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Business Preview"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Name:"})," ",f.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",f.type.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Owner:"})," ",(v=d.find(m=>m.id===f.owner_id))==null?void 0:v.full_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Monthly Fee:"})," $",f.monthly_fee]})]})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:s,children:"Cancel"}),r.jsx(z,{type:"button",onClick:x,disabled:s||i,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Hl,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Business"})]})]})]})},tA=({business:e,trigger:t})=>{const[n,s]=h.useState(!1),a=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),i=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=d=>{switch(d){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";case"free":return"bg-gray-100 text-gray-800";case"basic":return"bg-blue-100 text-blue-800";case"premium":return"bg-purple-100 text-purple-800";case"enterprise":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},c=(d=>d>=1e5?{text:"High Revenue",color:"text-green-600"}:d>=5e4?{text:"Medium Revenue",color:"text-blue-600"}:d>=1e4?{text:"Growing",color:"text-yellow-600"}:{text:"Startup",color:"text-gray-600"})(e.revenue);return r.jsxs(Et,{open:n,onOpenChange:s,children:[r.jsx(kf,{asChild:!0,children:t||r.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",children:[r.jsx(Lr,{className:"h-4 w-4 mr-1"}),"View Details"]})}),r.jsxs(ft,{className:"sm:max-w-2xl",children:[r.jsxs(mt,{children:[r.jsxs(pt,{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(At,{className:"h-4 w-4 text-blue-600"})}),r.jsx("span",{children:"Business Details"})]}),r.jsxs(Rn,{children:["Complete business information for ",e.name]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-full flex items-center justify-center",children:r.jsx(At,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Business Name"}),r.jsx("p",{className:"font-medium",children:e.name})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-50 rounded-full flex items-center justify-center",children:r.jsx(wa,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Industry"}),r.jsx("p",{className:"font-medium",children:e.industry})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-50 rounded-full flex items-center justify-center",children:r.jsx(Tn,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),r.jsx(fe,{className:o(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-50 rounded-full flex items-center justify-center",children:r.jsx(la,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Owner"}),r.jsx("p",{className:"font-medium",children:e.owner}),r.jsx("p",{className:"text-xs text-gray-500",children:e.ownerEmail})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-full flex items-center justify-center",children:r.jsx(Ft,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),r.jsx("p",{className:"font-medium",children:i(e.createdDate)})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-50 rounded-full flex items-center justify-center",children:r.jsx(Ft,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Last Activity"}),r.jsx("p",{className:"font-medium",children:i(e.lastActivity)})]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Overview"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Pt,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Revenue"})]}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:a(e.revenue)}),r.jsx("p",{className:`text-sm ${c.color}`,children:c.text})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Tn,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Transactions"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.transactionCount}),r.jsx("p",{className:"text-sm text-blue-600",children:"Total transactions"})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(la,{className:"h-5 w-5 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Employees"})]}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.employeeCount||1}),r.jsx("p",{className:"text-sm text-purple-600",children:"Team members"})]})]})]}),e.subscription&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Subscription Details"}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-50 rounded-full flex items-center justify-center",children:r.jsx(At,{className:"h-4 w-4 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Current Plan"}),r.jsxs(fe,{className:o(e.subscription),children:[e.subscription.charAt(0).toUpperCase()+e.subscription.slice(1)," Plan"]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Metrics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium",children:"Average Transaction"}),r.jsx("span",{className:"text-sm text-gray-600",children:a(e.transactionCount>0?e.revenue/e.transactionCount:0)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium",children:"Revenue per Employee"}),r.jsx("span",{className:"text-sm text-gray-600",children:a(e.revenue/(e.employeeCount||1))})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium",children:"Business Age"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[Math.floor((new Date().getTime()-new Date(e.createdDate).getTime())/(1e3*3600*24))," days"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium",children:"Activity Score"}),r.jsx("span",{className:"text-sm text-gray-600",children:Math.floor((new Date().getTime()-new Date(e.lastActivity).getTime())/(1e3*3600*24))<7?"High":"Medium"})]})]})]})]})]}),r.jsx(Tt,{children:r.jsx(z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Close"})})]})]})},nA=({business:e,onBusinessUpdated:t,trigger:n})=>{const[s,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(null),[f,g]=h.useState([]),[p,b]=h.useState({name:e.name,type:e.industry,address:"",owner_id:"",monthly_fee:"29.99",status:e.status}),w=["retail","restaurant","consulting","technology","healthcare","real_estate","manufacturing","service","e_commerce","other"];h.useEffect(()=>{s&&(y(),b({name:e.name,type:e.industry,address:"",owner_id:"",monthly_fee:"29.99",status:e.status}),u(null))},[s,e]);const y=async()=>{c(!0);try{const{data:S,error:T}=await te.from("users").select("id, full_name, email, role").in("role",["user","admin"]).order("full_name");if(T)throw T;g(S||[]);const E=S==null?void 0:S.find(B=>B.email===e.ownerEmail);E&&b(B=>({...B,owner_id:E.id}))}catch(S){console.error("Error loading owners:",S),u("Failed to load business owners")}finally{c(!1)}},x=(S,T)=>{b(E=>({...E,[S]:T})),u(null)},v=()=>{if(!p.name||!p.type)return u("Please fill in all required fields"),!1;const S=parseFloat(p.monthly_fee);return isNaN(S)||S<0?(u("Monthly fee must be a valid number"),!1):!0},m=async()=>{if(v()){o(!0),u(null);try{const S={name:p.name,type:p.type,address:p.address||null,monthly_fee:parseFloat(p.monthly_fee),updated_at:new Date().toISOString()};p.owner_id&&(S.owner_id=p.owner_id);const{error:T}=await te.from("businesses").update(S).eq("id",e.id);if(T)throw T;a(!1),t()}catch(S){console.error("Error updating business:",S),u(S.message||"Failed to update business")}finally{o(!1)}}},N=async S=>{if(S!==e.status){o(!0),u(null);try{const{error:T}=await te.from("businesses").update({metadata:{status:S,statusChangedBy:"admin",statusChangedAt:new Date().toISOString()}}).eq("id",e.id);if(T)throw T;b(E=>({...E,status:S})),t()}catch(T){console.error("Error updating business status:",T),u(T.message||"Failed to update business status")}finally{o(!1)}}},k=async()=>{if(confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`)){o(!0),u(null);try{const{error:S}=await te.from("transactions").delete().eq("business_id",e.id);S&&console.warn("Error deleting transactions:",S);const{error:T}=await te.from("businesses").delete().eq("id",e.id);if(T)throw T;a(!1),t()}catch(S){console.error("Error deleting business:",S),u(S.message||"Failed to delete business")}finally{o(!1)}}};return r.jsxs(Et,{open:s,onOpenChange:a,children:[r.jsx(kf,{asChild:!0,children:n||r.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",children:[r.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Manage"]})}),r.jsxs(ft,{className:"sm:max-w-md",children:[r.jsxs(mt,{children:[r.jsx(pt,{children:"Manage Business"}),r.jsxs(Rn,{children:["Update business information and settings for ",e.name]})]}),r.jsxs("div",{className:"space-y-4",children:[d&&r.jsx(ze,{children:r.jsx(Be,{children:d})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"name",children:"Business Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{id:"name",placeholder:"Acme Corporation",value:p.name,onChange:S=>x("name",S.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"type",children:"Business Type *"}),r.jsxs(ve,{value:p.type,onValueChange:S=>x("type",S),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select type"})}),r.jsx(pe,{children:w.map(S=>r.jsx(Q,{value:S,children:S.replace("_"," ").replace(/\b\w/g,T=>T.toUpperCase())},S))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"status",children:"Status"}),r.jsxs(ve,{value:p.status,onValueChange:S=>x("status",S),children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Select status"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"active",children:"Active"}),r.jsx(Q,{value:"inactive",children:"Inactive"}),r.jsx(Q,{value:"suspended",children:"Suspended"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"monthly_fee",children:"Monthly Fee"}),r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{id:"monthly_fee",type:"number",step:"0.01",min:"0",placeholder:"29.99",value:p.monthly_fee,onChange:S=>x("monthly_fee",S.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"owner_id",children:"Change Owner"}),r.jsxs(ve,{value:p.owner_id,onValueChange:S=>x("owner_id",S),disabled:l,children:[r.jsx(me,{children:r.jsx(we,{placeholder:l?"Loading...":"Select new owner"})}),r.jsx(pe,{children:f.map(S=>r.jsx(Q,{value:S.id,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(la,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{children:S.full_name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",S.email,")"]})]})},S.id))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{htmlFor:"address",children:"Business Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{id:"address",placeholder:"123 Business St, City, State 12345",value:p.address,onChange:S=>x("address",S.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{children:"Quick Actions"}),r.jsxs("div",{className:"flex space-x-2",children:[e.status!=="active"&&r.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>N("active"),disabled:i,children:"Activate Business"}),e.status!=="suspended"&&r.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>N("suspended"),disabled:i,children:"Suspend Business"})]})]}),r.jsxs("div",{className:"border-t pt-4 space-y-2",children:[r.jsx(se,{className:"text-red-600",children:"Danger Zone"}),r.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:k,disabled:i,className:"w-full border-red-200 text-red-600 hover:bg-red-50",children:[r.jsx($i,{className:"w-4 h-4 mr-2"}),"Delete Business"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"This will permanently delete the business and all associated data."})]})]}),r.jsxs(Tt,{children:[r.jsx(z,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),r.jsx(z,{type:"button",onClick:m,disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx(Hl,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Business"})]})]})]})},rA=()=>{const[e,t]=h.useState([]),[n,s]=h.useState(null),[a,i]=h.useState(!0),[o,l]=h.useState(null),[c,d]=h.useState(""),[u,f]=h.useState("all"),[g,p]=h.useState("all"),[b,w]=h.useState("created_at"),[y,x]=h.useState("desc"),[v,m]=h.useState([]),[N,k]=h.useState(!1),S=["retail","restaurant","consulting","technology","healthcare","real_estate","manufacturing","service","e_commerce","other"];h.useEffect(()=>{T(),E()},[]);const T=async()=>{try{i(!0),l(null);const{data:D,error:A}=await te.from("businesses").select(`
          *,
          owner:users!businesses_owner_id_fkey (
            id,
            full_name,
            email,
            phone
          )
        `).order(b,{ascending:y==="asc"});if(A)throw A;const C=await Promise.all((D||[]).map(async _=>{var L;try{const{count:I}=await te.from("documents").select("*",{count:"exact",head:!0}).eq("business_id",_.id),{count:W}=await te.from("documents").select("*",{count:"exact",head:!0}).eq("business_id",_.id),{data:G}=await te.from("documents").select("created_at").eq("business_id",_.id).order("created_at",{ascending:!1}).limit(1);return{..._,owner:_.owner||{full_name:"Unknown",email:"unknown@example.com"},transaction_count:I||0,total_revenue:_.monthly_fee*12||0,last_activity:((L=G==null?void 0:G[0])==null?void 0:L.created_at)||_.created_at,employee_count:Math.floor(Math.random()*50)+1,document_count:W||0}}catch(I){return console.error("Error loading analytics for business:",_.id,I),{..._,owner:_.owner||{full_name:"Unknown",email:"unknown@example.com"},transaction_count:0,total_revenue:0,last_activity:_.created_at,employee_count:0,document_count:0}}}));t(C)}catch(D){console.error("Error loading businesses:",D),l(D.message)}finally{i(!1)}},E=async()=>{try{const{data:D,error:A}=await te.from("businesses").select("status, monthly_fee, created_at");if(A)throw A;const C=new Date,_=new Date(C.getFullYear(),C.getMonth(),1),L={total_businesses:(D==null?void 0:D.length)||0,active_businesses:(D==null?void 0:D.filter(I=>I.status==="active").length)||0,inactive_businesses:(D==null?void 0:D.filter(I=>I.status==="inactive").length)||0,suspended_businesses:(D==null?void 0:D.filter(I=>I.status==="suspended").length)||0,total_revenue:(D==null?void 0:D.reduce((I,W)=>I+(W.monthly_fee||0),0))||0,avg_monthly_fee:D!=null&&D.length?D.reduce((I,W)=>I+(W.monthly_fee||0),0)/D.length:0,new_this_month:(D==null?void 0:D.filter(I=>new Date(I.created_at)>=_).length)||0};s(L)}catch(D){console.error("Error loading stats:",D)}},B=async()=>{k(!0),await T(),await E(),k(!1)},U=()=>{T(),E()},H=async D=>{if(confirm("Are you sure you want to delete this business? This action cannot be undone."))try{const{error:A}=await te.from("businesses").delete().eq("id",D);if(A)throw A;t(C=>C.filter(_=>_.id!==D)),E()}catch(A){console.error("Error deleting business:",A),l(A.message)}},R=async D=>{if(v.length!==0)try{const{error:A}=await te.from("businesses").update({status:D,updated_at:new Date().toISOString()}).in("id",v);if(A)throw A;m([]),T(),E()}catch(A){console.error("Error updating business status:",A),l(A.message)}},P=e.filter(D=>{var I,W,G,Z;const A=c.toLowerCase(),C=D.name.toLowerCase().includes(A)||(((W=(I=D.owner)==null?void 0:I.full_name)==null?void 0:W.toLowerCase())||"").includes(A)||(((Z=(G=D.owner)==null?void 0:G.email)==null?void 0:Z.toLowerCase())||"").includes(A),_=u==="all"||D.status===u,L=g==="all"||D.type===g;return C&&_&&L}),F=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(D),M=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",$=D=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",suspended:"bg-red-100 text-red-800"})[D]||"bg-gray-100 text-gray-800";return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Hl,{className:"h-8 w-8 animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Total Businesses"}),r.jsx(At,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.total_businesses}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",n.new_this_month," this month"]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Active Businesses"}),r.jsx(Tn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.active_businesses}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(n.active_businesses/n.total_businesses*100).toFixed(1),"% of total"]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Monthly Revenue"}),r.jsx(Pt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold",children:F(n.total_revenue)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",F(n.avg_monthly_fee)]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(oe,{className:"text-sm font-medium",children:"Suspended"}),r.jsx(ju,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.suspended_businesses}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Require attention"})]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(oe,{children:"Business Management"}),r.jsx(Ne,{children:"Manage all businesses on the platform"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(z,{variant:"outline",size:"sm",onClick:B,disabled:N,children:[r.jsx(ja,{className:`h-4 w-4 mr-2 ${N?"animate-spin":""}`}),"Refresh"]}),r.jsx(eA,{onBusinessAdded:U,children:r.jsxs(z,{size:"sm",children:[r.jsx(tt,{className:"h-4 w-4 mr-2"}),"Add Business"]})})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{placeholder:"Search businesses, owners, or emails...",value:c,onChange:D=>d(D.target.value),className:"pl-10"})]}),r.jsxs(ve,{value:u,onValueChange:f,children:[r.jsx(me,{className:"w-full sm:w-[150px]",children:r.jsx(we,{placeholder:"Status"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Status"}),r.jsx(Q,{value:"active",children:"Active"}),r.jsx(Q,{value:"inactive",children:"Inactive"}),r.jsx(Q,{value:"suspended",children:"Suspended"})]})]}),r.jsxs(ve,{value:g,onValueChange:p,children:[r.jsx(me,{className:"w-full sm:w-[150px]",children:r.jsx(we,{placeholder:"Type"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Types"}),S.map(D=>r.jsx(Q,{value:D,children:D.charAt(0).toUpperCase()+D.slice(1).replace("_"," ")},D))]})]})]}),v.length>0&&r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg mt-4",children:[r.jsxs("span",{className:"text-sm text-blue-800",children:[v.length," business(es) selected"]}),r.jsxs("div",{className:"flex gap-2 ml-auto",children:[r.jsx(z,{size:"sm",variant:"outline",onClick:()=>R("active"),children:"Set Active"}),r.jsx(z,{size:"sm",variant:"outline",onClick:()=>R("inactive"),children:"Set Inactive"}),r.jsx(z,{size:"sm",variant:"outline",onClick:()=>R("suspended"),children:"Suspend"}),r.jsx(z,{size:"sm",variant:"outline",onClick:()=>m([]),children:"Clear"})]})]})]}),r.jsxs(K,{children:[o&&r.jsxs(ze,{className:"mb-4",children:[r.jsx(ju,{className:"h-4 w-4"}),r.jsx(Be,{children:o})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left p-2",children:r.jsx("input",{type:"checkbox",checked:v.length===P.length&&P.length>0,onChange:D=>{D.target.checked?m(P.map(A=>A.id)):m([])}})}),r.jsx("th",{className:"text-left p-2 font-medium",children:"Business"}),r.jsx("th",{className:"text-left p-2 font-medium",children:"Owner"}),r.jsx("th",{className:"text-left p-2 font-medium",children:"Type"}),r.jsx("th",{className:"text-left p-2 font-medium",children:"Status"}),r.jsx("th",{className:"text-left p-2 font-medium",children:"Revenue"}),r.jsx("th",{className:"text-left p-2 font-medium",children:"Created"}),r.jsx("th",{className:"text-left p-2 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:P.map(D=>{var A,C,_,L,I,W,G,Z;return r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"checkbox",checked:v.includes(D.id),onChange:ce=>{ce.target.checked?m(V=>[...V,D.id]):m(V=>V.filter(ee=>ee!==D.id))}})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:D.name}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(Xh,{className:"h-3 w-3 mr-1"}),D.address||"No address"]})]})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:((A=D.owner)==null?void 0:A.full_name)||"Unknown"}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(ly,{className:"h-3 w-3 mr-1"}),((C=D.owner)==null?void 0:C.email)||"unknown@example.com"]})]})}),r.jsx("td",{className:"p-2",children:r.jsx(fe,{variant:"outline",children:((_=D.type)==null?void 0:_.charAt(0).toUpperCase())+((L=D.type)==null?void 0:L.slice(1).replace("_"," "))})}),r.jsx("td",{className:"p-2",children:r.jsx(fe,{className:$(D.status||"inactive"),children:D.status||"Inactive"})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:[F(D.monthly_fee||0),"/mo"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[D.document_count," docs"]})]})}),r.jsx("td",{className:"p-2",children:r.jsx("div",{className:"text-sm",children:M(D.created_at)})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tA,{business:{id:D.id,name:D.name,owner:((I=D.owner)==null?void 0:I.full_name)||"Unknown",ownerEmail:((W=D.owner)==null?void 0:W.email)||"unknown@example.com",industry:D.type||"Unknown",status:D.status||"inactive",createdDate:D.created_at||new Date().toISOString(),revenue:D.total_revenue,employeeCount:D.employee_count,subscription:"basic",lastActivity:D.last_activity,transactionCount:D.transaction_count},trigger:r.jsx(z,{size:"sm",variant:"outline",children:r.jsx(Lr,{className:"h-4 w-4"})})}),r.jsx(nA,{business:{id:D.id,name:D.name,owner:((G=D.owner)==null?void 0:G.full_name)||"Unknown",ownerEmail:((Z=D.owner)==null?void 0:Z.email)||"unknown@example.com",industry:D.type||"Unknown",status:D.status||"inactive",createdDate:D.created_at||new Date().toISOString(),revenue:D.total_revenue,employeeCount:D.employee_count,subscription:"basic",lastActivity:D.last_activity,transactionCount:D.transaction_count},onBusinessUpdated:U,trigger:r.jsx(z,{size:"sm",variant:"outline",children:r.jsx(Dn,{className:"h-4 w-4"})})}),r.jsx(z,{size:"sm",variant:"outline",onClick:()=>H(D.id),className:"text-red-600 hover:text-red-700",children:r.jsx($i,{className:"h-4 w-4"})})]})})]},D.id)})})]}),P.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:e.length===0?"No businesses found":"No businesses match your filters"})]})]})]})]})},sA=()=>{const{user:e}=Ee(),[t,n]=h.useState([]),[s,a]=h.useState([]),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState({totalIncome:0,totalExpenses:0,netFlow:0,totalGoalTargets:0,totalGoalProgress:0,avgGoalCompletion:0,transactionCount:0,activeGoalsCount:0,topSpendingCategory:"",topIncomeSource:""}),[f,g]=h.useState(!0),[p,b]=h.useState(null),[w,y]=h.useState(""),[x,v]=h.useState("all"),[m,N]=h.useState("all"),[k,S]=h.useState("all");h.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&T()},[e]),h.useEffect(()=>{B()},[t,s,w,x,m,k]);const T=async()=>{try{g(!0),b(null);const[P,F,M]=await Promise.all([te.from("transactions").select("*").order("created_at",{ascending:!1}),te.from("financial_goals").select("*").order("created_at",{ascending:!1}),te.from("users").select("id, email, metadata")]);if(P.error)throw P.error;if(F.error)throw F.error;if(M.error)throw M.error;const $=P.data||[],D=F.data||[],A=M.data||[],C=$.map(L=>{var W,G;const I=A.find(Z=>Z.id===L.user_id);return{...L,user_email:I==null?void 0:I.email,user_name:(W=I==null?void 0:I.metadata)!=null&&W.firstName?`${I.metadata.firstName} ${I.metadata.lastName||""}`.trim():(G=I==null?void 0:I.email)==null?void 0:G.split("@")[0]}}),_=D.map(L=>{var W,G;const I=A.find(Z=>Z.id===L.user_id);return{...L,user_email:I==null?void 0:I.email,user_name:(W=I==null?void 0:I.metadata)!=null&&W.firstName?`${I.metadata.firstName} ${I.metadata.lastName||""}`.trim():(G=I==null?void 0:I.email)==null?void 0:G.split("@")[0],progress_percentage:L.target_amount>0?L.current_amount/L.target_amount*100:0}});n(C),a(_),E(C,_)}catch(P){console.error("Error loading financial data:",P),b("Failed to load financial data: "+P.message)}finally{g(!1)}},E=(P,F)=>{const M=P.filter(V=>V.type==="income"),$=P.filter(V=>V.type==="expense"),D=M.reduce((V,ee)=>V+ee.amount,0),A=$.reduce((V,ee)=>V+Math.abs(ee.amount),0),C={},_={};$.forEach(V=>{const ee=V.category_name||"Uncategorized";C[ee]=(C[ee]||0)+Math.abs(V.amount)}),M.forEach(V=>{const ee=V.category_name||"Other";_[ee]=(_[ee]||0)+V.amount});const L=Object.keys(C).reduce((V,ee)=>C[V]>C[ee]?V:ee,""),I=Object.keys(_).reduce((V,ee)=>_[V]>_[ee]?V:ee,""),W=F.reduce((V,ee)=>V+ee.target_amount,0),G=F.reduce((V,ee)=>V+ee.current_amount,0),Z=F.length>0?F.reduce((V,ee)=>V+ee.progress_percentage,0)/F.length:0,ce=F.filter(V=>V.status==="active").length;u({totalIncome:D,totalExpenses:A,netFlow:D-A,totalGoalTargets:W,totalGoalProgress:G,avgGoalCompletion:Z,transactionCount:P.length,activeGoalsCount:ce,topSpendingCategory:L,topIncomeSource:I})},B=()=>{let P=t,F=s;if(w){const M=w.toLowerCase();P=P.filter($=>{var D,A,C,_;return((D=$.description)==null?void 0:D.toLowerCase().includes(M))||((A=$.category_name)==null?void 0:A.toLowerCase().includes(M))||((C=$.user_email)==null?void 0:C.toLowerCase().includes(M))||((_=$.user_name)==null?void 0:_.toLowerCase().includes(M))}),F=F.filter($=>{var D,A,C,_;return((D=$.title)==null?void 0:D.toLowerCase().includes(M))||((A=$.category)==null?void 0:A.toLowerCase().includes(M))||((C=$.user_email)==null?void 0:C.toLowerCase().includes(M))||((_=$.user_name)==null?void 0:_.toLowerCase().includes(M))})}if(x!=="all"&&(P=P.filter(M=>M.type===x)),m!=="all"){const M=new Date;let $=new Date;switch(m){case"today":$.setHours(0,0,0,0);break;case"week":$.setDate(M.getDate()-7);break;case"month":$.setMonth(M.getMonth()-1);break;case"quarter":$.setMonth(M.getMonth()-3);break}P=P.filter(D=>new Date(D.date)>=$)}k!=="all"&&(F=F.filter(M=>M.status===k)),o(P),c(F)},U=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),H=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=P=>P>=100?"text-green-600":P>=75?"text-blue-600":P>=50?"text-yellow-600":"text-red-600";return!e||e.role!=="admin"?r.jsxs(ze,{variant:"destructive",children:[r.jsx(Tr,{className:"h-4 w-4"}),r.jsx(Be,{children:"Access denied. Administrator privileges required."})]}):f?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((P,F)=>r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})})},F))})}):r.jsxs("div",{className:"space-y-6",children:[p&&r.jsx(ze,{variant:"destructive",children:r.jsx(Be,{children:p})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Income"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:U(d.totalIncome)}),r.jsx("p",{className:"text-xs text-gray-600",children:d.topIncomeSource})]}),r.jsx(mn,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Expenses"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:U(d.totalExpenses)}),r.jsx("p",{className:"text-xs text-gray-600",children:d.topSpendingCategory})]}),r.jsx(os,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Net Flow"}),r.jsx("p",{className:`text-2xl font-bold ${d.netFlow>=0?"text-green-600":"text-red-600"}`,children:U(d.netFlow)}),r.jsxs("p",{className:"text-xs text-gray-600",children:[d.transactionCount," transactions"]})]}),r.jsx(ef,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Goal Progress"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:U(d.totalGoalProgress)}),r.jsxs("p",{className:"text-xs text-gray-600",children:[d.avgGoalCompletion.toFixed(1),"% avg completion"]})]}),r.jsx(hn,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs(oe,{className:"flex items-center",children:[r.jsx(oy,{className:"h-5 w-5 mr-2"}),"Filters"]})}),r.jsx(K,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{placeholder:"Search transactions, goals, users...",value:w,onChange:P=>y(P.target.value),className:"pl-10"})]}),r.jsxs(ve,{value:x,onValueChange:v,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Transaction type"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Types"}),r.jsx(Q,{value:"income",children:"Income"}),r.jsx(Q,{value:"expense",children:"Expense"})]})]}),r.jsxs(ve,{value:m,onValueChange:N,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Date range"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Time"}),r.jsx(Q,{value:"today",children:"Today"}),r.jsx(Q,{value:"week",children:"Last Week"}),r.jsx(Q,{value:"month",children:"Last Month"}),r.jsx(Q,{value:"quarter",children:"Last Quarter"})]})]}),r.jsxs(ve,{value:k,onValueChange:S,children:[r.jsx(me,{children:r.jsx(we,{placeholder:"Goal status"})}),r.jsxs(pe,{children:[r.jsx(Q,{value:"all",children:"All Goals"}),r.jsx(Q,{value:"active",children:"Active"}),r.jsx(Q,{value:"completed",children:"Completed"}),r.jsx(Q,{value:"paused",children:"Paused"})]})]})]})})]}),r.jsxs(Tf,{defaultValue:"transactions",className:"space-y-6",children:[r.jsxs(fc,{className:"grid grid-cols-2 w-full",children:[r.jsx(ln,{value:"transactions",children:"All Transactions"}),r.jsx(ln,{value:"goals",children:"Financial Goals"})]}),r.jsx(cn,{value:"transactions",className:"space-y-6",children:r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx(oe,{children:"All Platform Transactions"}),r.jsxs(Ne,{children:["Complete view of all user transactions (",i.length," shown)"]})]}),r.jsxs(z,{variant:"outline",size:"sm",children:[r.jsx(Si,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),r.jsxs(K,{children:[r.jsx("div",{className:"rounded-md border",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Description"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Category"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Amount"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Type"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Date"})]})}),r.jsx("tbody",{children:i.slice(0,50).map(P=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:P.user_name}),r.jsx("p",{className:"text-sm text-gray-500",children:P.user_email})]})}),r.jsx("td",{className:"p-4",children:r.jsx("p",{className:"font-medium",children:P.description||"No description"})}),r.jsx("td",{className:"p-4",children:r.jsx(fe,{variant:"outline",children:P.category_name||"Uncategorized"})}),r.jsx("td",{className:"p-4",children:r.jsxs("p",{className:`font-bold ${P.type==="income"?"text-green-600":"text-red-600"}`,children:[P.type==="income"?"+":"-",U(Math.abs(P.amount))]})}),r.jsx("td",{className:"p-4",children:r.jsx(fe,{className:P.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:P.type})}),r.jsx("td",{className:"p-4 text-sm text-gray-600",children:H(P.date)})]},P.id))})]})})}),i.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transactions found matching your criteria."}),i.length>50&&r.jsxs("div",{className:"text-center py-4 text-gray-500",children:["Showing first 50 of ",i.length," transactions."]})]})]})}),r.jsx(cn,{value:"goals",className:"space-y-6",children:r.jsxs(q,{children:[r.jsx(ie,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx(oe,{children:"All Financial Goals"}),r.jsxs(Ne,{children:["Complete view of all user financial goals (",l.length," shown)"]})]}),r.jsxs(z,{variant:"outline",size:"sm",children:[r.jsx(Si,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),r.jsxs(K,{children:[r.jsx("div",{className:"rounded-md border",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Goal"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Category"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Progress"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Target"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Deadline"})]})}),r.jsx("tbody",{children:l.slice(0,50).map(P=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:P.user_name}),r.jsx("p",{className:"text-sm text-gray-500",children:P.user_email})]})}),r.jsx("td",{className:"p-4",children:r.jsx("p",{className:"font-medium",children:P.title})}),r.jsx("td",{className:"p-4",children:r.jsx(fe,{variant:"outline",children:P.category})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:U(P.current_amount)}),r.jsxs("span",{className:R(P.progress_percentage),children:[P.progress_percentage.toFixed(1),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${P.progress_percentage>=100?"bg-green-600":"bg-blue-600"}`,style:{width:`${Math.min(P.progress_percentage,100)}%`}})})]})}),r.jsx("td",{className:"p-4 font-medium",children:U(P.target_amount)}),r.jsx("td",{className:"p-4",children:r.jsx(fe,{className:P.status==="completed"?"bg-green-100 text-green-800":P.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:P.status})}),r.jsx("td",{className:"p-4 text-sm text-gray-600",children:P.deadline?H(P.deadline):"No deadline"})]},P.id))})]})})}),l.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No goals found matching your criteria."}),l.length>50&&r.jsxs("div",{className:"text-center py-4 text-gray-500",children:["Showing first 50 of ",l.length," goals."]})]})]})})]})]})};var mc="Switch",[aA,MA]=Mn(mc),[iA,oA]=aA(mc),Aj=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[g,p]=h.useState(null),b=ke(t,m=>p(m)),w=h.useRef(!1),y=g?u||!!g.closest("form"):!0,[x,v]=cs({prop:a,defaultProp:i??!1,onChange:d,caller:mc});return r.jsxs(iA,{scope:n,checked:x,disabled:l,children:[r.jsx(ge.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":Ij(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:le(e.onClick,m=>{v(N=>!N),y&&(w.current=m.isPropagationStopped(),w.current||m.stopPropagation())})}),y&&r.jsx(Oj,{control:g,bubbles:!w.current,name:s,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Aj.displayName=mc;var Dj="SwitchThumb",Mj=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=oA(Dj,n);return r.jsx(ge.span,{"data-state":Ij(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});Mj.displayName=Dj;var lA="SwitchBubbleInput",Oj=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=h.useRef(null),l=ke(o,i),c=r0(n),d=Vy(t);return h.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const b=new Event("click",{bubbles:s});p.call(u,n),u.dispatchEvent(b)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Oj.displayName=lA;function Ij(e){return e?"checked":"unchecked"}var Lj=Aj,cA=Mj;const As=h.forwardRef(({className:e,...t},n)=>r.jsx(Lj,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-slate-900 data-[state=unchecked]:bg-slate-200 dark:focus-visible:ring-slate-300 dark:focus-visible:ring-offset-slate-950 dark:data-[state=checked]:bg-slate-50 dark:data-[state=unchecked]:bg-slate-800",e),...t,ref:n,children:r.jsx(cA,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 dark:bg-slate-950")})}));As.displayName=Lj.displayName;const dA=()=>{const{user:e}=Ee(),[t,n]=h.useState({database:"healthy",auth:"healthy",storage:"healthy",api:"healthy",uptime:99.9,lastChecked:new Date().toISOString()}),[s,a]=h.useState([{id:"rls_enabled",name:"Row Level Security (RLS)",description:"Enable RLS on all user tables to ensure data isolation",enabled:!0,level:"critical"},{id:"email_verification",name:"Email Verification Required",description:"Require email verification for new user accounts",enabled:!0,level:"high"},{id:"password_complexity",name:"Password Complexity",description:"Enforce strong password requirements",enabled:!0,level:"high"},{id:"session_management",name:"Session Management",description:"Automatic session timeout and renewal",enabled:!0,level:"medium"},{id:"audit_logging",name:"Audit Logging",description:"Log all user actions and system events",enabled:!0,level:"high"},{id:"rate_limiting",name:"Rate Limiting",description:"Limit API requests per user/IP",enabled:!1,level:"medium"}]),[i,o]=h.useState({appName:"SwiftBooks",allowRegistration:!0,emailVerificationRequired:!0,passwordMinLength:8,sessionTimeout:24,maxLoginAttempts:5,enableAuditLogs:!0,maintenanceMode:!1,backupFrequency:"daily"}),[l,c]=h.useState([]),[d,u]=h.useState(!0),[f,g]=h.useState(null),[p,b]=h.useState(!1);h.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&w()},[e]);const w=async()=>{try{u(!0),g(null),await y(),x()}catch(E){console.error("Error loading system data:",E),g("Failed to load system data: "+E.message)}finally{u(!1)}},y=async()=>{try{const{error:E}=await te.from("users").select("id").limit(1),{error:B}=await te.auth.getSession();n({database:E?"error":"healthy",auth:B?"error":"healthy",storage:"healthy",api:"healthy",uptime:99.9,lastChecked:new Date().toISOString()})}catch(E){console.error("Health check failed:",E)}},x=()=>{const E=[{id:"1",timestamp:new Date().toISOString(),user_id:"user-1",user_email:"admin@swiftbooks.com",action:"CREATE_USER",resource:"users",details:"Created new user account",ip_address:"192.168.1.100"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),user_id:"user-2",user_email:"client@swiftbooks.com",action:"UPDATE_TRANSACTION",resource:"transactions",details:"Modified transaction amount",ip_address:"192.168.1.101"},{id:"3",timestamp:new Date(Date.now()-72e5).toISOString(),user_id:"user-3",user_email:"accountant@swiftbooks.com",action:"DELETE_GOAL",resource:"financial_goals",details:"Deleted financial goal",ip_address:"192.168.1.102"}];c(E)},v=E=>{a(B=>B.map(U=>U.id===E?{...U,enabled:!U.enabled}:U))},m=(E,B)=>{o(U=>({...U,[E]:B}))},N=async()=>{try{b(!0),g(null),console.log("Saving platform settings:",i),await new Promise(E=>setTimeout(E,1e3)),alert("Platform settings saved successfully!")}catch(E){g("Failed to save settings: "+E.message)}finally{b(!1)}},k=E=>{switch(E){case"healthy":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},S=E=>{switch(E){case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},T=E=>new Date(E).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return!e||e.role!=="admin"?r.jsxs(ze,{variant:"destructive",children:[r.jsx(Tr,{className:"h-4 w-4"}),r.jsx(Be,{children:"Access denied. Administrator privileges required."})]}):d?r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((E,B)=>r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})})},B))})}):r.jsxs("div",{className:"space-y-6",children:[f&&r.jsx(ze,{variant:"destructive",children:r.jsx(Be,{children:f})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database"}),r.jsx(fe,{className:k(t.database),children:t.database})]}),r.jsx(_u,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Authentication"}),r.jsx(fe,{className:k(t.auth),children:t.auth})]}),r.jsx(WC,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"API"}),r.jsx(fe,{className:k(t.api),children:t.api})]}),r.jsx(QC,{className:"h-8 w-8 text-purple-600"})]})})}),r.jsx(q,{children:r.jsx(K,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Uptime"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[t.uptime,"%"]})]}),r.jsx(wa,{className:"h-8 w-8 text-emerald-600"})]})})})]}),r.jsxs(Tf,{defaultValue:"security",className:"space-y-6",children:[r.jsxs(fc,{className:"grid grid-cols-4 w-full",children:[r.jsx(ln,{value:"security",children:"Security Policies"}),r.jsx(ln,{value:"settings",children:"Platform Settings"}),r.jsx(ln,{value:"audit",children:"Audit Logs"}),r.jsx(ln,{value:"maintenance",children:"Maintenance"})]}),r.jsx(cn,{value:"security",className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{className:"flex items-center",children:[r.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Security Policies"]}),r.jsx(Ne,{children:"Manage security policies and access controls for the platform"})]}),r.jsx(K,{children:r.jsx("div",{className:"space-y-4",children:s.map(E=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"font-medium",children:E.name}),r.jsx(fe,{className:S(E.level),children:E.level})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.description})]}),r.jsx(As,{checked:E.enabled,onCheckedChange:()=>v(E.id)})]},E.id))})})]})}),r.jsx(cn,{value:"settings",className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{className:"flex items-center",children:[r.jsx(Zh,{className:"h-5 w-5 mr-2"}),"Platform Settings"]}),r.jsx(Ne,{children:"Configure global platform settings and behavior"})]}),r.jsxs(K,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(se,{htmlFor:"appName",children:"Application Name"}),r.jsx(ue,{id:"appName",value:i.appName,onChange:E=>m("appName",E.target.value)})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"passwordMinLength",children:"Minimum Password Length"}),r.jsx(ue,{id:"passwordMinLength",type:"number",value:i.passwordMinLength,onChange:E=>m("passwordMinLength",parseInt(E.target.value))})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"sessionTimeout",children:"Session Timeout (hours)"}),r.jsx(ue,{id:"sessionTimeout",type:"number",value:i.sessionTimeout,onChange:E=>m("sessionTimeout",parseInt(E.target.value))})]}),r.jsxs("div",{children:[r.jsx(se,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),r.jsx(ue,{id:"maxLoginAttempts",type:"number",value:i.maxLoginAttempts,onChange:E=>m("maxLoginAttempts",parseInt(E.target.value))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(se,{children:"Allow User Registration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Allow new users to create accounts"})]}),r.jsx(As,{checked:i.allowRegistration,onCheckedChange:E=>m("allowRegistration",E)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(se,{children:"Email Verification Required"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Require email verification for new accounts"})]}),r.jsx(As,{checked:i.emailVerificationRequired,onCheckedChange:E=>m("emailVerificationRequired",E)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(se,{children:"Enable Audit Logs"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Log all user actions and system events"})]}),r.jsx(As,{checked:i.enableAuditLogs,onCheckedChange:E=>m("enableAuditLogs",E)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(se,{children:"Maintenance Mode"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enable maintenance mode (blocks user access)"})]}),r.jsx(As,{checked:i.maintenanceMode,onCheckedChange:E=>m("maintenanceMode",E)})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(z,{onClick:N,disabled:p,children:p?"Saving...":"Save Settings"})})]})]})}),r.jsx(cn,{value:"audit",className:"space-y-6",children:r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{className:"flex items-center",children:[r.jsx(Lr,{className:"h-5 w-5 mr-2"}),"Audit Logs"]}),r.jsx(Ne,{children:"Track all user actions and system events"})]}),r.jsxs(K,{children:[r.jsx("div",{className:"rounded-md border",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium",children:"Timestamp"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Action"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Resource"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"Details"}),r.jsx("th",{className:"text-left p-4 font-medium",children:"IP Address"})]})}),r.jsx("tbody",{children:l.map(E=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"p-4 text-sm text-gray-600",children:T(E.timestamp)}),r.jsxs("td",{className:"p-4",children:[r.jsx("p",{className:"font-medium",children:E.user_email}),r.jsx("p",{className:"text-xs text-gray-500",children:E.user_id})]}),r.jsx("td",{className:"p-4",children:r.jsx(fe,{variant:"outline",children:E.action})}),r.jsx("td",{className:"p-4 text-sm",children:E.resource}),r.jsx("td",{className:"p-4 text-sm",children:E.details}),r.jsx("td",{className:"p-4 text-sm text-gray-600",children:E.ip_address})]},E.id))})]})})}),l.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No audit logs available."})]})]})}),r.jsx(cn,{value:"maintenance",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{className:"flex items-center",children:[r.jsx(hy,{className:"h-5 w-5 mr-2"}),"System Actions"]}),r.jsx(Ne,{children:"Perform system maintenance and administrative tasks"})]}),r.jsxs(K,{className:"space-y-4",children:[r.jsxs(z,{variant:"outline",className:"w-full",children:[r.jsx(_u,{className:"h-4 w-4 mr-2"}),"Run Database Backup"]}),r.jsxs(z,{variant:"outline",className:"w-full",children:[r.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Clear System Cache"]}),r.jsxs(z,{variant:"outline",className:"w-full",children:[r.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Generate System Report"]}),r.jsxs(z,{variant:"outline",className:"w-full",children:[r.jsx(ut,{className:"h-4 w-4 mr-2"}),"Export User Data"]})]})]}),r.jsxs(q,{children:[r.jsxs(ie,{children:[r.jsxs(oe,{className:"flex items-center",children:[r.jsx(es,{className:"h-5 w-5 mr-2"}),"System Information"]}),r.jsx(Ne,{children:"Current system status and information"})]}),r.jsxs(K,{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Last Health Check:"}),r.jsx("span",{className:"text-sm font-medium",children:T(t.lastChecked)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Backup Frequency:"}),r.jsx("span",{className:"text-sm font-medium",children:i.backupFrequency})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Maintenance Mode:"}),r.jsx(fe,{className:i.maintenanceMode?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:i.maintenanceMode?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Audit Logs:"}),r.jsx(fe,{className:i.enableAuditLogs?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:i.enableAuditLogs?"Enabled":"Disabled"})]})]})]})]})})]})]})},uA=()=>{const{user:e}=Ee();if(!e)return r.jsx(Ye,{to:"/login",replace:!0});switch(e.role){case"client":case"user":return r.jsx(Ye,{to:"/user/overview",replace:!0});case"accountant":return r.jsx(Ye,{to:"/accountant/overview",replace:!0});case"admin":return r.jsx(Ye,{to:"/admin/overview",replace:!0});default:return r.jsx(Ye,{to:"/login",replace:!0})}},pd=({children:e,requiredRole:t})=>{const{user:n,loading:s}=Ee();if(s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!n)return r.jsx(Ye,{to:"/login",replace:!0});if(!(!t||(t==="client"||t==="user")&&(n.role==="client"||n.role==="user")?!0:n.role===t))switch(n.role){case"client":case"user":return r.jsx(Ye,{to:"/user/overview",replace:!0});case"accountant":return r.jsx(Ye,{to:"/accountant/overview",replace:!0});case"admin":return r.jsx(Ye,{to:"/admin/overview",replace:!0});default:return r.jsx(Ye,{to:"/login",replace:!0})}return r.jsx(r.Fragment,{children:e})},hA=()=>{const{authenticated:e,user:t,loading:n}=Qv(),s=An();if(!n&&e&&t&&s.pathname==="/")switch(t.role){case"client":case"user":return r.jsx(Ye,{to:"/user/overview",replace:!0});case"accountant":return r.jsx(Ye,{to:"/accountant/overview",replace:!0});case"admin":return r.jsx(Ye,{to:"/admin/overview",replace:!0});default:return r.jsx(Ye,{to:"/login",replace:!0})}return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?null:r.jsx(Ye,{to:"/login",replace:!0})},fA=()=>{const{authenticated:e,loading:t}=Ee();return t?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?r.jsx(Ye,{to:"/",replace:!0}):r.jsx(ZC,{})},mA=()=>{const{user:e}=Ee();if(!e)return r.jsx(Ye,{to:"/login",replace:!0});switch(e.role){case"client":case"user":return r.jsx(ek,{});case"accountant":return r.jsx(tk,{});case"admin":return r.jsx(nk,{});default:return r.jsx(Ye,{to:"/login",replace:!0})}},pA=()=>r.jsxs(h_,{children:[r.jsx(Pe,{path:"/",element:r.jsx(hA,{})}),r.jsx(Pe,{path:"/login",element:r.jsx(fA,{})}),r.jsx(Pe,{path:"/dashboard",element:r.jsx(uA,{})}),r.jsx(Pe,{path:"/test",element:r.jsx(mA,{})}),r.jsxs(Pe,{path:"/user",element:r.jsx(pd,{requiredRole:"client",children:r.jsx(SR,{children:r.jsx(Wc,{})})}),children:[r.jsx(Pe,{index:!0,element:r.jsx(Xp,{})}),r.jsx(Pe,{path:"overview",element:r.jsx(Xp,{})}),r.jsx(Pe,{path:"transactions",element:r.jsx(BR,{})}),r.jsx(Pe,{path:"goals",element:r.jsx(VR,{})}),r.jsx(Pe,{path:"analytics",element:r.jsx(qR,{})}),r.jsx(Pe,{path:"documents",element:r.jsx(YR,{})}),r.jsx(Pe,{path:"settings",element:r.jsx(KR,{})})]}),r.jsxs(Pe,{path:"/accountant",element:r.jsx(pd,{requiredRole:"accountant",children:r.jsx(CR,{children:r.jsx(Wc,{})})}),children:[r.jsx(Pe,{index:!0,element:r.jsx(Zp,{})}),r.jsx(Pe,{path:"overview",element:r.jsx(Zp,{})}),r.jsx(Pe,{path:"clients",element:r.jsx(QR,{})}),r.jsx(Pe,{path:"tasks",element:r.jsx(JR,{})}),r.jsx(Pe,{path:"reports",element:r.jsx(XR,{})})]}),r.jsxs(Pe,{path:"/admin",element:r.jsx(pd,{requiredRole:"admin",children:r.jsx(kR,{children:r.jsx(Wc,{})})}),children:[r.jsx(Pe,{index:!0,element:r.jsx(eg,{})}),r.jsx(Pe,{path:"overview",element:r.jsx(eg,{})}),r.jsx(Pe,{path:"users",element:r.jsx(ZR,{})}),r.jsx(Pe,{path:"businesses",element:r.jsx(rA,{})}),r.jsx(Pe,{path:"financial",element:r.jsx(sA,{})}),r.jsx(Pe,{path:"system",element:r.jsx(dA,{})})]}),r.jsx(Pe,{path:"*",element:r.jsx(Ye,{to:"/",replace:!0})})]}),gA=()=>r.jsx($2,{children:r.jsx(y_,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(pA,{}),r.jsx(Tk,{position:"top-right"})]})})});gd.createRoot(document.getElementById("root")).render(r.jsx(X.StrictMode,{children:r.jsx(gA,{})}));
//# sourceMappingURL=index-DKvsW3-u.js.map
